(window.webpackJsonp=window.webpackJsonp||[]).push([[34,54,57],{541:function(t,e,n){"use strict";n.r(e);n(16),n(80),n(238);var l={props:{label:{type:String,required:!0},required:{type:Boolean,default:!1},cols:{type:Number,default:12},description:{type:String,default:""},internal:{type:String,required:!0}},setup:function(){}},o=n(63),component=Object(o.a)(l,(function(){var t=this,e=t._self._c;return e("div",{class:"col-".concat(t.cols)},[e("b-form-group",{attrs:{id:"input-group-".concat(t.internal),description:t.description}},[e("label",{attrs:{"label-for":"input-".concat(t.internal)}},[t._v("\n      "+t._s(t.label)),t.required?e("span",{staticClass:"required-star"},[t._v(" *")]):t._e()]),t._v(" "),t._t("default")],2)],1)}),[],!1,null,null,null);e.default=component.exports},544:function(t,e,n){t.exports={}},546:function(t,e,n){"use strict";n.r(e);var l={},o=(n(567),n(63)),component=Object(o.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal show",staticStyle:{display:"block"},attrs:{tabindex:"-1",role:"dialog"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.$emit("cancel")}}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._t("title")],2),t._v(" "),e("button",{staticClass:"close cross",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("cancel")}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])]),t._v(" "),e("div",{staticClass:"modal-full"},[t._t("full")],2),t._v(" "),t.$slots.full?t._e():e("div",{staticClass:"modal-body"},[t._t("body")],2),t._v(" "),t.$slots.full?t._e():e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.$emit("cancel")}}},[t._t("btnCancel",(function(){return[t._v("Cancel")]}))],2),t._v(" "),t._t("btnConfirm",(function(){return[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$emit("confirm")}}},[t._v("\n            REPLACE ME: Slot=btnConfirm\n          ")])]}))],2)])])])}),[],!1,null,"762284e4",null);e.default=component.exports},554:function(t,e,n){t.exports={}},567:function(t,e,n){"use strict";n(544)},585:function(t,e,n){"use strict";n(554)},607:function(t,e,n){"use strict";n.r(e);n(16),n(80),n(28),n(146),n(10),n(33),n(43);var l=n(9),o=n(584),r=n.n(o),c=n(542),d={components:{draggable:n.n(c).a,Multiselect:r.a},props:{internal:{type:String,required:!0},properties:{type:Object,default:function(){}},data:{type:Object,default:function(){}},bus:{type:l.default,required:!0}},data:function(){return{value:null,onTouched:!0,valid:!0,ajaxOptions:[],isLoading:!1,showSorter:!1}},computed:{state:function(){return this.onTouched?null:this.valid},items:function(){var t;return null!==(t=this.properties.items)&&void 0!==t?t:[]}},watch:{value:function(t,e){null!==e&&(this.onTouched=!1),this.checkValid(t),this.updateValues(t)}},beforeMount:function(){this.data&&(this.data.value.length>0?this.value=this.data.value:this.value=[])},created:function(){var t=this;this.bus.$on("setStatus",(function(e){t.onTouched=!1}))},mounted:function(){this.updateValues(this.value)},methods:{toggleSorter:function(){this.showSorter=!this.showSorter},asyncFind:function(t){var e=this;!t||t&&t.length<=2||(this.isLoading=!0,this.$axios.get("".concat(this.properties.endPoint,"?q=").concat(t)).then((function(t){e.ajaxOptions=t.data.results})).catch((function(t){e.$sbToast.error("Error connecting to backend")})).finally((function(){e.isLoading=!1})))},updateValues:function(t){this.$emit("updateValues",{field:this.internal,valid:this.valid,value:t.map((function(t){return t.id}))})},checkValid:function(t){this.properties.required&&(0===t.length||null==t)?this.valid=!1:this.valid=!0}}},f=(n(585),n(63)),component=Object(f.a)(d,(function(){var t=this,e=t._self._c;return e("CommonAutolayoutLabelWrapper",{attrs:{label:t.properties.title,description:t.properties.description,required:t.properties.required,internal:t.internal}},[t.valid||t.onTouched?t._e():e("div",{staticClass:"input-feedback",attrs:{id:"input-".concat(t.internal,"-feedback")}},[t._v("\n    "+t._s(t.$t("common.required"))+"\n  ")]),t._v(" "),t.properties.lazyLoad?e("Multiselect",t._b({attrs:{id:"ajax",label:"label",options:t.ajaxOptions,"track-by":"id",multiple:!0,searchable:!0,loading:t.isLoading,"internal-search":!1,"clear-on-select":!1,"close-on-select":!1,"options-limit":300,"max-height":600,"show-no-results":!1,"hide-selected":!0},on:{"search-change":t.asyncFind},scopedSlots:t._u([{key:"clear",fn:function(n){return[t.value.length?e("div",{staticClass:"multiselect__clear",on:{mousedown:function(e){return e.preventDefault(),e.stopPropagation(),t.clearAll(n.search)}}}):t._e()]}}]),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},"Multiselect",t.$t("multiSelect"),!1),[t._v(" "),e("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v(t._s(t.$t("multiSelect.noResult")))]),t._v(" "),e("span",{attrs:{slot:"noOptions"},slot:"noOptions"},[t._v(t._s(t.$t("multiSelect.noOptions")))])]):e("Multiselect",t._b({attrs:{options:t.items,"custom-label":function(data){return data.label},multiple:!0,"track-by":"id"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},"Multiselect",t.$t("multiSelect"),!1),[e("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v(t._s(t.$t("multiSelect.noResult")))]),t._v(" "),e("span",{attrs:{slot:"noOptions"},slot:"noOptions"},[t._v(t._s(t.$t("multiSelect.noOptions")))])]),t._v(" "),t.properties.tagsSortable&&t.value&&t.value.length>=2?e("b-button",{staticClass:"mx-3",attrs:{size:"sm"},on:{click:function(e){return t.toggleSorter()}}},[e("Icon",{attrs:{icon:"sort"}}),t._v("\n    "+t._s(t.$t("multiSelect.sort"))+"\n  ")],1):t._e(),t._v(" "),t.showSorter?e("CommonModalsModal",{on:{cancel:function(e){return t.toggleSorter()}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.$t("multiSelect.sort"))+" ")]},proxy:!0},{key:"full",fn:function(){return[t.properties.tagsSortable&&t.value&&t.value.length>=2?e("draggable",{staticClass:"multi-drag-list",model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.value,(function(n,l){return e("div",{key:l},[t._v("\n          "+t._s(n.label)+"\n          "),e("Icon",{attrs:{icon:"up-down",size:"sm"}})],1)})),0):t._e()]},proxy:!0}],null,!1,3572239893)}):t._e()],1)}),[],!1,null,"37d77a34",null);e.default=component.exports;installComponents(component,{CommonModalsModal:n(546).default,CommonAutolayoutLabelWrapper:n(541).default})}}]);