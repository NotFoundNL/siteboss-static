(window.webpackJsonp=window.webpackJsonp||[]).push([[50,59,60],{548:function(e,t,n){e.exports={}},549:function(e,t,n){e.exports={}},552:function(e,t,n){"use strict";n.r(t);var r=n(178),o=n(576),c={props:{boundariesElement:{type:String,default:"body"}},components:{},data:function(){return{opened:!1,contextData:{}}},directives:{ClickOutside:n.n(o).a},computed:{isVisible:function(){return this.opened}},methods:{open:function(e,t){var n=this;this.opened=!0,this.contextData=t,this.popper&&this.popper.destroy(),this.popper=new r.a(this.referenceObject(e),this.$refs.popper,{placement:"right-start",strategy:"fixed",modifiers:{preventOverflow:{boundariesElement:document.querySelector(this.boundariesElement)}}}),this.$nextTick((function(){n.popper.scheduleUpdate()}))},close:function(){this.opened=!1,this.contextData=null},referenceObject:function(e){var t=e.layerX,n=e.layerY,r=t+1,o=n+1;return{getBoundingClientRect:function(){return{left:t,top:n,right:r,bottom:o}},clientWidth:1,clientHeight:1}}},beforeDestroy:function(){void 0!==this.popper&&this.popper.destroy()}},l=(n(577),n(63)),component=Object(l.a)(c,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"},{name:"click-outside",rawName:"v-click-outside",value:e.close,expression:"close"}],ref:"popper",staticClass:"context-menu",attrs:{tabindex:"-1"},on:{"!contextmenu":function(e){e.preventDefault()}}},[t("ul",[e._t("default",null,{contextData:e.contextData})],2)])}),[],!1,null,"d4268622",null);t.default=component.exports},553:function(e,t,n){"use strict";n.r(t);var r={},o=(n(578),n(63)),component=Object(o.a)(r,(function(){return(0,this._self._c)("li",{staticClass:"context-menu-item"},[this._t("default")],2)}),[],!1,null,"c02fd02c",null);t.default=component.exports},563:function(e,t,n){e.exports={}},576:function(e,t){function n(e){return"function"==typeof e.value||(console.warn("[Vue-click-outside:] provided expression",e.expression,"is not a function."),!1)}function r(e){return void 0!==e.componentInstance&&e.componentInstance.$isServer}e.exports={bind:function(e,t,o){if(!n(t))return;function c(t){if(o.context){var n=t.path||t.composedPath&&t.composedPath();n&&n.length>0&&n.unshift(t.target),e.contains(t.target)||function(e,t){if(!e||!t)return!1;for(var i=0,n=t.length;i<n;i++)try{if(e.contains(t[i]))return!0;if(t[i].contains(e))return!1}catch(e){return!1}return!1}(o.context.popupItem,n)||e.__vueClickOutside__.callback(t)}}e.__vueClickOutside__={handler:c,callback:t.value};const l="ontouchstart"in document.documentElement?"touchstart":"click";!r(o)&&document.addEventListener(l,c)},update:function(e,t){n(t)&&(e.__vueClickOutside__.callback=t.value)},unbind:function(e,t,n){const o="ontouchstart"in document.documentElement?"touchstart":"click";!r(n)&&e.__vueClickOutside__&&document.removeEventListener(o,e.__vueClickOutside__.handler),delete e.__vueClickOutside__}}},577:function(e,t,n){"use strict";n(548)},578:function(e,t,n){"use strict";n(549)},601:function(e,t,n){"use strict";n(563)},620:function(e,t,n){"use strict";n.r(t);n(403),n(174),n(50),n(17),n(16),n(13),n(18),n(14),n(19);var r=n(2),o=n(57),c=(n(28),n(146),n(43),n(54),n(10),n(66),n(68),n(545),n(205),n(33),n(542)),l=n.n(c),d=n(552),h=n(553);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={components:{draggable:l.a,ContextMenu:d.default,ContextMenuItem:h.default},props:{properties:{type:Object,default:function(){}}},data:function(){return{search:"",disableDraggable:!1,currentPage:1,numberOfRecordsPerPage:25,numberOfRecordsOptions:[],currentSorting:{internal:"",ascending:!0}}},mounted:function(){var e,t,n,r,o=this.$route.query;this.numberOfRecordsPerPage=null!==(e=o.pitems)&&void 0!==e?e:this.numberOfRecordsPerPage,this.currentPage=null!==(t=o.page)&&void 0!==t?t:this.currentPage,this.search=null!==(n=o.search)&&void 0!==n?n:this.search,this.currentSorting.internal=null!==(r=o.sort)&&void 0!==r?r:this.currentSorting.internal,o.asc&&(this.currentSorting.ascending="true"===o.asc),this.properties.totalItems>this.numberOfRecordsPerPage&&this.numberOfRecordsOptions.push(this.numberOfRecordsPerPage),this.properties.totalItems>2*this.numberOfRecordsPerPage&&this.numberOfRecordsOptions.push(2*this.numberOfRecordsPerPage),this.properties.totalItems>10*this.numberOfRecordsPerPage&&this.numberOfRecordsOptions.push(10*this.numberOfRecordsPerPage)},computed:{pagingOptions:function(){return this.numberOfRecordsOptions.map((function(option){return{text:option,value:option}}))},headers:function(){var e=[];return this.properties.sort&&e.push({key:"index",title:""}),this.properties.edit&&e.push({key:"edit",title:""}),e.push.apply(e,Object(o.a)(this.properties.headers)),this.properties.delete&&e.push({key:"remove",title:""}),e},getUrlWithoutLocale:function(){return this.$route.path.replace("/".concat(this.$i18n.locale,"/"),"/")},editIcon:function(){var e,t;return null!==(e=null===(t=this.properties)||void 0===t?void 0:t.editIcon)&&void 0!==e?e:"edit"}},watch:{numberOfRecordsPerPage:function(){this.$router.push({query:m(m({},this.$route.query),{},{page:this.currentPage,pitems:this.numberOfRecordsPerPage})})},currentPage:function(){this.$router.push({query:m(m({},this.$route.query),{},{page:this.currentPage,pitems:this.numberOfRecordsPerPage})})}},methods:{setSearchQuery:function(){this.$router.push({query:m(m({},this.$route.query),{},{search:this.search})})},sortByColumn:function(e){var t;null!==(t=e.properties)&&void 0!==t&&t.sortable&&(this.currentSorting.internal===e.internal?this.currentSorting.ascending=!this.currentSorting.ascending:(this.currentSorting.internal=e.internal,this.currentSorting.ascending=!0),this.$router.push({query:m(m({},this.$route.query),{},{sort:e.internal,asc:this.currentSorting.ascending})}))},currentSortByColumn:function(e){var t;return null!==(t=e.properties)&&void 0!==t&&t.sortable?this.currentSorting.internal===e.internal?this.currentSorting.ascending?"ascending":"descending":"none":null},clearSearch:function(){this.search="",this.setSearchQuery()},editRow:function(link){this.properties.edit&&this.$router.push(this.localePath(link))},actionColumnClick:function(e){var t=this;this.$axios({url:e.properties.toggleEndPoint,method:"POST"}).then((function(n){n.data.error?t.$sbToast.error(n.data.error):(n.data.message&&t.$sbToast.success(n.data.message),e.value=n.data.value)})).catch((function(e){t.$sbToast.error("Error loading")}))},downloadDocument:function(e){var t=this;this.$axios({url:e.action,method:"GET"}).then((function(e){if(e.data.message)t.$sbToast.error(e.data.message);else{var n=window.URL.createObjectURL(new Blob([e.data])),r=document.createElement("a");r.href=n,r.setAttribute("download","report.csv"),document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(r)}})).catch((function(e){t.$sbToast.error("Error loading")}))},onChange:function(e){var t,n=this;this.disableDraggable=!0;var r=e.moved.element.id;if(e.moved.newIndex!==e.moved.oldIndex){var o;o=e.moved.newIndex<e.moved.oldIndex?this.properties.rows[e.moved.newIndex+1].id:this.properties.rows[e.moved.newIndex-1].id;var c=this.getUrlWithoutLocale,l=null!==(t=this.properties.moveEndpoint)&&void 0!==t?t:"".concat(c.replace(/\/$/,""),"/move/");this.$axios.put(l,{recordId:r,replacedRecordId:o}).then((function(){n.$nuxt.refresh()})).catch((function(e){n.$sbToast.error(e.response.data.message)})).finally((function(){n.disableDraggable=!1}))}else this.disableDraggable=!1},deleteRecord:function(e){var t=this,n=this.getUrlWithoutLocale,r=this.properties.deleteEndpoint?this.properties.deleteEndpoint+e:"".concat(n.replace(/\/$/,""),"/").concat(e,"/");this.$sbConfirm({message:this.$t("table.deleteConfirm"),callback:function(e){e&&t.$axios.delete(r).then((function(){t.$sbToast.success(t.$t("table.recordDeleted"))})).catch((function(e){t.$sbToast.error(e.response.data.message)})).finally((function(){t.$nuxt.refresh()}))}})}}},y=(n(601),n(63)),component=Object(y.a)(v,(function(){var e=this,t=e._self._c;return t("b-col",{ref:"container",attrs:{cols:"12 table-responsive mb-0"}},[t("ContextMenu",{ref:"menu",scopedSlots:e._u([{key:"default",fn:function(n){var r=n.contextData;return r?[r.columns?t("ContextMenuItem",{nativeOn:{click:function(t){return e.$refs.menu.close.apply(null,arguments)}}},[t("router-link",{attrs:{to:r.link}},[e._v("Bewerk "+e._s(r.columns[0].value))])],1):e._e()]:void 0}}],null,!0)}),e._v(" "),t("table",{staticClass:"table table-sm b-table"},[t("thead",[t("tr",e._l(e.headers,(function(n,r){return t("th",{key:r,attrs:{"aria-sort":e.currentSortByColumn(n)},on:{click:function(t){return e.sortByColumn(n)}}},[e._v("\n          "+e._s(n.title)+"\n        ")])})),0)]),e._v(" "),t("draggable",e._b({staticClass:"simple-body",attrs:{list:e.properties.rows,tag:"tbody",sort:!0,animation:"200",handle:".drag-anchor"},on:{change:e.onChange}},"draggable",{disabled:e.disableDraggable},!1),e._l(e.properties.rows,(function(n){return t("tr",{key:n.id,on:{dblclick:function(t){return e.editRow(n.link)},contextmenu:function(t){return t.preventDefault(),e.$refs.menu.open(t,n)}}},[e.properties.sort?t("td",{attrs:{width:"50"}},[t("div",{staticClass:"d-flex drag-anchor",class:{draggable:!e.disableDraggable}},[t("Icon",{attrs:{icon:"bars"}})],1)]):e._e(),e._v(" "),e.properties.edit?t("td",{staticClass:"column-type-checkbox"},[t("div",{staticClass:"d-flex",attrs:{"data-recordid":n.id,"data-index":1}},[t("NuxtLink",{staticClass:"td-title-link",attrs:{to:n.link}},[t("Icon",{attrs:{icon:e.editIcon}})],1)],1)]):e._e(),e._v(" "),e._l(n.columns,(function(n,r){var o,c,l;return t("td",{key:r,class:"column-type-".concat(n.type)},["checkbox"==n.type||"InputCheckbox"==n.type?t("div",{on:{click:function(t){return e.actionColumnClick(n)}}},[1==n.value?t("Icon",{staticClass:"color-true",attrs:{icon:"check"}}):t("Icon",{staticClass:"color-false",attrs:{icon:"close"}})],1):"Image"==n.type?t("div",[t("img",{staticClass:"preview-overview-image",attrs:{src:n.value,alt:""}})]):"InputButton"==n.type?t("div",[n.properties.action?t("b-button",{attrs:{variant:"secondary",size:"sm"},on:{click:function(t){return e.downloadDocument(n.properties)}}},[e._v("\n              "+e._s(null!==(o=n.properties.name)&&void 0!==o?o:n.value)+"\n            ")]):0==n.properties.external?t("b-button",{attrs:{variant:"secondary",size:"sm",to:e.localePath(n.properties.link)}},[t("Icon",{attrs:{icon:"up-right-from-square"}}),e._v("\n              "+e._s(null!==(c=n.properties.name)&&void 0!==c?c:n.value)+"\n            ")],1):t("b-button",{attrs:{variant:"secondary",size:"sm",target:"_blank",href:n.properties.link}},[e._v(e._s(null!==(l=n.properties.name)&&void 0!==l?l:n.value)+"\n            ")])],1):t("div",{staticClass:"notSelectable"},[e._v("\n            "+e._s(n.value)+"\n          ")])])})),e._v(" "),e.properties.delete?t("td",[t("a",{staticClass:"d-flex justify-content-end align-items-center pr-2",attrs:{role:"button"},on:{click:function(t){return e.deleteRecord(n.id)}}},[t("Icon",{attrs:{icon:"trash"}})],1)]):e._e()],2)})),0)],1)],1)}),[],!1,null,"85e90b34",null);t.default=component.exports;installComponents(component,{ContextMenuItem:n(553).default,ContextMenu:n(552).default})}}]);