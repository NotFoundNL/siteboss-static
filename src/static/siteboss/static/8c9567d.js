/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[124,6,9,10,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,57,59,60,119,120,121],Array(541).concat([function(e,t,n){"use strict";n.r(t);n(16),n(80),n(238);var o={props:{label:{type:String,required:!0},required:{type:Boolean,default:!1},cols:{type:Number,default:12},description:{type:String,default:""},internal:{type:String,required:!0}},setup:function(){}},r=n(63),component=Object(r.a)(o,(function(){var e=this,t=e._self._c;return t("div",{class:"col-".concat(e.cols)},[t("b-form-group",{attrs:{id:"input-group-".concat(e.internal),description:e.description}},[t("label",{attrs:{"label-for":"input-".concat(e.internal)}},[e._v("\n      "+e._s(e.label)),e.required?t("span",{staticClass:"required-star"},[e._v(" *")]):e._e()]),e._v(" "),e._t("default")],2)],1)}),[],!1,null,null,null);t.default=component.exports},,,function(e,t,n){e.exports={}},function(e,t,n){"use strict";n.r(t);var o={},r=(n(550),n(63)),component=Object(r.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal show",staticStyle:{display:"block"},attrs:{tabindex:"-1",role:"dialog"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.$emit("cancel")}}},[t("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._t("title")],2),e._v(" "),t("button",{staticClass:"close cross",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return e.$emit("cancel")}}},[t("span",{attrs:{"aria-hidden":"true"}},[e._v("Ã—")])])]),e._v(" "),t("div",{staticClass:"modal-full"},[e._t("full")],2),e._v(" "),e.$slots.full?e._e():t("div",{staticClass:"modal-body"},[e._t("body")],2),e._v(" "),e.$slots.full?e._e():t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(t){return e.$emit("cancel")}}},[e._t("btnCancel",(function(){return[e._v("Cancel")]}))],2),e._v(" "),e._t("btnConfirm",(function(){return[t("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.$emit("confirm")}}},[e._v("\n            REPLACE ME: Slot=btnConfirm\n          ")])]}))],2)])])])}),[],!1,null,"762284e4",null);t.default=component.exports},,function(e,t,n){e.exports={primary:"#5b3776"}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){"use strict";n(544)},,,function(e,t,n){"use strict";n.r(t);var o=n(178),r=n(576),l={props:{boundariesElement:{type:String,default:"body"}},components:{},data:function(){return{opened:!1,contextData:{}}},directives:{ClickOutside:n.n(r).a},computed:{isVisible:function(){return this.opened}},methods:{open:function(e,t){var n=this;this.opened=!0,this.contextData=t,this.popper&&this.popper.destroy(),this.popper=new o.a(this.referenceObject(e),this.$refs.popper,{placement:"right-start",strategy:"fixed",modifiers:{preventOverflow:{boundariesElement:document.querySelector(this.boundariesElement)}}}),this.$nextTick((function(){n.popper.scheduleUpdate()}))},close:function(){this.opened=!1,this.contextData=null},referenceObject:function(e){var t=e.layerX,n=e.layerY,o=t+1,r=n+1;return{getBoundingClientRect:function(){return{left:t,top:n,right:o,bottom:r}},clientWidth:1,clientHeight:1}}},beforeDestroy:function(){void 0!==this.popper&&this.popper.destroy()}},c=(n(577),n(63)),component=Object(c.a)(l,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"},{name:"click-outside",rawName:"v-click-outside",value:e.close,expression:"close"}],ref:"popper",staticClass:"context-menu",attrs:{tabindex:"-1"},on:{"!contextmenu":function(e){e.preventDefault()}}},[t("ul",[e._t("default",null,{contextData:e.contextData})],2)])}),[],!1,null,"d4268622",null);t.default=component.exports},function(e,t,n){"use strict";n.r(t);var o={},r=(n(578),n(63)),component=Object(r.a)(o,(function(){return(0,this._self._c)("li",{staticClass:"context-menu-item"},[this._t("default")],2)}),[],!1,null,"c02fd02c",null);t.default=component.exports},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){"use strict";var o=n(286).start,r=n(404);e.exports=r("trimStart")?function(){return o(this)}:"".trimStart},function(e,t,n){e.exports={primary:"#5b3776"}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={primary:"#5b3776"}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){e.exports={}},function(e,t,n){"use strict";n.r(t);n(16),n(80),n(28),n(148),n(33);var o=n(710),r=n(9),l={components:{BFormDatepicker:o.a},props:{internal:{type:String,required:!0},properties:{type:Object,default:function(){}},data:{type:Object,default:function(){}},bus:{type:r.default,required:!0}},data:function(){return{value:"",editing:!1,displayValue:"",date:"",locale:this.$i18n.locale,onTouched:!0,mounting:!0,valid:!this.properties.required}},computed:{state:function(){return this.onTouched?null:this.valid}},watch:{displayValue:function(e){this.mounting||(this.onTouched=!1),this.editing&&this.checkValid(e)},date:function(e){if(this.mounting||(this.onTouched=!1),null===e)this.editing||(this.displayValue=this.$t("date.noDate")),this.value=null,this.valid=!this.properties.required;else{var t=e.getTimezoneOffset(),n=new Date(e.getTime()-60*t*1e3);this.valid=!0,this.value=n.toISOString().substring(0,10),this.editing||(this.displayValue=null===e?this.$t("date.noDate"):e.toLocaleDateString(this.locale,{weekday:"long",year:"numeric",month:"long",day:"numeric"}))}this.updateValues()}},beforeMount:function(){var e=this;this.data&&(this.date=""===this.data.value?null:new Date(this.data.value),this.updateValues()),this.$nextTick((function(){e.mounting=!1}))},created:function(){var e=this;this.bus.$on("setStatus",(function(t){e.onTouched=!1}))},methods:{setInputMode:function(){this.displayValue=null===this.date?"":this.date.toLocaleDateString(this.locale,{year:"numeric",month:"numeric",day:"numeric"}),this.editing=!0},checkValid:function(e){if(""===e||null==e)return this.valid=!0,void(this.value=null);var t=null;if("nl"===this.locale)t=/^(?:(?:31(\/|-)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|-)(?:0?[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/;else t=/^(?:(?:(?:0?[13578]|1[02])(\/|-)31)\1|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:0?2(\/|-)29\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:(?:0?[1-9])|(?:1[0-2]))(\/|-)(?:0?[1-9]|1\d|2[0-8])\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/;this.valid=t.test(e),this.valid&&this.updateDateField()},updateDateField:function(){var e=this.displayValue.match(/([0-9]{1,2})[/-]([0-9]{1,2})[/-]([0-9]{2,4})/);2===e[3].length&&(e[3]="20".concat(e[3]));var t=null;if("nl"===this.locale)t="".concat(e[3],"/").concat(e[2],"/").concat(e[1]);else t="".concat(e[3],"/").concat(e[1],"/").concat(e[2]);this.date=new Date(t)},updateValues:function(){this.$emit("updateValues",{field:this.internal,valid:this.valid,value:this.value})},translateToPicker:function(){if(this.editing=!1,""===this.displayValue)return this.date=null,this.valid=!this.properties.required,void this.updateValues();this.valid?(this.updateDateField(),this.valid=!0):this.valid=!1,this.updateValues()}}},c=n(63),component=Object(c.a)(l,(function(){var e,t=this,n=t._self._c;return n("CommonAutolayoutLabelWrapper",{attrs:{label:t.properties.title,description:t.properties.description,required:t.properties.required,internal:t.internal,cols:null!==(e=t.properties.cols)&&void 0!==e?e:12}},[t.valid||t.onTouched?t._e():n("div",{staticClass:"input-feedback",attrs:{id:"input-".concat(t.internal,"-feedback")}},[t._v("\n    "+t._s(null===t.date?t.$t("common.required"):t.$t("date.invalid"))+"\n  ")]),t._v(" "),n("b-input-group",{staticClass:"mb-3"},[n("b-input-group-prepend",[n("b-form-datepicker",t._b({attrs:{"button-only":"",left:"","show-decade-nav":!0,"hide-header":!0,state:t.state,locale:t.locale,disabled:t.properties.disabled,"value-as-date":"","aria-controls":"`input-${internal}`"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"b-form-datepicker",t.$t("datepicker"),!1))],1),t._v(" "),n("b-form-input",{attrs:{id:"input-".concat(t.internal),placeholder:t.$t("datepicker.placeholder"),type:"text",autocomplete:"off",state:t.state,disabled:t.properties.disabled},on:{focus:function(e){return t.setInputMode()},blur:function(e){return t.translateToPicker()}},model:{value:t.displayValue,callback:function(e){t.displayValue=e},expression:"displayValue"}})],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CommonAutolayoutLabelWrapper:n(541).default})},function(e,t,n){"use strict";n.r(t);n(16),n(80),n(51),n(28);var o=n(711),r=n(9),l={components:{BFormTimepicker:o.a},props:{internal:{type:String,required:!0},properties:{type:Object,default:function(){}},data:{type:Object,default:function(){}},bus:{type:r.default,required:!0}},data:function(){return{value:"",editing:!1,time:"",displayValue:"",onTouched:!0,mounting:!0,valid:!this.properties.required}},computed:{state:function(){return this.onTouched?null:this.valid}},watch:{displayValue:function(e){this.mounting||(this.onTouched=!1),this.editing&&this.checkValid(e)},time:function(e){this.mounting||(this.onTouched=!1),null===e?(this.editing||(this.displayValue=""),this.value=null,this.valid=!this.properties.required):(this.valid=!0,this.editing||(this.displayValue=this.time.slice(0,5))),this.value=this.time,this.updateValues()}},beforeMount:function(){var e=this;if(this.data){var t=""===this.data.value?null:this.data.value;this.displayValue=t?t.slice(0,5):"",this.time=t}this.$nextTick((function(){e.mounting=!1}))},created:function(){var e=this;this.bus.$on("setStatus",(function(t){e.onTouched=!1}))},mounted:function(){this.updateValues()},methods:{setInputMode:function(){this.displayValue=null===this.time?"":this.time.slice(0,5),this.editing=!0},checkValid:function(e){""===e||null==e?this.properties.required?this.valid=!1:(this.valid=!0,this.value=null):this.valid=/^([0-1]{0,1}[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/.test(e),this.valid&&!this.editing&&this.updateTimeField()},updateValues:function(){this.$emit("updateValues",{field:this.internal,valid:this.valid,value:this.value})},updateTimeField:function(){4===this.displayValue.length&&(this.displayValue="0".concat(this.displayValue)),this.time="".concat(this.displayValue,":00")},fixInput:function(){if(this.editing=!1,""===this.displayValue)return this.time=null,void(this.valid=!this.properties.required);this.valid?(this.updateTimeField(),this.valid=!0):this.valid=!1,this.updateValues()}}},c=n(63),component=Object(c.a)(l,(function(){var e,t=this,n=t._self._c;return n("CommonAutolayoutLabelWrapper",{attrs:{label:t.properties.title,description:t.properties.description,required:t.properties.required,internal:t.internal,cols:null!==(e=t.properties.cols)&&void 0!==e?e:12}},[t.valid||t.onTouched?t._e():n("div",{staticClass:"input-feedback",attrs:{id:"input-".concat(t.internal,"-feedback")}},[t._v("\n    "+t._s(t.$t("common.required"))+"\n  ")]),t._v(" "),n("b-input-group",{staticClass:"mb-3"},[n("b-input-group-prepend",[n("b-form-timepicker",t._b({attrs:{"button-only":"",left:"",state:t.state,id:"input-".concat(t.internal),locale:this.$i18n.locale,disabled:t.properties.disabled,"no-close-button":""},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}},"b-form-timepicker",t.$t("timepicker"),!1))],1),t._v(" "),n("b-form-input",{attrs:{id:"example-input",type:"text",placeholder:"HH:mm",maxlength:"5",state:t.state,disabled:t.properties.disabled},on:{focus:function(e){return t.setInputMode()},blur:function(e){return t.fixInput()}},model:{value:t.displayValue,callback:function(e){t.displayValue=e},expression:"displayValue"}})],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CommonAutolayoutLabelWrapper:n(541).default})},function(e,t,n){"use strict";var o=n(20),r=n(149).findIndex,l=n(176),c="findIndex",d=!0;c in[]&&Array(1)[c]((function(){d=!1})),o({target:"Array",proto:!0,forced:d},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),l(c)},function(e,t,n){e.exports={primary:"#5b3776"}},function(e,t,n){e.exports={primary:"#5b3776"}},function(e,t,n){e.exports={primary:"#5b3776"}},function(e,t,n){e.exports={primary:"#5b3776"}},function(e,t,n){e.exports={}},,function(e,t,n){"use strict";n(547)},function(e,t){function n(e){return"function"==typeof e.value||(console.warn("[Vue-click-outside:] provided expression",e.expression,"is not a function."),!1)}function o(e){return void 0!==e.componentInstance&&e.componentInstance.$isServer}e.exports={bind:function(e,t,r){if(!n(t))return;function l(t){if(r.context){var n=t.path||t.composedPath&&t.composedPath();n&&n.length>0&&n.unshift(t.target),e.contains(t.target)||function(e,t){if(!e||!t)return!1;for(var i=0,n=t.length;i<n;i++)try{if(e.contains(t[i]))return!0;if(t[i].contains(e))return!1}catch(e){return!1}return!1}(r.context.popupItem,n)||e.__vueClickOutside__.callback(t)}}e.__vueClickOutside__={handler:l,callback:t.value};const c="ontouchstart"in document.documentElement?"touchstart":"click";!o(r)&&document.addEventListener(c,l)},update:function(e,t){n(t)&&(e.__vueClickOutside__.callback=t.value)},unbind:function(e,t,n){const r="ontouchstart"in document.documentElement?"touchstart":"click";!o(n)&&e.__vueClickOutside__&&document.removeEventListener(r,e.__vueClickOutside__.handler),delete e.__vueClickOutside__}}},function(e,t,n){"use strict";n(548)},function(e,t,n){"use strict";n(549)},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));n(17),n(16),n(13),n(10),n(18),n(14),n(19);var o=n(2),r=n(4),l=n(3),c=n(8),d=n(1),h=n(34),m=n(7),f=n(0),v=n(29),y=n(26),w=n(240),A=n(122);function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var C=Object(f.d)(Object(m.m)(O(O({},v.b),{},{disabled:Object(f.c)(d.g,!1),noRemove:Object(f.c)(d.g,!1),pill:Object(f.c)(d.g,!1),removeLabel:Object(f.c)(d.t,"Remove tag"),tag:Object(f.c)(d.t,"span"),title:Object(f.c)(d.t),variant:Object(f.c)(d.t,"secondary")})),l.W),_=Object(r.c)({name:l.W,mixins:[v.a,y.a],props:C,methods:{onRemove:function(e){var t=e.type,n=e.keyCode;this.disabled||"click"!==t&&("keydown"!==t||n!==h.b)||this.$emit(c.C)}},render:function(e){var title=this.title,t=this.tag,n=this.variant,o=this.pill,r=this.disabled,l=this.safeId(),c=this.safeId("_taglabel_"),d=e();this.noRemove||r||(d=e(A.a,{staticClass:"b-form-tag-remove",props:{ariaLabel:this.removeLabel},attrs:{"aria-controls":l,"aria-describedby":c,"aria-keyshortcuts":"Delete"},on:{click:this.onRemove,keydown:this.onRemove}}));var h=e("span",{staticClass:"b-form-tag-content flex-grow-1 text-truncate",attrs:{id:c}},this.normalizeSlot()||title);return e(w.a,{staticClass:"b-form-tag d-inline-flex align-items-baseline mw-100",class:{disabled:r},props:{tag:t,variant:n,pill:o},attrs:{id:l,title:title||null,"aria-labelledby":c}},[h,d])}})},,function(e,t,n){"use strict";n.r(t);var o=n(2);n(28),n(54),n(148),n(147),n(10),n(17),n(16),n(13),n(18),n(14),n(19),n(701),n(702),n(703),n(704),n(632),n(633),n(634),n(635),n(636),n(637),n(638),n(639),n(640),n(641),n(642),n(643),n(644),n(645),n(646),n(647),n(648),n(649),n(650),n(651),n(652),n(653),n(654),n(655),n(656),n(657),n(658);function r(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?r(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):r(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var c={components:{editor:n(705).a},filters:{preview:function(e,form){if("string"==typeof e||e instanceof String){return e.replace(/<span.*?data-field="[0-9]+".*?>.*?<\/span>/gi,(function(e){var t=e.match(/data-field="([0-9]+)"/),n=parseInt(t[1],10),label=form.fields.find((function(e){return e.id===n}));return void 0!==label?'<strong style="background-color: #bbffbb">'.concat(label.label,"</strong>"):'<strong style="color: red">ONBEKEND VELD, Corrigeer alvorens op te staan</strong>'}))}return""}},props:{editModal:{type:Boolean,default:!1},value:{type:String,required:!0},editorSettings:{type:Object,default:function(){}},endPoint:{type:String,default:""}},computed:{localEditorSettings:function(){return l(l(l({height:400,model:"dom",branding:!1,menubar:!1,skin:!1,content_css:"/siteboss/css/content.css",relative_urls:!1,object_resizing:!0,document_base_url:null,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","code","wordcount"],toolbar:"undo redo | removeformat styles | bold italic | link unlink | numlist bullist | image media | code",link_class_list:[{title:"Geen",value:""},{title:"Primaire knop",value:"b-button b-button--small"},{title:"Secondaire knop",value:"b-button b-button--secondary"}]},this.editorSettings),this.languageSettings()),{},{images_upload_handler:this.uploadHandler})}},data:function(){return{localValue:null,preview_errors:!1,status:"",editorOpen:!1}},watch:{localValue:function(e){this.$emit("input",e)}},mounted:function(){this.localValue=this.value},methods:{onContentEdit:function(e){this.localValue=e.target.innerHTML},toggleEditor:function(){this.editorOpen=!this.editorOpen},languageSettings:function(){return"nl"===this.$i18n.locale?{language:"nl",language_url:"tinymce/langs/nl.js"}:{}},uploadHandler:function(e,t){var n=this;return new Promise((function(t,o){var r=new FormData;r.append("file",e.blob(),e.filename()),n.$axios.post(n.endPoint,r).then((function(data){t(data.data.path)})).catch((function(e){o("Invalid JSON")}))}))}}},d=(n(575),n(63)),component=Object(d.a)(c,(function(){var e=this,t=e._self._c;return e.editModal?t("div",{staticClass:"rich-text-editor"},[e.editorOpen?t("CommonModalsModal",{on:{confirm:e.toggleEditor,cancel:e.toggleEditor},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Editor")]},proxy:!0},{key:"full",fn:function(){return[t("editor",{attrs:{init:e.localEditorSettings},model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}})]},proxy:!0}],null,!1,2770368730)}):e._e(),e._v(" "),t("div",{staticClass:"modal-trigger",attrs:{contenteditable:""},domProps:{innerHTML:e._s(e.localValue)},on:{focusout:e.onContentEdit}}),e._v(" "),t("button",{staticClass:"btn btn-secondary open-editor",attrs:{type:"button"},on:{click:e.toggleEditor}},[e._v("\n    "+e._s(e.$t("text.openEditor"))+"\n  ")])],1):t("div",[t("editor",{attrs:{init:e.localEditorSettings},model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CommonModalsModal:n(545).default})},function(e,t,n){"use strict";n.r(t);n(28),n(146),n(33),n(100),n(13),n(10),n(91),n(114),n(14);var o=n(709),r=n(579),l=n(707),c=n(542),d=n.n(c),h=n(9),m={components:{draggable:d.a,BFormTags:o.a,BFormTag:r.a,BAlert:l.a},props:{internal:{type:String,required:!0},properties:{type:Object,default:function(){}},data:{type:Object,default:function(){}},bus:{type:h.default,required:!0}},data:function(){return{options:[],search:"",selectedOptions:[],failed:!1}},fetch:function(){var e=this,t=this.$route.params,n=t.slug,o=t.id;this.$axios.get("/table/".concat(n,"/").concat(o,"/").concat(this.internal,"/nl/")).then((function(t){e.options=t.data})).catch((function(t){e.failed=!0}))},computed:{criteria:function(){return this.search.trim().toLowerCase()},availableOptions:function(){var e=this,t=this.criteria;return t?this.options.filter((function(e){return e.label.toLowerCase().includes(t)})).filter((function(t){return!e.selectedOptions.includes(t.id)})):this.options.filter((function(t){return!e.selectedOptions.includes(t.id)}))},tagList:function(){var e=this,t=[];return this.selectedOptions.forEach((function(n){t.push(e.options.filter((function(e){return e.id===n}))[0])})),t}},mounted:function(){},methods:{onOptionClick:function(e){this.selectedOptions.push(e),this.search=""},removeTag:function(e){this.selectedOptions=this.selectedOptions.filter((function(t){return t!==e}))}}},f=n(63),component=Object(f.a)(m,(function(){var e=this,t=e._self._c;return t("b-form-group",{attrs:{label:"Tagged input using dropdown","label-for":"tags-with-dropdown"}},[t("b-alert",{attrs:{show:e.failed,variant:"danger"}},[e._v("\n    "+e._s(e.$t("autolayout.tags.fetch"))+"\n  ")]),e._v(" "),e.properties.tagssortable?t("draggable",{staticClass:"list-group",attrs:{list:e.selectedOptions}},e._l(e.tagList,(function(n){return t("div",{key:n.id,staticClass:"list-group-item"},[e._v("\n      "+e._s(n.label)+"\n    ")])})),0):e._e(),e._v(" "),t("b-form-tags",{staticClass:"mb-2",attrs:{id:"tags-with-dropdown","no-outer-focus":""},scopedSlots:e._u([{key:"default",fn:function(n){var o=n.disabled;return[e.tagList.length&&!e.properties.tagssortable?t("ul",{staticClass:"list-inline d-inline-block mb-2"},e._l(e.tagList,(function(n){return t("li",{key:n.id,staticClass:"list-inline-item"},[t("b-form-tag",{attrs:{title:n.label,disabled:o,variant:"primary"},on:{remove:function(t){return e.removeTag(n.id)}}})],1)})),0):e._e(),e._v(" "),t("b-dropdown",{attrs:{size:"sm",variant:"outline-secondary",block:"","menu-class":"w-100"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("Icon",{attrs:{icon:"magnifying-glass"}}),e._v(" "+e._s(e.$t("autolayout.tags.select"))+"\n        ")]},proxy:!0}],null,!0)},[e._v(" "),t("b-dropdown-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),function(){}.apply(null,arguments)}}},[t("b-form-group",{staticClass:"mb-0",attrs:{label:e.$t("autolayout.tags.search"),"label-for":"tag-search-input","label-cols-md":"auto","label-size":"sm",disabled:o}},[t("b-form-input",{attrs:{id:"tag-search-input",type:"search",size:"sm",autocomplete:"off"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),e._v(" "),t("b-dropdown-divider"),e._v(" "),t("li",{staticClass:"tags-dropdown"},e._l(e.availableOptions,(function(option){return t("b-dropdown-item-button",{key:option.id,on:{click:function(t){return e.onOptionClick(option.id)}}},[e._v("\n            "+e._s(option.label)+"\n          ")])})),1),e._v(" "),0===e.availableOptions.length?t("b-dropdown-text",[e._v("\n          "+e._s(e.$t("autolayout.tags.no_results"))+"\n        ")]):e._e()],1)]}}])})],1)}),[],!1,null,null,null);t.default=component.exports},function(e,t,n){"undefined"!=typeof self&&self,e.exports=(()=>{var e={646:e=>{e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},713:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},860:e=>{e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},206:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},319:(e,t,n)=>{var o=n(646),i=n(860),s=n(206);e.exports=function(e){return o(e)||i(e)||s()}},8:e=>{function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{"use strict";n.r(o),n.d(o,{VueSelect:()=>y,default:()=>A,mixins:()=>w});var e=n(319),t=n.n(e),i=n(8),s=n.n(i),r=n(713),a=n.n(r);const l={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer:function(){this.autoscroll&&this.maybeAdjustScroll()},open:function(e){var t=this;this.autoscroll&&e&&this.$nextTick((function(){return t.maybeAdjustScroll()}))}},methods:{maybeAdjustScroll:function(){var e,t=(null===(e=this.$refs.dropdownMenu)||void 0===e?void 0:e.children[this.typeAheadPointer])||!1;if(t){var n=this.getDropdownViewport(),o=t.getBoundingClientRect(),i=o.top,s=o.bottom,r=o.height;if(i<n.top)return this.$refs.dropdownMenu.scrollTop=t.offsetTop;if(s>n.bottom)return this.$refs.dropdownMenu.scrollTop=t.offsetTop-(n.height-r)}},getDropdownViewport:function(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},c={data:function(){return{typeAheadPointer:-1}},watch:{filteredOptions:function(){for(var e=0;e<this.filteredOptions.length;e++)if(this.selectable(this.filteredOptions[e])){this.typeAheadPointer=e;break}},open:function(e){e&&this.typeAheadToLastSelected()},selectedValue:function(){this.open&&this.typeAheadToLastSelected()}},methods:{typeAheadUp:function(){for(var e=this.typeAheadPointer-1;e>=0;e--)if(this.selectable(this.filteredOptions[e])){this.typeAheadPointer=e;break}},typeAheadDown:function(){for(var e=this.typeAheadPointer+1;e<this.filteredOptions.length;e++)if(this.selectable(this.filteredOptions[e])){this.typeAheadPointer=e;break}},typeAheadSelect:function(){var e=this.filteredOptions[this.typeAheadPointer];e&&this.selectable(e)&&this.select(e)},typeAheadToLastSelected:function(){var e=0!==this.selectedValue.length?this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length-1]):-1;-1!==e&&(this.typeAheadPointer=e)}}},u={props:{loading:{type:Boolean,default:!1}},data:function(){return{mutableLoading:!1}},watch:{search:function(){this.$emit("search",this.search,this.toggleLoading)},loading:function(e){this.mutableLoading=e}},methods:{toggleLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.mutableLoading=null==e?!this.mutableLoading:e}}};function p(e,t,n,o,i,s,r,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),o&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):i&&(l=a?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:e,options:c}}const d={Deselect:p({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"}},[t("path",{attrs:{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"}})])}),[],!1,null,null,null).exports,OpenIndicator:p({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"}},[t("path",{attrs:{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"}})])}),[],!1,null,null,null).exports},h={inserted:function(e,t,n){var o=n.context;if(o.appendToBody){var i=o.$refs.toggle.getBoundingClientRect(),s=i.height,r=i.top,a=i.left,l=i.width,c=window.scrollX||window.pageXOffset,u=window.scrollY||window.pageYOffset;e.unbindPosition=o.calculatePosition(e,o,{width:l+"px",left:c+a+"px",top:u+r+s+"px"}),document.body.appendChild(e)}},unbind:function(e,t,n){n.context.appendToBody&&(e.unbindPosition&&"function"==typeof e.unbindPosition&&e.unbindPosition(),e.parentNode&&e.parentNode.removeChild(e))}},m=function(e){var t={};return Object.keys(e).sort().forEach((function(n){t[n]=e[n]})),JSON.stringify(t)};var f=0;const g=function(){return++f};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const y=p({components:v({},d),directives:{appendToBody:h},mixins:[l,c,u],props:{value:{},components:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},deselectFromDropdown:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:function(e){return e}},selectable:{type:Function,default:function(e){return!0}},getOptionLabel:{type:Function,default:function(e){return"object"===s()(e)?e.hasOwnProperty(this.label)?e[this.label]:console.warn('[vue-select warn]: Label key "option.'.concat(this.label,'" does not')+" exist in options object ".concat(JSON.stringify(e),".\n")+"https://vue-select.org/api/props.html#getoptionlabel"):e}},getOptionKey:{type:Function,default:function(e){if("object"!==s()(e))return e;try{return e.hasOwnProperty("id")?e.id:m(e)}catch(t){return console.warn("[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.\nhttps://vue-select.org/api/props.html#getoptionkey",e,t)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default:function(e,t,n){return(t||"").toLocaleLowerCase().indexOf(n.toLocaleLowerCase())>-1}},filter:{type:Function,default:function(e,t){var n=this;return e.filter((function(e){var o=n.getOptionLabel(e);return"number"==typeof o&&(o=o.toString()),n.filterBy(e,o,t)}))}},createOption:{type:Function,default:function(e){return"object"===s()(this.optionList[0])?a()({},this.label,e):e}},resetOnOptionsChange:{default:!1,validator:function(e){return["function","boolean"].includes(s()(e))}},clearSearchOnBlur:{type:Function,default:function(e){var t=e.clearSearchOnSelect,n=e.multiple;return t&&!n}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:function(){return[13]}},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:function(e,t){return e}},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default:function(e,t,n){var o=n.width,i=n.top,s=n.left;e.style.top=i,e.style.left=s,e.style.width=o}},dropdownShouldOpen:{type:Function,default:function(e){var t=e.noDrop,n=e.open,o=e.mutableLoading;return!t&&n&&!o}},uid:{type:[String,Number],default:function(){return g()}}},data:function(){return{search:"",open:!1,isComposing:!1,pushedTags:[],_value:[]}},computed:{isTrackingValues:function(){return void 0===this.value||this.$options.propsData.hasOwnProperty("reduce")},selectedValue:function(){var e=this.value;return this.isTrackingValues&&(e=this.$data._value),null!=e&&""!==e?[].concat(e):[]},optionList:function(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl:function(){return this.$scopedSlots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope:function(){var e=this,t={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:v({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-autocomplete":"list","aria-labelledby":"vs".concat(this.uid,"__combobox"),"aria-controls":"vs".concat(this.uid,"__listbox"),ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":"vs".concat(this.uid,"__option-").concat(this.typeAheadPointer)}:{}),events:{compositionstart:function(){return e.isComposing=!0},compositionend:function(){return e.isComposing=!1},keydown:this.onSearchKeyDown,keypress:this.onSearchKeyPress,blur:this.onSearchBlur,focus:this.onSearchFocus,input:function(t){return e.search=t.target.value}}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.mutableLoading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:t,listFooter:t,header:v({},t,{deselect:this.deselect}),footer:v({},t,{deselect:this.deselect})}},childComponents:function(){return v({},d,{},this.components)},stateClasses:function(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--multiple":this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching:function(){return!!this.search},dropdownOpen:function(){return this.dropdownShouldOpen(this)},searchPlaceholder:function(){return this.isValueEmpty&&this.placeholder?this.placeholder:void 0},filteredOptions:function(){var e=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return e;var t=this.search.length?this.filter(e,this.search,this):e;if(this.taggable&&this.search.length){var n=this.createOption(this.search);this.optionExists(n)||t.unshift(n)}return t},isValueEmpty:function(){return 0===this.selectedValue.length},showClearButton:function(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}},watch:{options:function(e,t){var n=this;!this.taggable&&("function"==typeof n.resetOnOptionsChange?n.resetOnOptionsChange(e,t,n.selectedValue):n.resetOnOptionsChange)&&this.clearSelection(),this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value)},value:{immediate:!0,handler:function(e){this.isTrackingValues&&this.setInternalValueFromOptions(e)}},multiple:function(){this.clearSelection()},open:function(e){this.$emit(e?"open":"close")},search:function(e){e.length&&(this.open=!0)}},created:function(){this.mutableLoading=this.loading,this.$on("option:created",this.pushTag)},methods:{setInternalValueFromOptions:function(e){var t=this;Array.isArray(e)?this.$data._value=e.map((function(e){return t.findOptionFromReducedValue(e)})):this.$data._value=this.findOptionFromReducedValue(e)},select:function(e){this.$emit("option:selecting",e),this.isOptionSelected(e)?this.deselectFromDropdown&&(this.clearable||this.multiple&&this.selectedValue.length>1)&&this.deselect(e):(this.taggable&&!this.optionExists(e)&&this.$emit("option:created",e),this.multiple&&(e=this.selectedValue.concat(e)),this.updateValue(e),this.$emit("option:selected",e)),this.onAfterSelect(e)},deselect:function(e){var t=this;this.$emit("option:deselecting",e),this.updateValue(this.selectedValue.filter((function(n){return!t.optionComparator(n,e)}))),this.$emit("option:deselected",e)},clearSelection:function(){this.updateValue(this.multiple?[]:null)},onAfterSelect:function(e){var t=this;this.closeOnSelect&&(this.open=!this.open),this.clearSearchOnSelect&&(this.search=""),this.noDrop&&this.multiple&&this.$nextTick((function(){return t.$refs.search.focus()}))},updateValue:function(e){var t=this;void 0===this.value&&(this.$data._value=e),null!==e&&(e=Array.isArray(e)?e.map((function(e){return t.reduce(e)})):this.reduce(e)),this.$emit("input",e)},toggleDropdown:function(e){var n=e.target!==this.searchEl;n&&e.preventDefault();var o=[].concat(t()(this.$refs.deselectButtons||[]),t()([this.$refs.clearButton]||!1));void 0===this.searchEl||o.filter(Boolean).some((function(t){return t.contains(e.target)||t===e.target}))?e.preventDefault():this.open&&n?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected:function(e){var t=this;return this.selectedValue.some((function(n){return t.optionComparator(n,e)}))},isOptionDeselectable:function(e){return this.isOptionSelected(e)&&this.deselectFromDropdown},optionComparator:function(e,t){return this.getOptionKey(e)===this.getOptionKey(t)},findOptionFromReducedValue:function(e){var n=this,o=[].concat(t()(this.options),t()(this.pushedTags)).filter((function(t){return JSON.stringify(n.reduce(t))===JSON.stringify(e)}));return 1===o.length?o[0]:o.find((function(e){return n.optionComparator(e,n.$data._value)}))||e},closeSearchOptions:function(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue:function(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){var e=null;this.multiple&&(e=t()(this.selectedValue.slice(0,this.selectedValue.length-1))),this.updateValue(e)}},optionExists:function(e){var t=this;return this.optionList.some((function(n){return t.optionComparator(n,e)}))},normalizeOptionForSlot:function(e){return"object"===s()(e)?e:a()({},this.label,e)},pushTag:function(e){this.pushedTags.push(e)},onEscape:function(){this.search.length?this.search="":this.open=!1},onSearchBlur:function(){if(!this.mousedown||this.searching){var e=this.clearSearchOnSelect,t=this.multiple;return this.clearSearchOnBlur({clearSearchOnSelect:e,multiple:t})&&(this.search=""),void this.closeSearchOptions()}this.mousedown=!1,0!==this.search.length||0!==this.options.length||this.closeSearchOptions()},onSearchFocus:function(){this.open=!0,this.$emit("search:focus")},onMousedown:function(){this.mousedown=!0},onMouseUp:function(){this.mousedown=!1},onSearchKeyDown:function(e){var t=this,n=function(e){return e.preventDefault(),!t.isComposing&&t.typeAheadSelect()},o={8:function(e){return t.maybeDeleteValue()},9:function(e){return t.onTab()},27:function(e){return t.onEscape()},38:function(e){if(e.preventDefault(),t.open)return t.typeAheadUp();t.open=!0},40:function(e){if(e.preventDefault(),t.open)return t.typeAheadDown();t.open=!0}};this.selectOnKeyCodes.forEach((function(e){return o[e]=n}));var i=this.mapKeydown(o,this);if("function"==typeof i[e.keyCode])return i[e.keyCode](e)},onSearchKeyPress:function(e){this.open||32!==e.keyCode||(e.preventDefault(),this.open=!0)}}},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"v-select",class:e.stateClasses,attrs:{dir:e.dir}},[e._t("header",null,null,e.scope.header),e._v(" "),n("div",{ref:"toggle",staticClass:"vs__dropdown-toggle",attrs:{id:"vs"+e.uid+"__combobox",role:"combobox","aria-expanded":e.dropdownOpen.toString(),"aria-owns":"vs"+e.uid+"__listbox","aria-label":"Search for option"},on:{mousedown:function(t){return e.toggleDropdown(t)}}},[n("div",{ref:"selectedOptions",staticClass:"vs__selected-options"},[e._l(e.selectedValue,(function(t){return e._t("selected-option-container",[n("span",{key:e.getOptionKey(t),staticClass:"vs__selected"},[e._t("selected-option",[e._v("\n            "+e._s(e.getOptionLabel(t))+"\n          ")],null,e.normalizeOptionForSlot(t)),e._v(" "),e.multiple?n("button",{ref:"deselectButtons",refInFor:!0,staticClass:"vs__deselect",attrs:{disabled:e.disabled,type:"button",title:"Deselect "+e.getOptionLabel(t),"aria-label":"Deselect "+e.getOptionLabel(t)},on:{click:function(n){return e.deselect(t)}}},[n(e.childComponents.Deselect,{tag:"component"})],1):e._e()],2)],{option:e.normalizeOptionForSlot(t),deselect:e.deselect,multiple:e.multiple,disabled:e.disabled})})),e._v(" "),e._t("search",[n("input",e._g(e._b({staticClass:"vs__search"},"input",e.scope.search.attributes,!1),e.scope.search.events))],null,e.scope.search)],2),e._v(" "),n("div",{ref:"actions",staticClass:"vs__actions"},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.showClearButton,expression:"showClearButton"}],ref:"clearButton",staticClass:"vs__clear",attrs:{disabled:e.disabled,type:"button",title:"Clear Selected","aria-label":"Clear Selected"},on:{click:e.clearSelection}},[n(e.childComponents.Deselect,{tag:"component"})],1),e._v(" "),e._t("open-indicator",[e.noDrop?e._e():n(e.childComponents.OpenIndicator,e._b({tag:"component"},"component",e.scope.openIndicator.attributes,!1))],null,e.scope.openIndicator),e._v(" "),e._t("spinner",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.mutableLoading,expression:"mutableLoading"}],staticClass:"vs__spinner"},[e._v("Loading...")])],null,e.scope.spinner)],2)]),e._v(" "),n("transition",{attrs:{name:e.transition}},[e.dropdownOpen?n("ul",{directives:[{name:"append-to-body",rawName:"v-append-to-body"}],key:"vs"+e.uid+"__listbox",ref:"dropdownMenu",staticClass:"vs__dropdown-menu",attrs:{id:"vs"+e.uid+"__listbox",role:"listbox",tabindex:"-1"},on:{mousedown:function(t){return t.preventDefault(),e.onMousedown(t)},mouseup:e.onMouseUp}},[e._t("list-header",null,null,e.scope.listHeader),e._v(" "),e._l(e.filteredOptions,(function(t,o){return n("li",{key:e.getOptionKey(t),staticClass:"vs__dropdown-option",class:{"vs__dropdown-option--deselect":e.isOptionDeselectable(t)&&o===e.typeAheadPointer,"vs__dropdown-option--selected":e.isOptionSelected(t),"vs__dropdown-option--highlight":o===e.typeAheadPointer,"vs__dropdown-option--disabled":!e.selectable(t)},attrs:{id:"vs"+e.uid+"__option-"+o,role:"option","aria-selected":o===e.typeAheadPointer||null},on:{mouseover:function(n){e.selectable(t)&&(e.typeAheadPointer=o)},click:function(n){n.preventDefault(),n.stopPropagation(),e.selectable(t)&&e.select(t)}}},[e._t("option",[e._v("\n          "+e._s(e.getOptionLabel(t))+"\n        ")],null,e.normalizeOptionForSlot(t))],2)})),e._v(" "),0===e.filteredOptions.length?n("li",{staticClass:"vs__no-options"},[e._t("no-options",[e._v("\n          Sorry, no matching options.\n        ")],null,e.scope.noOptions)],2):e._e(),e._v(" "),e._t("list-footer",null,null,e.scope.listFooter)],2):n("ul",{staticStyle:{display:"none",visibility:"hidden"},attrs:{id:"vs"+e.uid+"__listbox",role:"listbox"}})]),e._v(" "),e._t("footer",null,null,e.scope.footer)],2)}),[],!1,null,null,null).exports,w={ajax:u,pointer:c,pointerScroll:l},A=y})(),o})()},function(e,t,n){e.exports=function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=89)}([function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var o=n(35),i=Function.prototype,r=i.call,s=o&&i.bind.bind(r,r);e.exports=o?s:function(e){return function(){return r.apply(e,arguments)}}},function(e,t,n){var o=n(59),i=o.all;e.exports=o.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},function(e,t,n){var o=n(4),i=n(43).f,r=n(30),s=n(11),u=n(33),a=n(95),l=n(66);e.exports=function(e,t){var n,c,d,p,h,m=e.target,f=e.global,g=e.stat;if(n=f?o:g?o[m]||u(m,{}):(o[m]||{}).prototype)for(c in t){if(p=t[c],d=e.dontCallGetSet?(h=i(n,c))&&h.value:n[c],!l(f?c:m+(g?".":"#")+c,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;a(p,d)}(e.sham||d&&d.sham)&&r(p,"sham",!0),s(n,c,p,e)}}},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(t,n(139))},function(e,t,n){var o=n(0);e.exports=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var o=n(8),i=String,r=TypeError;e.exports=function(e){if(o(e))return e;throw r(i(e)+" is not an object")}},function(e,t,n){var o=n(1),i=n(14),r=o({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return r(i(e),t)}},function(e,t,n){var o=n(2),i=n(59),r=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:o(e)||e===r}:function(e){return"object"==typeof e?null!==e:o(e)}},function(e,t,n){var o=n(4),i=n(47),r=n(7),s=n(75),u=n(72),a=n(76),l=i("wks"),c=o.Symbol,d=c&&c.for,p=a?c:c&&c.withoutSetter||s;e.exports=function(e){if(!r(l,e)||!u&&"string"!=typeof l[e]){var t="Symbol."+e;u&&r(c,e)?l[e]=c[e]:l[e]=a&&d?d(t):p(t)}return l[e]}},function(e,t,n){var o=n(123);e.exports=function(e){return o(e.length)}},function(e,t,n){var o=n(2),i=n(13),r=n(104),s=n(33);e.exports=function(e,t,n,u){u||(u={});var a=u.enumerable,l=void 0!==u.name?u.name:t;if(o(n)&&r(n,l,u),u.global)a?e[t]=n:s(t,n);else{try{u.unsafe?e[t]&&(a=!0):delete e[t]}catch(e){}a?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return e}},function(e,t,n){var o=n(35),i=Function.prototype.call;e.exports=o?i.bind(i):function(){return i.apply(i,arguments)}},function(e,t,n){var o=n(5),i=n(62),r=n(77),s=n(6),u=n(50),a=TypeError,l=Object.defineProperty,c=Object.getOwnPropertyDescriptor;t.f=o?r?function(e,t,n){if(s(e),t=u(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var o=c(e,t);o&&o.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:o.configurable,enumerable:"enumerable"in n?n.enumerable:o.enumerable,writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(s(e),t=u(t),s(n),i)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw a("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var o=n(24),i=Object;e.exports=function(e){return i(o(e))}},function(e,t,n){var o=n(1),i=o({}.toString),r=o("".slice);e.exports=function(e){return r(i(e),8,-1)}},function(e,t,n){var o=n(0),i=n(9),r=n(23),s=i("species");e.exports=function(e){return r>=51||!o((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){var o=n(4),i=n(2),r=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?r(o[e]):o[e]&&o[e][t]}},function(e,t,n){var o=n(15);e.exports=Array.isArray||function(e){return"Array"==o(e)}},function(e,t,n){var o=n(39),i=n(24);e.exports=function(e){return o(i(e))}},function(e,t,n){var o=n(29),i=String;e.exports=function(e){if("Symbol"===o(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},function(e,t,n){var o=n(100),i=n(1),r=n(39),s=n(14),u=n(10),a=n(28),l=i([].push),c=function(e){var t=1==e,n=2==e,i=3==e,c=4==e,d=6==e,p=7==e,h=5==e||d;return function(m,f,g,v){for(var b,y,w=s(m),A=r(w),x=o(f,g),O=u(A),C=0,_=v||a,S=t?_(m,O):n||p?_(m,0):void 0;O>C;C++)if((h||C in A)&&(y=x(b=A[C],C,w),e))if(t)S[C]=y;else if(y)switch(e){case 3:return!0;case 5:return b;case 6:return C;case 2:l(S,b)}else switch(e){case 4:return!1;case 7:l(S,b)}return d?-1:i||c?c:S}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},function(e,t){var n=TypeError;e.exports=function(e){if(e>9007199254740991)throw n("Maximum allowed index exceeded");return e}},function(e,t,n){var o,i,r=n(4),s=n(97),u=r.process,a=r.Deno,l=u&&u.versions||a&&a.version,c=l&&l.v8;c&&(i=(o=c.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!i&&s&&(!(o=s.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=s.match(/Chrome\/(\d+)/))&&(i=+o[1]),e.exports=i},function(e,t,n){var o=n(40),i=TypeError;e.exports=function(e){if(o(e))throw i("Can't call method on "+e);return e}},function(e,t,n){var o=n(2),i=n(74),r=TypeError;e.exports=function(e){if(o(e))return e;throw r(i(e)+" is not a function")}},function(e,t,n){"use strict";var o=n(0);e.exports=function(e,t){var n=[][e];return!!n&&o((function(){n.call(null,t||function(){return 1},1)}))}},function(e,t,n){"use strict";var o=n(5),i=n(18),r=TypeError,s=Object.getOwnPropertyDescriptor,u=o&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=u?function(e,t){if(i(e)&&!s(e,"length").writable)throw r("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},function(e,t,n){var o=n(94);e.exports=function(e,t){return new(o(e))(0===t?0:t)}},function(e,t,n){var o=n(51),i=n(2),r=n(15),u=n(9)("toStringTag"),a=Object,l="Arguments"==r(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(e){}};e.exports=o?r:function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=c(t=a(e),u))?n:l?r(t):"Object"==(o=r(t))&&i(t.callee)?"Arguments":o}},function(e,t,n){var o=n(5),i=n(13),r=n(31);e.exports=o?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";var o=n(50),i=n(13),r=n(31);e.exports=function(e,t,n){var s=o(t);s in e?i.f(e,s,r(0,n)):e[s]=n}},function(e,t,n){var o=n(4),i=Object.defineProperty;e.exports=function(e,t){try{i(o,e,{value:t,configurable:!0,writable:!0})}catch(n){o[e]=t}return t}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var o=n(0);e.exports=!o((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},function(e,t,n){var o=n(5),i=n(7),r=Function.prototype,s=o&&Object.getOwnPropertyDescriptor,u=i(r,"name"),a=u&&"something"===function(){}.name,l=u&&(!o||o&&s(r,"name").configurable);e.exports={EXISTS:u,PROPER:a,CONFIGURABLE:l}},function(e,t,n){var o=n(15),i=n(1);e.exports=function(e){if("Function"===o(e))return i(e)}},function(e,t){e.exports={}},function(e,t,n){var o=n(1),i=n(0),r=n(15),s=Object,u=o("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?u(e,""):s(e)}:s},function(e,t){e.exports=function(e){return null==e}},function(e,t,n){var o=n(17),i=n(2),r=n(44),s=n(76),u=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return i(t)&&r(t.prototype,u(e))}},function(e,t,n){var o,i=n(6),r=n(107),s=n(34),u=n(38),a=n(101),l=n(60),c=n(70)("IE_PROTO"),p=function(){},d=function(e){return"<script>"+e+"<\/script>"},h=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){var e,t=l("iframe");return t.style.display="none",a.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F},g=function(){try{o=new ActiveXObject("htmlfile")}catch(e){}g="undefined"!=typeof document?document.domain&&o?h(o):m():h(o);for(var e=s.length;e--;)delete g.prototype[s[e]];return g()};u[c]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(p.prototype=i(e),n=new p,p.prototype=null,n[c]=e):n=g(),void 0===t?n:r.f(n,t)}},function(e,t,n){var o=n(5),i=n(12),r=n(110),s=n(31),u=n(19),a=n(50),l=n(7),c=n(62),d=Object.getOwnPropertyDescriptor;t.f=o?d:function(e,t){if(e=u(e),t=a(t),c)try{return d(e,t)}catch(e){}if(l(e,t))return s(!i(r.f,e,t),e[t])}},function(e,t,n){var o=n(1);e.exports=o({}.isPrototypeOf)},function(e,t,n){"use strict";var o=n(12),i=n(1),r=n(20),s=n(69),u=n(117),a=n(47),l=n(42),c=n(64).get,d=n(118),p=n(119),h=a("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,f=m,g=i("".charAt),v=i("".indexOf),b=i("".replace),y=i("".slice),w=function(){var e=/a/,t=/b*/g;return o(m,e,"a"),o(m,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),A=u.BROKEN_CARET,x=void 0!==/()??/.exec("")[1];(w||x||A||d||p)&&(f=function(e){var t,n,i,u,a,d,p,O=this,C=c(O),_=r(e),S=C.raw;if(S)return S.lastIndex=O.lastIndex,t=o(f,S,_),O.lastIndex=S.lastIndex,t;var k=C.groups,T=A&&O.sticky,j=o(s,O),E=O.source,D=0,I=_;if(T&&(j=b(j,"y",""),-1===v(j,"g")&&(j+="g"),I=y(_,O.lastIndex),O.lastIndex>0&&(!O.multiline||O.multiline&&"\n"!==g(_,O.lastIndex-1))&&(E="(?: "+E+")",I=" "+I,D++),n=new RegExp("^(?:"+E+")",j)),x&&(n=new RegExp("^"+E+"$(?!\\s)",j)),w&&(i=O.lastIndex),u=o(m,T?n:O,I),T?u?(u.input=y(u.input,D),u[0]=y(u[0],D),u.index=O.lastIndex,O.lastIndex+=u[0].length):O.lastIndex=0:w&&u&&(O.lastIndex=O.global?u.index+u[0].length:i),x&&u&&u.length>1&&o(h,u[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(u[a]=void 0)})),u&&k)for(u.groups=d=l(null),a=0;a<k.length;a++)d[(p=k[a])[0]]=u[p[1]];return u}),e.exports=f},function(e,t,n){var o=n(4),i=n(33),r=o["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=r},function(e,t,n){var o=n(103),i=n(46);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.1",mode:o?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(e,t,n){var o=n(49),i=Math.max,r=Math.min;e.exports=function(e,t){var n=o(e);return n<0?i(n+t,0):r(n,t)}},function(e,t,n){var o=n(105);e.exports=function(e){var t=+e;return t!=t||0===t?0:o(t)}},function(e,t,n){var o=n(73),i=n(41);e.exports=function(e){var t=o(e,"string");return i(t)?t:t+""}},function(e,t,n){var o={};o[n(9)("toStringTag")]="z",e.exports="[object z]"===String(o)},function(e,t,n){"use strict";var o=n(5),i=n(4),r=n(1),s=n(66),u=n(11),a=n(7),l=n(102),c=n(44),d=n(41),p=n(73),h=n(0),m=n(67).f,f=n(43).f,g=n(13).f,v=n(122),b=n(71).trim,y=i.Number,w=y.prototype,A=i.TypeError,x=r("".slice),O=r("".charCodeAt),C=function(e){var t=p(e,"number");return"bigint"==typeof t?t:_(t)},_=function(e){var t,n,o,i,r,s,u,a,l=p(e,"number");if(d(l))throw A("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=b(l),43===(t=O(l,0))||45===t){if(88===(n=O(l,2))||120===n)return NaN}else if(48===t){switch(O(l,1)){case 66:case 98:o=2,i=49;break;case 79:case 111:o=8,i=55;break;default:return+l}for(s=(r=x(l,2)).length,u=0;u<s;u++)if((a=O(r,u))<48||a>i)return NaN;return parseInt(r,o)}return+l};if(s("Number",!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var S,k=function(e){var t=arguments.length<1?0:y(C(e)),n=this;return c(w,n)&&h((function(){v(n)}))?l(Object(t),n,k):t},T=o?m(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),j=0;T.length>j;j++)a(y,S=T[j])&&!a(k,S)&&g(k,S,f(y,S));k.prototype=w,w.constructor=k,u(i,"Number",k,{constructor:!0})}},function(e,t,n){"use strict";var o=n(3),i=n(45);o({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(e,t,n){"use strict";function o(e){return!(0===e||(!Array.isArray(e)||0!==e.length)&&e)}function i(e){return function(){return!e.apply(void 0,arguments)}}function r(e,t){return void 0===e&&(e="undefined"),null===e&&(e="null"),!1===e&&(e="false"),-1!==e.toString().toLowerCase().indexOf(t.trim())}function s(e,t,n,o){return e.filter((function(e){return r(o(e,n),t)}))}function u(e){return e.filter((function(e){return!e.$isLabel}))}function a(e,t){return function(n){return n.reduce((function(n,o){return o[e]&&o[e].length?(n.push({$groupLabel:o[t],$isLabel:!0}),n.concat(o[e])):n}),[])}}function l(e,t,o,i,r){return function(u){return u.map((function(u){var a;if(!u[o])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];var l=s(u[o],e,t,r);return l.length?(a={},n.i(d.a)(a,i,u[i]),n.i(d.a)(a,o,l),a):[]}))}}var c=n(88),d=n(87),p=n(129),h=(n.n(p),n(82)),m=(n.n(h),n(81)),f=(n.n(m),n(83)),g=(n.n(f),n(84)),v=(n.n(g),n(128)),b=(n.n(v),n(135)),y=(n.n(b),n(127)),w=(n.n(y),n(132)),A=(n.n(w),n(131)),x=(n.n(A),n(125)),O=(n.n(x),n(130)),C=(n.n(O),n(52)),_=(n.n(C),n(53)),S=(n.n(_),n(85)),k=(n.n(S),n(134)),T=(n.n(k),n(80)),j=(n.n(T),n(79)),E=(n.n(j),n(133)),D=(n.n(E),n(126)),I=(n.n(D),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}});t.a={data:function(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},value:{type:null,default:function(){return[]}},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default:function(e,t){return o(e)?"":t?e[t]:e}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default:function(){return[]}},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1},preventAutofocus:{type:Boolean,default:!1}},mounted:function(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0])},computed:{internalValue:function(){return this.value||0===this.value?Array.isArray(this.value)?this.value:[this.value]:[]},filteredOptions:function(){var e=this.search||"",t=e.toLowerCase().trim(),n=this.options.concat();return n=this.internalSearch?this.groupValues?this.filterAndFlat(n,t,this.label):s(n,t,this.label,this.customLabel):this.groupValues?a(this.groupValues,this.groupLabel)(n):n,n=this.hideSelected?n.filter(i(this.isSelected)):n,this.taggable&&t.length&&!this.isExistingOption(t)&&("bottom"===this.tagPosition?n.push({isTag:!0,label:e}):n.unshift({isTag:!0,label:e})),n.slice(0,this.optionsLimit)},valueKeys:function(){var e=this;return this.trackBy?this.internalValue.map((function(t){return t[e.trackBy]})):this.internalValue},optionKeys:function(){var e=this;return(this.groupValues?this.flatAndStrip(this.options):this.options).map((function(t){return e.customLabel(t,e.label).toString().toLowerCase()}))},currentOptionLabel:function(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:function(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("input",this.multiple?[]:null))},search:function(){this.$emit("search-change",this.search,this.id)}},methods:{getValue:function(){return this.multiple?this.internalValue:0===this.internalValue.length?null:this.internalValue[0]},filterAndFlat:function(e,t,n){return I(l(t,n,this.groupValues,this.groupLabel,this.customLabel),a(this.groupValues,this.groupLabel))(e)},flatAndStrip:function(e){return I(a(this.groupValues,this.groupLabel),u)(e)},updateSearch:function(e){this.search=e},isExistingOption:function(e){return!!this.options&&this.optionKeys.indexOf(e)>-1},isSelected:function(e){var t=this.trackBy?e[this.trackBy]:e;return this.valueKeys.indexOf(t)>-1},isOptionDisabled:function(e){return!!e.$isDisabled},getOptionLabel:function(e){if(o(e))return"";if(e.isTag)return e.label;if(e.$isLabel)return e.$groupLabel;var t=this.customLabel(e,this.label);return o(t)?"":t},select:function(e,t){if(e.$isLabel&&this.groupSelect)this.selectGroup(e);else if(!(-1!==this.blockKeys.indexOf(t)||this.disabled||e.$isDisabled||e.$isLabel)&&(!this.max||!this.multiple||this.internalValue.length!==this.max)&&("Tab"!==t||this.pointerDirty)){if(e.isTag)this.$emit("tag",e.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(e))return void("Tab"!==t&&this.removeElement(e));this.multiple?this.$emit("input",this.internalValue.concat([e]),this.id):this.$emit("input",e,this.id),this.$emit("select",e,this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup:function(e){var t=this,n=this.options.find((function(n){return n[t.groupLabel]===e.$groupLabel}));if(n){if(this.wholeGroupSelected(n)){this.$emit("remove",n[this.groupValues],this.id);var o=this.internalValue.filter((function(e){return-1===n[t.groupValues].indexOf(e)}));this.$emit("input",o,this.id)}else{var i=n[this.groupValues].filter((function(e){return!(t.isOptionDisabled(e)||t.isSelected(e))}));this.max&&i.splice(this.max-this.internalValue.length),this.$emit("select",i,this.id),this.$emit("input",this.internalValue.concat(i),this.id)}this.closeOnSelect&&this.deactivate()}},wholeGroupSelected:function(e){var t=this;return e[this.groupValues].every((function(e){return t.isSelected(e)||t.isOptionDisabled(e)}))},wholeGroupDisabled:function(e){return e[this.groupValues].every(this.isOptionDisabled)},removeElement:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.disabled&&!e.$isDisabled){if(!this.allowEmpty&&this.internalValue.length<=1)return void this.deactivate();var o="object"===n.i(c.a)(e)?this.valueKeys.indexOf(e[this.trackBy]):this.valueKeys.indexOf(e);if(this.multiple){var i=this.internalValue.slice(0,o).concat(this.internalValue.slice(o+1));this.$emit("input",i,this.id)}else this.$emit("input",null,this.id);this.$emit("remove",e,this.id),this.closeOnSelect&&t&&this.deactivate()}},removeLastElement:function(){-1===this.blockKeys.indexOf("Delete")&&0===this.search.length&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate:function(){var e=this;this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&0===this.pointer&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.preventAutofocus||this.$nextTick((function(){return e.$refs.search&&e.$refs.search.focus()}))):this.preventAutofocus||void 0!==this.$el&&this.$el.focus(),this.$emit("open",this.id))},deactivate:function(){this.isOpen&&(this.isOpen=!1,this.searchable?void 0!==this.$refs.search&&this.$refs.search.blur():void 0!==this.$el&&this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle:function(){this.isOpen?this.deactivate():this.activate()},adjustPosition:function(){if("undefined"!=typeof window){var e=this.$el.getBoundingClientRect().top,t=window.innerHeight-this.$el.getBoundingClientRect().bottom;t>this.maxHeight||t>e||"below"===this.openDirection||"bottom"===this.openDirection?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(t-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(e-40,this.maxHeight))}}}}},function(e,t,n){"use strict";var o=n(52),i=(n.n(o),n(53)),r=(n.n(i),n(85)),s=(n.n(r),n(82)),u=(n.n(s),n(81)),a=(n.n(u),n(83)),l=(n.n(a),n(84)),c=(n.n(l),n(79));n.n(c),t.a={data:function(){return{pointer:0,pointerDirty:!1}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition:function(){return this.pointer*this.optionHeight},visibleElements:function(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions:function(){this.pointerAdjust()},isOpen:function(){this.pointerDirty=!1},pointer:function(){this.$refs.search&&this.$refs.search.setAttribute("aria-activedescendant",this.id+"-"+this.pointer.toString())}},methods:{optionHighlight:function(e,t){return{"multiselect__option--highlight":e===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(t)}},groupHighlight:function(e,t){var n=this;if(!this.groupSelect)return["multiselect__option--disabled",{"multiselect__option--group":t.$isLabel}];var o=this.options.find((function(e){return e[n.groupLabel]===t.$groupLabel}));return o&&!this.wholeGroupDisabled(o)?["multiselect__option--group",{"multiselect__option--highlight":e===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(o)}]:"multiselect__option--disabled"},addPointerElement:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Enter").key;this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],e),this.pointerReset()},pointerForward:function(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward:function(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset:function(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust:function(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet:function(e){this.pointer=e,this.pointerDirty=!0}}}},function(e,t,n){"use strict";var o=n(52),i=(n.n(o),n(80)),r=(n.n(i),n(54)),s=n(55);t.a={name:"vue-multiselect",mixins:[r.a,s.a],props:{name:{type:String,default:""},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:function(e){return"and ".concat(e," more")}},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0}},computed:{hasOptionGroup:function(){return this.groupValues&&this.groupLabel&&this.groupSelect},isSingleLabelVisible:function(){return(this.singleValue||0===this.singleValue)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible:function(){return!(this.internalValue.length||this.searchable&&this.isOpen)},visibleValues:function(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue:function(){return this.internalValue[0]},deselectLabelText:function(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText:function(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText:function(){return this.showLabels?this.selectLabel:""},selectGroupLabelText:function(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText:function(){return this.showLabels?this.selectedLabel:""},inputStyle:function(){return this.searchable||this.multiple&&this.value&&this.value.length?this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}:""},contentStyle:function(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove:function(){return"above"===this.openDirection||"top"===this.openDirection||"below"!==this.openDirection&&"bottom"!==this.openDirection&&"above"===this.preferredOpenDirection},showSearchInput:function(){return this.searchable&&(!this.hasSingleSelectedSlot||!this.visibleSingleValue&&0!==this.visibleSingleValue||this.isOpen)}}}},function(e,t,n){var o=n(19),i=n(48),r=n(10),s=function(e){return function(t,n,s){var u,a=o(t),l=r(a),c=i(s,l);if(e&&n!=n){for(;l>c;)if((u=a[c++])!=u)return!0}else for(;l>c;c++)if((e||c in a)&&a[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},function(e,t,n){"use strict";var o=n(74),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+o(t)+" of "+o(e))}},function(e,t){var n="object"==typeof document&&document.all,o=void 0===n&&void 0!==n;e.exports={all:n,IS_HTMLDDA:o}},function(e,t,n){var o=n(4),i=n(8),r=o.document,s=i(r)&&i(r.createElement);e.exports=function(e){return s?r.createElement(e):{}}},function(e,t,n){var o=n(25),i=n(40);e.exports=function(e,t){var n=e[t];return i(n)?void 0:o(n)}},function(e,t,n){var o=n(5),i=n(0),r=n(60);e.exports=!o&&!i((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var o=n(1),i=n(2),r=n(46),s=o(Function.toString);i(r.inspectSource)||(r.inspectSource=function(e){return s(e)}),e.exports=r.inspectSource},function(e,t,n){var o,i,r,s=n(124),u=n(4),a=n(8),l=n(30),c=n(7),d=n(46),p=n(70),h=n(38),m=u.TypeError,f=u.WeakMap,g=function(e){return r(e)?i(e):o(e,{})},v=function(e){return function(t){var n;if(!a(t)||(n=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}};if(s||d.state){var b=d.state||(d.state=new f);b.get=b.get,b.has=b.has,b.set=b.set,o=function(e,t){if(b.has(e))throw m("Object already initialized");return t.facade=e,b.set(e,t),t},i=function(e){return b.get(e)||{}},r=function(e){return b.has(e)}}else{var y=p("state");h[y]=!0,o=function(e,t){if(c(e,y))throw m("Object already initialized");return t.facade=e,l(e,y,t),t},i=function(e){return c(e,y)?e[y]:{}},r=function(e){return c(e,y)}}e.exports={set:o,get:i,has:r,enforce:g,getterFor:v}},function(e,t,n){var o=n(1),i=n(0),r=n(2),s=n(29),u=n(17),a=n(63),l=function(){},c=[],d=u("Reflect","construct"),p=/^\s*(?:class|function)\b/,h=o(p.exec),m=!p.exec(l),f=function(e){if(!r(e))return!1;try{return d(l,c,e),!0}catch(e){return!1}},g=function(e){if(!r(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!h(p,a(e))}catch(e){return!0}};g.sham=!0,e.exports=!d||i((function(){var e;return f(f.call)||!f(Object)||!f((function(){e=!0}))||e}))?g:f},function(e,t,n){var o=n(0),i=n(2),r=/#|\.prototype\./,s=function(e,t){var n=a[u(e)];return n==c||n!=l&&(i(t)?o(t):!!t)},u=s.normalize=function(e){return String(e).replace(r,".").toLowerCase()},a=s.data={},l=s.NATIVE="N",c=s.POLYFILL="P";e.exports=s},function(e,t,n){var o=n(68),r=n(34).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,r)}},function(e,t,n){var o=n(1),i=n(7),r=n(19),s=n(57).indexOf,u=n(38),a=o([].push);e.exports=function(e,t){var n,o=r(e),l=0,c=[];for(n in o)!i(u,n)&&i(o,n)&&a(c,n);for(;t.length>l;)i(o,n=t[l++])&&(~s(c,n)||a(c,n));return c}},function(e,t,n){"use strict";var o=n(6);e.exports=function(){var e=o(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},function(e,t,n){var o=n(47),i=n(75),r=o("keys");e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var o=n(1),i=n(24),r=n(20),s=n(78),u=o("".replace),a="["+s+"]",l=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),d=function(e){return function(t){var n=r(i(t));return 1&e&&(n=u(n,l,"")),2&e&&(n=u(n,c,"")),n}};e.exports={start:d(1),end:d(2),trim:d(3)}},function(e,t,n){var o=n(23),i=n(0);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},function(e,t,n){var o=n(12),i=n(8),r=n(41),s=n(61),u=n(113),a=n(9),l=TypeError,c=a("toPrimitive");e.exports=function(e,t){if(!i(e)||r(e))return e;var n,a=s(e,c);if(a){if(void 0===t&&(t="default"),n=o(a,e,t),!i(n)||r(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),u(e,t)}},function(e,t){var n=String;e.exports=function(e){try{return n(e)}catch(e){return"Object"}}},function(e,t,n){var o=n(1),i=0,r=Math.random(),s=o(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+r,36)}},function(e,t,n){var o=n(72);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var o=n(5),i=n(0);e.exports=o&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(e,t){e.exports="\t\n\v\f\r Â áš€â€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028\u2029\ufeff"},function(e,t,n){"use strict";var o=n(3),i=n(21).find,r=n(91),s=!0;"find"in[]&&Array(1).find((function(){s=!1})),o({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r("find")},function(e,t,n){"use strict";var o=n(3),i=n(18),r=n(65),s=n(8),u=n(48),a=n(10),l=n(19),c=n(32),d=n(9),p=n(16),h=n(93),m=p("slice"),f=d("species"),g=Array,v=Math.max;o({target:"Array",proto:!0,forced:!m},{slice:function(e,t){var n,o,d,p=l(this),m=a(p),b=u(e,m),y=u(void 0===t?m:t,m);if(i(p)&&(n=p.constructor,(r(n)&&(n===g||i(n.prototype))||s(n)&&null===(n=n[f]))&&(n=void 0),n===g||void 0===n))return h(p,b,y);for(o=new(void 0===n?g:n)(v(y-b,0)),d=0;b<y;b++,d++)b in p&&c(o,d,p[b]);return o.length=d,o}})},function(e,t,n){var o=n(1),i=n(11),r=Date.prototype,s=o(r.toString),u=o(r.getTime);"Invalid Date"!=String(new Date(NaN))&&i(r,"toString",(function(){var e=u(this);return e==e?s(this):"Invalid Date"}))},function(e,t,n){var o=n(11),i=n(98),r=Error.prototype;r.toString!==i&&o(r,"toString",i)},function(e,t,n){var o=n(51),i=n(11),r=n(112);o||i(Object.prototype,"toString",r,{unsafe:!0})},function(e,t,n){"use strict";var o=n(36).PROPER,i=n(11),r=n(6),s=n(20),u=n(0),a=n(116),l=RegExp.prototype.toString,c=u((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),p=o&&"toString"!=l.name;(c||p)&&i(RegExp.prototype,"toString",(function(){var e=r(this);return"/"+s(e.source)+"/"+s(a(e))}),{unsafe:!0})},function(e,t,n){"use strict";var o=n(12),i=n(99),r=n(6),s=n(40),u=n(24),a=n(120),l=n(20),c=n(61),d=n(115);i("search",(function(e,t,n){return[function(t){var n=u(this),i=s(t)?void 0:c(t,e);return i?o(i,t,n):new RegExp(t)[e](l(n))},function(e){var o=r(this),i=l(e),s=n(t,o,i);if(s.done)return s.value;var u=o.lastIndex;a(u,0)||(o.lastIndex=0);var c=d(o,i);return a(o.lastIndex,u)||(o.lastIndex=u),null===c?-1:c.index}]}))},function(e,t,n){"use strict";function o(e){n(136)}var i=n(56),r=n(138),u=o,a=n(137)(i.a,r.a,!1,u,null,null);t.a=a.exports},function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=o},function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.a=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(86),i=n(54),r=n(55);n.d(t,"Multiselect",(function(){return o.a})),n.d(t,"multiselectMixin",(function(){return i.a})),n.d(t,"pointerMixin",(function(){return r.a})),t.default=o.a},function(e,t,n){var o=n(2),i=String,r=TypeError;e.exports=function(e){if("object"==typeof e||o(e))return e;throw r("Can't set "+i(e)+" as a prototype")}},function(e,t,n){var o=n(9),i=n(42),r=n(13).f,s=o("unscopables"),u=Array.prototype;null==u[s]&&r(u,s,{configurable:!0,value:i(null)}),e.exports=function(e){u[s][e]=!0}},function(e,t,n){var o=n(25),i=n(14),r=n(39),s=n(10),u=TypeError,a=function(e){return function(t,n,a,l){o(n);var c=i(t),d=r(c),p=s(c),h=e?p-1:0,m=e?-1:1;if(a<2)for(;;){if(h in d){l=d[h],h+=m;break}if(h+=m,e?h<0:p<=h)throw u("Reduce of empty array with no initial value")}for(;e?h>=0:p>h;h+=m)h in d&&(l=n(l,d[h],h,c));return l}};e.exports={left:a(!1),right:a(!0)}},function(e,t,n){var o=n(1);e.exports=o([].slice)},function(e,t,n){var o=n(18),i=n(65),r=n(8),u=n(9)("species"),a=Array;e.exports=function(e){var t;return o(e)&&(t=e.constructor,(i(t)&&(t===a||o(t.prototype))||r(t)&&null===(t=t[u]))&&(t=void 0)),void 0===t?a:t}},function(e,t,n){var o=n(7),i=n(114),r=n(43),s=n(13);e.exports=function(e,t,n){for(var u=i(t),a=s.f,l=r.f,c=0;c<u.length;c++){var d=u[c];o(e,d)||n&&o(n,d)||a(e,d,l(t,d))}}},function(e,t,n){var o=n(15),i=n(4);e.exports="process"==o(i.process)},function(e,t,n){var o=n(17);e.exports=o("navigator","userAgent")||""},function(e,t,n){"use strict";var o=n(5),i=n(0),r=n(6),s=n(42),u=n(106),a=Error.prototype.toString,l=i((function(){if(o){var e=s(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==a.call(e))return!0}return"2: 1"!==a.call({message:1,name:2})||"Error"!==a.call({})}));e.exports=l?function(){var e=r(this),t=u(e.name,"Error"),n=u(e.message);return t?n?t+": "+n:t:n}:a},function(e,t,n){"use strict";n(53);var o=n(37),i=n(11),r=n(45),s=n(0),u=n(9),a=n(30),l=u("species"),c=RegExp.prototype;e.exports=function(e,t,n,d){var p=u(e),h=!s((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),m=h&&!s((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!h||!m||n){var f=o(/./[p]),g=t(p,""[e],(function(e,t,n,i,s){var u=o(e),a=t.exec;return a===r||a===c.exec?h&&!s?{done:!0,value:f(t,n,i)}:{done:!0,value:u(n,t,i)}:{done:!1}}));i(String.prototype,e,g[0]),i(c,p,g[1])}d&&a(c[p],"sham",!0)}},function(e,t,n){var o=n(37),i=n(25),r=n(35),s=o(o.bind);e.exports=function(e,t){return i(e),void 0===t?e:r?s(e,t):function(){return e.apply(t,arguments)}}},function(e,t,n){var o=n(17);e.exports=o("document","documentElement")},function(e,t,n){var o=n(2),i=n(8),r=n(111);e.exports=function(e,t,n){var s,u;return r&&o(s=t.constructor)&&s!==n&&i(u=s.prototype)&&u!==n.prototype&&r(e,u),e}},function(e,t){e.exports=!1},function(e,t,n){var o=n(0),i=n(2),r=n(7),s=n(5),u=n(36).CONFIGURABLE,a=n(63),l=n(64),c=l.enforce,d=l.get,p=Object.defineProperty,h=s&&!o((function(){return 8!==p((function(){}),"length",{value:8}).length})),m=String(String).split("String"),f=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!r(e,"name")||u&&e.name!==t)&&(s?p(e,"name",{value:t,configurable:!0}):e.name=t),h&&n&&r(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&r(n,"constructor")&&n.constructor?s&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var o=c(e);return r(o,"source")||(o.source=m.join("string"==typeof t?t:"")),e};Function.prototype.toString=f((function(){return i(this)&&d(this).source||a(this)}),"toString")},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?o:n)(t)}},function(e,t,n){var o=n(20);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:o(e)}},function(e,t,n){var o=n(5),i=n(77),r=n(13),s=n(6),u=n(19),a=n(109);t.f=o&&!i?Object.defineProperties:function(e,t){s(e);for(var n,o=u(t),i=a(t),l=i.length,c=0;l>c;)r.f(e,n=i[c++],o[n]);return e}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var o=n(68),i=n(34);e.exports=Object.keys||function(e){return o(e,i)}},function(e,t,n){"use strict";var o={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!o.call({1:2},1);t.f=r?function(e){var t=i(this,e);return!!t&&t.enumerable}:o},function(e,t,n){var o=n(1),i=n(6),r=n(90);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=o(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,o){return i(n),r(o),t?e(n,o):n.__proto__=o,n}}():void 0)},function(e,t,n){"use strict";var o=n(51),i=n(29);e.exports=o?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,n){var o=n(12),i=n(2),r=n(8),s=TypeError;e.exports=function(e,t){var n,u;if("string"===t&&i(n=e.toString)&&!r(u=o(n,e)))return u;if(i(n=e.valueOf)&&!r(u=o(n,e)))return u;if("string"!==t&&i(n=e.toString)&&!r(u=o(n,e)))return u;throw s("Can't convert object to primitive value")}},function(e,t,n){var o=n(17),i=n(1),r=n(67),s=n(108),u=n(6),a=i([].concat);e.exports=o("Reflect","ownKeys")||function(e){var t=r.f(u(e)),n=s.f;return n?a(t,n(e)):t}},function(e,t,n){var o=n(12),i=n(6),r=n(2),s=n(15),u=n(45),a=TypeError;e.exports=function(e,t){var n=e.exec;if(r(n)){var l=o(n,e,t);return null!==l&&i(l),l}if("RegExp"===s(e))return o(u,e,t);throw a("RegExp#exec called on incompatible receiver")}},function(e,t,n){var o=n(12),i=n(7),r=n(44),s=n(69),u=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in u||i(e,"flags")||!r(u,e)?t:o(s,e)}},function(e,t,n){var o=n(0),r=n(4).RegExp,s=o((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),u=s||o((function(){return!r("a","y").sticky})),a=s||o((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:a,MISSED_STICKY:u,UNSUPPORTED_Y:s}},function(e,t,n){var o=n(0),r=n(4).RegExp;e.exports=o((function(){var e=r(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},function(e,t,n){var o=n(0),r=n(4).RegExp;e.exports=o((function(){var e=r("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var o=n(36).PROPER,i=n(0),r=n(78),s="â€‹Â…á Ž";e.exports=function(e){return i((function(){return!!r[e]()||s[e]()!==s||o&&r[e].name!==e}))}},function(e,t,n){var o=n(1);e.exports=o(1..valueOf)},function(e,t,n){var o=n(49),i=Math.min;e.exports=function(e){return e>0?i(o(e),9007199254740991):0}},function(e,t,n){var o=n(4),i=n(2),r=o.WeakMap;e.exports=i(r)&&/native code/.test(String(r))},function(e,t,n){"use strict";var o=n(3),i=n(0),r=n(18),s=n(8),u=n(14),a=n(10),l=n(22),c=n(32),d=n(28),p=n(16),h=n(9),m=n(23),f=h("isConcatSpreadable"),g=m>=51||!i((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),v=p("concat"),b=function(e){if(!s(e))return!1;var t=e[f];return void 0!==t?!!t:r(e)};o({target:"Array",proto:!0,arity:1,forced:!g||!v},{concat:function(e){var t,n,o,i,r,s=u(this),p=d(s,0),h=0;for(t=-1,o=arguments.length;t<o;t++)if(b(r=-1===t?s:arguments[t]))for(i=a(r),l(h+i),n=0;n<i;n++,h++)n in r&&c(p,h,r[n]);else l(h+1),c(p,h++,r);return p.length=h,p}})},function(e,t,n){"use strict";var o=n(3),i=n(21).every;o({target:"Array",proto:!0,forced:!n(26)("every")},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var o=n(3),i=n(21).filter;o({target:"Array",proto:!0,forced:!n(16)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var o=n(3),i=n(37),r=n(57).indexOf,s=n(26),u=i([].indexOf),a=!!u&&1/u([1],1,-0)<0,l=s("indexOf");o({target:"Array",proto:!0,forced:a||!l},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return a?u(this,e,t)||0:r(this,e,t)}})},function(e,t,n){n(3)({target:"Array",stat:!0},{isArray:n(18)})},function(e,t,n){"use strict";var o=n(3),i=n(21).map;o({target:"Array",proto:!0,forced:!n(16)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var o=n(3),i=n(14),r=n(10),s=n(27),u=n(22),l=n(0)((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();o({target:"Array",proto:!0,arity:1,forced:l||c},{push:function(e){var t=i(this),n=r(t),o=arguments.length;u(n+o);for(var a=0;a<o;a++)t[n]=arguments[a],n++;return s(t,n),n}})},function(e,t,n){"use strict";var o=n(3),i=n(92).left,r=n(26),s=n(23),u=n(96);o({target:"Array",proto:!0,forced:!r("reduce")||!u&&s>79&&s<83},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var o=n(3),i=n(14),r=n(48),s=n(49),u=n(10),a=n(27),l=n(22),c=n(28),d=n(32),p=n(58),h=n(16)("splice"),m=Math.max,g=Math.min;o({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var n,o,h,f,v,b,y=i(this),w=u(y),A=r(e,w),x=arguments.length;for(0===x?n=o=0:1===x?(n=0,o=w-A):(n=x-2,o=g(m(s(t),0),w-A)),l(w+n-o),h=c(y,o),f=0;f<o;f++)(v=A+f)in y&&d(h,f,y[v]);if(h.length=o,n<o){for(f=A;f<w-o;f++)b=f+n,(v=f+o)in y?y[b]=y[v]:p(y,b);for(f=w;f>w-o+n;f--)p(y,f-1)}else if(n>o)for(f=w-o;f>A;f--)b=f+n-1,(v=f+o-1)in y?y[b]=y[v]:p(y,b);for(f=0;f<n;f++)y[f+A]=arguments[f+2];return a(y,w-o+n),h}})},function(e,t,n){"use strict";var o=n(3),i=n(14),r=n(10),s=n(27),u=n(58),a=n(22),l=1!==[].unshift(0),c=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}();o({target:"Array",proto:!0,arity:1,forced:l||c},{unshift:function(e){var t=i(this),n=r(t),o=arguments.length;if(o){a(n+o);for(var l=n;l--;){var c=l+o;l in t?t[c]=t[l]:u(t,c)}for(var d=0;d<o;d++)t[d]=arguments[d]}return s(t,n+o)}})},function(e,t,n){"use strict";var o=n(3),i=n(71).trim;o({target:"String",proto:!0,forced:n(121)("trim")},{trim:function(){return i(this)}})},function(e,t){},function(e,t){e.exports=function(e,t,n,o,i,r){var s,u=e=e||{},a=typeof e.default;"object"!==a&&"function"!==a||(s=e,u=e.default);var l,c="function"==typeof u?u.options:u;if(t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),i&&(c._scopeId=i),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):o&&(l=o),l){var d=c.functional,p=d?c.render:c.beforeCreate;d?(c._injectStyles=l,c.render=function(e,t){return l.call(t),p(e,t)}):c.beforeCreate=p?[].concat(p,l):[l]}return{esModule:s,exports:u,options:c}}},function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"multiselect",class:{"multiselect--active":e.isOpen,"multiselect--disabled":e.disabled,"multiselect--above":e.isAbove,"multiselect--has-options-group":e.hasOptionGroup},attrs:{tabindex:e.searchable?-1:e.tabindex,role:"combobox","aria-owns":"listbox-"+e.id},on:{focus:function(t){return e.activate()},blur:function(t){!e.searchable&&e.deactivate()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])||t.target!==t.currentTarget?null:(t.preventDefault(),e.pointerForward())},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])||t.target!==t.currentTarget?null:(t.preventDefault(),e.pointerBackward())}],keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.stopPropagation(),t.target!==t.currentTarget?null:e.addPointerElement(t))},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.deactivate()}}},[e._t("caret",(function(){return[n("div",{staticClass:"multiselect__select",on:{mousedown:function(t){return t.preventDefault(),t.stopPropagation(),e.toggle()}}})]}),{toggle:e.toggle}),e._v(" "),e._t("clear",null,{search:e.search}),e._v(" "),n("div",{ref:"tags",staticClass:"multiselect__tags"},[e._t("selection",(function(){return[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visibleValues.length>0,expression:"visibleValues.length > 0"}],staticClass:"multiselect__tags-wrap"},[e._l(e.visibleValues,(function(t,o){return[e._t("tag",(function(){return[n("span",{key:o,staticClass:"multiselect__tag"},[n("span",{domProps:{textContent:e._s(e.getOptionLabel(t))}}),e._v(" "),n("i",{staticClass:"multiselect__tag-icon",attrs:{tabindex:"1"},on:{keypress:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:(n.preventDefault(),e.removeElement(t))},mousedown:function(n){return n.preventDefault(),e.removeElement(t)}}})])]}),{option:t,search:e.search,remove:e.removeElement})]}))],2),e._v(" "),e.internalValue&&e.internalValue.length>e.limit?[e._t("limit",(function(){return[n("strong",{staticClass:"multiselect__strong",domProps:{textContent:e._s(e.limitText(e.internalValue.length-e.limit))}})]}))]:e._e()]}),{search:e.search,remove:e.removeElement,values:e.visibleValues,isOpen:e.isOpen}),e._v(" "),n("transition",{attrs:{name:"multiselect__loading"}},[e._t("loading",(function(){return[n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"multiselect__spinner"})]}))],2),e._v(" "),e.searchable?n("input",{ref:"search",staticClass:"multiselect__input",style:e.inputStyle,attrs:{name:e.name,id:e.id,type:"text",autocomplete:"off",spellcheck:"false",placeholder:e.placeholder,disabled:e.disabled,tabindex:e.tabindex,"aria-controls":"listbox-"+e.id},domProps:{value:e.search},on:{input:function(t){return e.updateSearch(t.target.value)},focus:function(t){return t.preventDefault(),e.activate()},blur:function(t){return t.preventDefault(),e.deactivate()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.deactivate()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.pointerForward())},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.pointerBackward())},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:(t.stopPropagation(),e.removeLastElement())}],keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.stopPropagation(),t.target!==t.currentTarget?null:e.addPointerElement(t))}}}):e._e(),e._v(" "),e.isSingleLabelVisible?n("span",{staticClass:"multiselect__single",on:{mousedown:function(t){return t.preventDefault(),e.toggle.apply(null,arguments)}}},[e._t("singleLabel",(function(){return[[e._v(e._s(e.currentOptionLabel))]]}),{option:e.singleValue})],2):e._e(),e._v(" "),e.isPlaceholderVisible?n("span",{staticClass:"multiselect__placeholder",on:{mousedown:function(t){return t.preventDefault(),e.toggle.apply(null,arguments)}}},[e._t("placeholder",(function(){return[e._v("\n          "+e._s(e.placeholder)+"\n        ")]}))],2):e._e()],2),e._v(" "),n("transition",{attrs:{name:"multiselect"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],ref:"list",staticClass:"multiselect__content-wrapper",style:{maxHeight:e.optimizedHeight+"px"},attrs:{tabindex:"-1"},on:{focus:e.activate,mousedown:function(e){e.preventDefault()}}},[n("ul",{staticClass:"multiselect__content",style:e.contentStyle,attrs:{role:"listbox",id:"listbox-"+e.id}},[e._t("beforeList"),e._v(" "),e.multiple&&e.max===e.internalValue.length?n("li",[n("span",{staticClass:"multiselect__option"},[e._t("maxElements",(function(){return[e._v("Maximum of "+e._s(e.max)+" options selected. First remove a selected option to select another.")]}))],2)]):e._e(),e._v(" "),!e.max||e.internalValue.length<e.max?e._l(e.filteredOptions,(function(t,o){return n("li",{key:o,staticClass:"multiselect__element",attrs:{id:e.id+"-"+o,role:t&&(t.$isLabel||t.$isDisabled)?null:"option"}},[t&&(t.$isLabel||t.$isDisabled)?e._e():n("span",{staticClass:"multiselect__option",class:e.optionHighlight(o,t),attrs:{"data-select":t&&t.isTag?e.tagPlaceholder:e.selectLabelText,"data-selected":e.selectedLabelText,"data-deselect":e.deselectLabelText},on:{click:function(n){return n.stopPropagation(),e.select(t)},mouseenter:function(t){return t.target!==t.currentTarget?null:e.pointerSet(o)}}},[e._t("option",(function(){return[n("span",[e._v(e._s(e.getOptionLabel(t)))])]}),{option:t,search:e.search,index:o})],2),e._v(" "),t&&(t.$isLabel||t.$isDisabled)?n("span",{staticClass:"multiselect__option",class:e.groupHighlight(o,t),attrs:{"data-select":e.groupSelect&&e.selectGroupLabelText,"data-deselect":e.groupSelect&&e.deselectGroupLabelText},on:{mouseenter:function(t){if(t.target!==t.currentTarget)return null;e.groupSelect&&e.pointerSet(o)},mousedown:function(n){return n.preventDefault(),e.selectGroup(t)}}},[e._t("option",(function(){return[n("span",[e._v(e._s(e.getOptionLabel(t)))])]}),{option:t,search:e.search,index:o})],2):e._e()])})):e._e(),e._v(" "),n("li",{directives:[{name:"show",rawName:"v-show",value:e.showNoResults&&0===e.filteredOptions.length&&e.search&&!e.loading,expression:"showNoResults && (filteredOptions.length === 0 && search && !loading)"}]},[n("span",{staticClass:"multiselect__option"},[e._t("noResult",(function(){return[e._v("No elements found. Consider changing the search query.")]}),{search:e.search})],2)]),e._v(" "),n("li",{directives:[{name:"show",rawName:"v-show",value:e.showNoOptions&&(0===e.options.length||!0===e.hasOptionGroup&&0===e.filteredOptions.length)&&!e.search&&!e.loading,expression:"showNoOptions && ((options.length === 0 || (hasOptionGroup === true && filteredOptions.length === 0)) && !search && !loading)"}]},[n("span",{staticClass:"multiselect__option"},[e._t("noOptions",(function(){return[e._v("List is empty.")]}))],2)]),e._v(" "),e._t("afterList")],2)])])],2)},r={render:o,staticRenderFns:[]};t.a=r},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n}])},function(e,t,n){"use strict";n(555)},function(e,t,n){"use strict";n.d(t,"b",(function(){return W})),n.d(t,"a",(function(){return Q}));n(17),n(16),n(18),n(14),n(19);var o,r=n(2),l=(n(13),n(10),n(33),n(28),n(54),n(43),n(56),n(51),n(4)),c=n(3),d=n(706),h=n(8),m=n(34),f=n(1),v=n(12),y=n(15),w=n(551),A=n(5),x=n(11),O=n(27),C=n(6),_=n(552),S=n(37),k=n(39),T=n(69),j=n(23),E=n(7),D=n(0),I=n(22),R=n(44),B=n(29),M=n(26),P=n(543);function L(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function N(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):L(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var $=Object(T.a)("value",{type:f.k}),z=$.mixin,F=$.props,V=$.prop,H=$.event,W=Object(D.d)(Object(E.m)(N(N(N({},B.b),F),{},{ariaControls:Object(D.c)(f.t),block:Object(D.c)(f.g,!1),dateDisabledFn:Object(D.c)(f.l),dateFormatOptions:Object(D.c)(f.p,{year:d.f,month:d.b,day:d.f,weekday:d.b}),dateInfoFn:Object(D.c)(f.l),direction:Object(D.c)(f.t),disabled:Object(D.c)(f.g,!1),headerTag:Object(D.c)(f.t,"header"),hidden:Object(D.c)(f.g,!1),hideHeader:Object(D.c)(f.g,!1),initialDate:Object(D.c)(f.k),labelCalendar:Object(D.c)(f.t,"Calendar"),labelCurrentMonth:Object(D.c)(f.t,"Current month"),labelHelp:Object(D.c)(f.t,"Use cursor keys to navigate calendar dates"),labelNav:Object(D.c)(f.t,"Calendar navigation"),labelNextDecade:Object(D.c)(f.t,"Next decade"),labelNextMonth:Object(D.c)(f.t,"Next month"),labelNextYear:Object(D.c)(f.t,"Next year"),labelNoDateSelected:Object(D.c)(f.t,"No date selected"),labelPrevDecade:Object(D.c)(f.t,"Previous decade"),labelPrevMonth:Object(D.c)(f.t,"Previous month"),labelPrevYear:Object(D.c)(f.t,"Previous year"),labelSelected:Object(D.c)(f.t,"Selected date"),labelToday:Object(D.c)(f.t,"Today"),locale:Object(D.c)(f.f),max:Object(D.c)(f.k),min:Object(D.c)(f.k),navButtonVariant:Object(D.c)(f.t,"secondary"),noHighlightToday:Object(D.c)(f.g,!1),noKeyNav:Object(D.c)(f.g,!1),readonly:Object(D.c)(f.g,!1),roleDescription:Object(D.c)(f.t),selectedVariant:Object(D.c)(f.t,"primary"),showDecadeNav:Object(D.c)(f.g,!1),startWeekday:Object(D.c)(f.o,0),todayVariant:Object(D.c)(f.t),valueAsDate:Object(D.c)(f.g,!1),weekdayHeaderFormat:Object(D.c)(f.t,d.d,(function(e){return Object(y.a)([d.b,d.d,d.c],e)})),width:Object(D.c)(f.t,"270px")})),c.i),Q=Object(l.c)({name:c.i,mixins:[R.a,B.a,z,M.a],props:W,data:function(){var e=Object(w.f)(this[V])||"";return{selectedYMD:e,activeYMD:e||Object(w.f)(Object(w.a)(this.initialDate||this.getToday()),this.min,this.max),gridHasFocus:!1,isLive:!1}},computed:{valueId:function(){return this.safeId()},widgetId:function(){return this.safeId("_calendar-wrapper_")},navId:function(){return this.safeId("_calendar-nav_")},gridId:function(){return this.safeId("_calendar-grid_")},gridCaptionId:function(){return this.safeId("_calendar-grid-caption_")},gridHelpId:function(){return this.safeId("_calendar-grid-help_")},activeId:function(){return this.activeYMD?this.safeId("_cell-".concat(this.activeYMD,"_")):null},selectedDate:function(){return Object(w.n)(this.selectedYMD)},activeDate:function(){return Object(w.n)(this.activeYMD)},computedMin:function(){return Object(w.n)(this.min)},computedMax:function(){return Object(w.n)(this.max)},computedWeekStarts:function(){return Object(k.c)(Object(j.c)(this.startWeekday,0),0)%7},computedLocale:function(){return Object(w.o)(Object(y.b)(this.locale).filter(O.a),d.a)},computedDateDisabledFn:function(){var e=this.dateDisabledFn;return Object(D.b)(e)?e:function(){return!1}},computedDateInfoFn:function(){var e=this.dateInfoFn;return Object(D.b)(e)?e:function(){return{}}},calendarLocale:function(){var e=new Intl.DateTimeFormat(this.computedLocale,{calendar:d.a}),t=e.resolvedOptions().calendar,n=e.resolvedOptions().locale;return t!==d.a&&(n=n.replace(/-u-.+$/i,"").concat("-u-ca-gregory")),n},calendarYear:function(){return this.activeDate.getFullYear()},calendarMonth:function(){return this.activeDate.getMonth()},calendarFirstDay:function(){return Object(w.b)(this.calendarYear,this.calendarMonth,1,12)},calendarDaysInMonth:function(){var e=Object(w.b)(this.calendarFirstDay);return e.setMonth(e.getMonth()+1,0),e.getDate()},computedVariant:function(){return"btn-".concat(this.selectedVariant||"primary")},computedTodayVariant:function(){return"btn-outline-".concat(this.todayVariant||this.selectedVariant||"primary")},computedNavButtonVariant:function(){return"btn-outline-".concat(this.navButtonVariant||"primary")},isRTL:function(){var e=Object(I.g)(this.direction).toLowerCase();return"rtl"===e||"ltr"!==e&&Object(_.a)(this.computedLocale)},context:function(){var e=this.selectedYMD,t=this.activeYMD,n=Object(w.n)(e),o=Object(w.n)(t);return{selectedYMD:e,selectedDate:n,selectedFormatted:n?this.formatDateString(n):this.labelNoDateSelected,activeYMD:t,activeDate:o,activeFormatted:o?this.formatDateString(o):"",disabled:this.dateDisabled(o),locale:this.computedLocale,calendarLocale:this.calendarLocale,rtl:this.isRTL}},dateOutOfRange:function(){var e=this.computedMin,t=this.computedMax;return function(n){return n=Object(w.n)(n),e&&n<e||t&&n>t}},dateDisabled:function(){var e=this,t=this.dateOutOfRange;return function(n){n=Object(w.n)(n);var o=Object(w.f)(n);return!(!t(n)&&!e.computedDateDisabledFn(o,n))}},formatDateString:function(){return Object(w.c)(this.calendarLocale,N(N({year:d.f,month:d.e,day:d.e},this.dateFormatOptions),{},{hour:void 0,minute:void 0,second:void 0,calendar:d.a}))},formatYearMonth:function(){return Object(w.c)(this.calendarLocale,{year:d.f,month:d.b,calendar:d.a})},formatWeekdayName:function(){return Object(w.c)(this.calendarLocale,{weekday:d.b,calendar:d.a})},formatWeekdayNameShort:function(){return Object(w.c)(this.calendarLocale,{weekday:this.weekdayHeaderFormat||d.d,calendar:d.a})},formatDay:function(){var e=new Intl.NumberFormat([this.computedLocale],{style:"decimal",minimumIntegerDigits:1,minimumFractionDigits:0,maximumFractionDigits:0,notation:"standard"});return function(t){return e.format(t.getDate())}},prevDecadeDisabled:function(){var e=this.computedMin;return this.disabled||e&&Object(w.g)(Object(w.h)(this.activeDate))<e},prevYearDisabled:function(){var e=this.computedMin;return this.disabled||e&&Object(w.g)(Object(w.l)(this.activeDate))<e},prevMonthDisabled:function(){var e=this.computedMin;return this.disabled||e&&Object(w.g)(Object(w.j)(this.activeDate))<e},thisMonthDisabled:function(){return this.disabled},nextMonthDisabled:function(){var e=this.computedMax;return this.disabled||e&&Object(w.e)(Object(w.k)(this.activeDate))>e},nextYearDisabled:function(){var e=this.computedMax;return this.disabled||e&&Object(w.e)(Object(w.m)(this.activeDate))>e},nextDecadeDisabled:function(){var e=this.computedMax;return this.disabled||e&&Object(w.e)(Object(w.i)(this.activeDate))>e},calendar:function(){for(var e=[],t=this.calendarFirstDay,n=t.getFullYear(),o=t.getMonth(),r=this.calendarDaysInMonth,l=t.getDay(),c=0-((this.computedWeekStarts>l?7:0)-this.computedWeekStarts)-l,d=0;d<6&&c<r;d++){e[d]=[];for(var h=0;h<7;h++){c++;var m=Object(w.b)(n,o,c),f=m.getMonth(),v=Object(w.f)(m),y=this.dateDisabled(m),A=this.computedDateInfoFn(v,Object(w.n)(v));A=Object(C.n)(A)||Object(C.a)(A)?{class:A}:Object(C.k)(A)?N({class:""},A):{class:""},e[d].push({ymd:v,day:this.formatDay(m),label:this.formatDateString(m),isThisMonth:f===o,isDisabled:y,info:A})}}return e},calendarHeadings:function(){var e=this;return this.calendar[0].map((function(t){return{text:e.formatWeekdayNameShort(Object(w.n)(t.ymd)),label:e.formatWeekdayName(Object(w.n)(t.ymd))}}))}},watch:(o={},Object(r.a)(o,V,(function(e,t){var n=Object(w.f)(e)||"",o=Object(w.f)(t)||"";Object(w.d)(n,o)||(this.activeYMD=n||this.activeYMD,this.selectedYMD=n)})),Object(r.a)(o,"selectedYMD",(function(e,t){e!==t&&this.$emit(H,this.valueAsDate?Object(w.n)(e)||null:e||"")})),Object(r.a)(o,"context",(function(e,t){Object(S.a)(e,t)||this.$emit(h.f,e)})),Object(r.a)(o,"hidden",(function(e){this.activeYMD=this.selectedYMD||Object(w.f)(this[V]||this.constrainDate(this.initialDate||this.getToday())),this.setLive(!e)})),o),created:function(){var e=this;this.$nextTick((function(){e.$emit(h.f,e.context)}))},mounted:function(){this.setLive(!0)},activated:function(){this.setLive(!0)},deactivated:function(){this.setLive(!1)},beforeDestroy:function(){this.setLive(!1)},methods:{focus:function(){this.disabled||Object(A.d)(this.$refs.grid)},blur:function(){this.disabled||Object(A.c)(this.$refs.grid)},setLive:function(e){var t=this;e?this.$nextTick((function(){Object(A.B)((function(){t.isLive=!0}))})):this.isLive=!1},getToday:function(){return Object(w.n)(Object(w.b)())},constrainDate:function(e){return Object(w.a)(e,this.computedMin,this.computedMax)},emitSelected:function(e){var t=this;this.$nextTick((function(){t.$emit(h.K,Object(w.f)(e)||"",Object(w.n)(e)||null)}))},setGridFocusFlag:function(e){this.gridHasFocus=!this.disabled&&"focus"===e.type},onKeydownWrapper:function(e){if(!this.noKeyNav){var t=e.altKey,n=e.ctrlKey,o=e.keyCode;if(Object(y.a)([m.j,m.i,m.d,m.g,m.h,m.m,m.k,m.c],o)){Object(x.f)(e);var r=Object(w.b)(this.activeDate),l=Object(w.b)(this.activeDate),c=r.getDate(),d=this.constrainDate(this.getToday()),h=this.isRTL;o===m.j?(r=(t?n?w.h:w.l:w.j)(r),(l=Object(w.b)(r)).setDate(1)):o===m.i?(r=(t?n?w.i:w.m:w.k)(r),(l=Object(w.b)(r)).setMonth(l.getMonth()+1),l.setDate(0)):o===m.h?(r.setDate(c+(h?1:-1)),l=r=this.constrainDate(r)):o===m.k?(r.setDate(c+(h?-1:1)),l=r=this.constrainDate(r)):o===m.m?(r.setDate(c-7),l=r=this.constrainDate(r)):o===m.c?(r.setDate(c+7),l=r=this.constrainDate(r)):o===m.g?l=r=d:o===m.d&&(l=r=Object(w.n)(this.selectedDate)||d),this.dateOutOfRange(l)||Object(w.d)(r,this.activeDate)||(this.activeYMD=Object(w.f)(r)),this.focus()}}},onKeydownGrid:function(e){var t=e.keyCode,n=this.activeDate;t!==m.e&&t!==m.l||(Object(x.f)(e),this.disabled||this.readonly||this.dateDisabled(n)||(this.selectedYMD=Object(w.f)(n),this.emitSelected(n)),this.focus())},onClickDay:function(e){var t=this.selectedDate,n=this.activeDate,o=Object(w.n)(e.ymd);this.disabled||e.isDisabled||this.dateDisabled(o)||(this.readonly||(this.selectedYMD=Object(w.f)(Object(w.d)(o,t)?t:o),this.emitSelected(o)),this.activeYMD=Object(w.f)(Object(w.d)(o,n)?n:Object(w.b)(o)),this.focus())},gotoPrevDecade:function(){this.activeYMD=Object(w.f)(this.constrainDate(Object(w.h)(this.activeDate)))},gotoPrevYear:function(){this.activeYMD=Object(w.f)(this.constrainDate(Object(w.l)(this.activeDate)))},gotoPrevMonth:function(){this.activeYMD=Object(w.f)(this.constrainDate(Object(w.j)(this.activeDate)))},gotoCurrentMonth:function(){this.activeYMD=Object(w.f)(this.constrainDate(this.getToday()))},gotoNextMonth:function(){this.activeYMD=Object(w.f)(this.constrainDate(Object(w.k)(this.activeDate)))},gotoNextYear:function(){this.activeYMD=Object(w.f)(this.constrainDate(Object(w.m)(this.activeDate)))},gotoNextDecade:function(){this.activeYMD=Object(w.f)(this.constrainDate(Object(w.i)(this.activeDate)))},onHeaderClick:function(){this.disabled||(this.activeYMD=this.selectedYMD||Object(w.f)(this.getToday()),this.focus())}},render:function(e){var t=this;if(this.hidden)return e();var n=this.valueId,o=this.widgetId,l=this.navId,c=this.gridId,d=this.gridCaptionId,h=this.gridHelpId,m=this.activeId,f=this.disabled,y=this.noKeyNav,A=this.isLive,x=this.isRTL,C=this.activeYMD,_=this.selectedYMD,S=this.safeId,k=!this.showDecadeNav,T=Object(w.f)(this.getToday()),j=!this.noHighlightToday,E=e("output",{staticClass:"form-control form-control-sm text-center",class:{"text-muted":f,readonly:this.readonly||f},attrs:{id:n,for:c,role:"status",tabindex:f?null:"-1","data-selected":Object(I.g)(_),"aria-live":A?"polite":"off","aria-atomic":A?"true":null},on:{click:this.onHeaderClick,focus:this.onHeaderClick}},this.selectedDate?[e("bdi",{staticClass:"sr-only"}," (".concat(Object(I.g)(this.labelSelected),") ")),e("bdi",this.formatDateString(this.selectedDate))]:this.labelNoDateSelected||"Â ");E=e(this.headerTag,{staticClass:"b-calendar-header",class:{"sr-only":this.hideHeader},attrs:{title:this.selectedDate&&this.labelSelected||null}},[E]);var D={isRTL:x},R={shiftV:.5},B=N(N({},R),{},{flipH:x}),M=N(N({},R),{},{flipH:!x}),L=this.normalizeSlot(v.H,D)||e(P.c,{props:B}),$=this.normalizeSlot(v.J,D)||e(P.d,{props:B}),z=this.normalizeSlot(v.I,D)||e(P.f,{props:B}),F=this.normalizeSlot(v.K,D)||e(P.h,{props:R}),V=this.normalizeSlot(v.F,D)||e(P.f,{props:M}),H=this.normalizeSlot(v.G,D)||e(P.d,{props:M}),W=this.normalizeSlot(v.E,D)||e(P.c,{props:M}),Q=function(content,label,n,o,r){return e("button",{staticClass:"btn btn-sm border-0 flex-fill",class:[t.computedNavButtonVariant,{disabled:o}],attrs:{title:label||null,type:"button",tabindex:y?"-1":null,"aria-label":label||null,"aria-disabled":o?"true":null,"aria-keyshortcuts":r||null},on:o?{}:{click:n}},[e("div",{attrs:{"aria-hidden":"true"}},[content])])},U=e("div",{staticClass:"b-calendar-nav d-flex",attrs:{id:l,role:"group",tabindex:y?"-1":null,"aria-hidden":f?"true":null,"aria-label":this.labelNav||null,"aria-controls":c}},[k?e():Q(L,this.labelPrevDecade,this.gotoPrevDecade,this.prevDecadeDisabled,"Ctrl+Alt+PageDown"),Q($,this.labelPrevYear,this.gotoPrevYear,this.prevYearDisabled,"Alt+PageDown"),Q(z,this.labelPrevMonth,this.gotoPrevMonth,this.prevMonthDisabled,"PageDown"),Q(F,this.labelCurrentMonth,this.gotoCurrentMonth,this.thisMonthDisabled,"Home"),Q(V,this.labelNextMonth,this.gotoNextMonth,this.nextMonthDisabled,"PageUp"),Q(H,this.labelNextYear,this.gotoNextYear,this.nextYearDisabled,"Alt+PageUp"),k?e():Q(W,this.labelNextDecade,this.gotoNextDecade,this.nextDecadeDisabled,"Ctrl+Alt+PageUp")]),Y=e("div",{staticClass:"b-calendar-grid-caption text-center font-weight-bold",class:{"text-muted":f},attrs:{id:d,"aria-live":A?"polite":null,"aria-atomic":A?"true":null},key:"grid-caption"},this.formatYearMonth(this.calendarFirstDay)),G=e("div",{staticClass:"b-calendar-grid-weekdays row no-gutters border-bottom",attrs:{"aria-hidden":"true"}},this.calendarHeadings.map((function(t,n){return e("small",{staticClass:"col text-truncate",class:{"text-muted":f},attrs:{title:t.label===t.text?null:t.label,"aria-label":t.label},key:n},t.text)}))),K=this.calendar.map((function(n){var o=n.map((function(n,o){var l,c=n.ymd===_,d=n.ymd===C,h=n.ymd===T,m=S("_cell-".concat(n.ymd,"_")),v=e("span",{staticClass:"btn border-0 rounded-circle text-nowrap",class:(l={focus:d&&t.gridHasFocus,disabled:n.isDisabled||f,active:c},Object(r.a)(l,t.computedVariant,c),Object(r.a)(l,t.computedTodayVariant,h&&j&&!c&&n.isThisMonth),Object(r.a)(l,"btn-outline-light",!(h&&j||c||d)),Object(r.a)(l,"btn-light",!(h&&j)&&!c&&d),Object(r.a)(l,"text-muted",!n.isThisMonth&&!c),Object(r.a)(l,"text-dark",!(h&&j)&&!c&&!d&&n.isThisMonth),Object(r.a)(l,"font-weight-bold",(c||n.isThisMonth)&&!n.isDisabled),l),on:{click:function(){return t.onClickDay(n)}}},n.day);return e("div",{staticClass:"col p-0",class:n.isDisabled?"bg-light":n.info.class||"",attrs:{id:m,role:"button","data-date":n.ymd,"aria-hidden":n.isThisMonth?null:"true","aria-disabled":n.isDisabled||f?"true":null,"aria-label":[n.label,c?"(".concat(t.labelSelected,")"):null,h?"(".concat(t.labelToday,")"):null].filter(O.a).join(" "),"aria-selected":c?"true":null,"aria-current":c?"date":null},key:o},[v])}));return e("div",{staticClass:"row no-gutters",key:n[0].ymd},o)}));K=e("div",{staticClass:"b-calendar-grid-body",style:f?{pointerEvents:"none"}:{}},K);var X=e("div",{staticClass:"b-calendar-grid-help border-top small text-muted text-center bg-light",attrs:{id:h}},[e("div",{staticClass:"small"},this.labelHelp)]),Z=e("div",{staticClass:"b-calendar-grid form-control h-auto text-center",attrs:{id:c,role:"application",tabindex:y?"-1":f?null:"0","data-month":C.slice(0,-3),"aria-roledescription":this.labelCalendar||null,"aria-labelledby":d,"aria-describedby":h,"aria-disabled":f?"true":null,"aria-activedescendant":m},on:{keydown:this.onKeydownGrid,focus:this.setGridFocusFlag,blur:this.setGridFocusFlag},ref:"grid"},[Y,G,K,X]),J=this.normalizeSlot();J=J?e("footer",{staticClass:"b-calendar-footer"},J):e();var ee=e("div",{staticClass:"b-calendar-inner",style:this.block?{}:{width:this.width},attrs:{id:o,dir:x?"rtl":"ltr",lang:this.computedLocale||null,role:"group","aria-disabled":f?"true":null,"aria-controls":this.ariaControls||null,"aria-roledescription":this.roleDescription||null,"aria-describedby":[this.bvAttrs["aria-describedby"],n,h].filter(O.a).join(" ")},on:{keydown:this.onKeydownWrapper}},[E,U,Z,J]);return e("div",{staticClass:"b-calendar",class:{"d-block":this.block}},[ee])}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return U})),n.d(t,"a",(function(){return Y}));n(17),n(16),n(18),n(14),n(19);var o,r=n(2),l=n(47),c=(n(51),n(28),n(43),n(56),n(13),n(10),n(54),n(4)),d=n(3),h=n(8),m=n(34),f=n(1),v=n(35),y=n(15),w=n(551),A=n(5),x=n(11),O=n(27),C=n(6),_=n(37),S=n(552),k=n(69),T=n(23),j=n(7),E=n(0),D=n(22),I=n(29),R=n(26),B=n(588),M=n(543);function P(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function L(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var N=Object(k.a)("value",{type:f.t,defaultValue:""}),$=N.mixin,z=N.props,F=N.prop,V=N.event,H="numeric",W=function(e){return"00".concat(e||"").slice(-2)},Q=function(e){e=Object(D.g)(e);var t=null,n=null,o=null;if(v.x.test(e)){var r=e.split(":").map((function(e){return Object(T.c)(e,null)})),c=Object(l.a)(r,3);t=c[0],n=c[1],o=c[2]}return{hours:Object(C.p)(t)?null:t,minutes:Object(C.p)(n)?null:n,seconds:Object(C.p)(o)?null:o,ampm:Object(C.p)(t)||t<12?0:1}},U=Object(E.d)(Object(j.m)(L(L(L(L({},I.b),z),Object(j.k)(B.b,["labelIncrement","labelDecrement"])),{},{ariaLabelledby:Object(E.c)(f.t),disabled:Object(E.c)(f.g,!1),footerTag:Object(E.c)(f.t,"footer"),headerTag:Object(E.c)(f.t,"header"),hidden:Object(E.c)(f.g,!1),hideHeader:Object(E.c)(f.g,!1),hour12:Object(E.c)(f.g,null),labelAm:Object(E.c)(f.t,"AM"),labelAmpm:Object(E.c)(f.t,"AM/PM"),labelHours:Object(E.c)(f.t,"Hours"),labelMinutes:Object(E.c)(f.t,"Minutes"),labelNoTimeSelected:Object(E.c)(f.t,"No time selected"),labelPm:Object(E.c)(f.t,"PM"),labelSeconds:Object(E.c)(f.t,"Seconds"),labelSelected:Object(E.c)(f.t,"Selected time"),locale:Object(E.c)(f.f),minutesStep:Object(E.c)(f.o,1),readonly:Object(E.c)(f.g,!1),secondsStep:Object(E.c)(f.o,1),showSeconds:Object(E.c)(f.g,!1)})),d.Nb),Y=Object(c.c)({name:d.Nb,mixins:[I.a,$,R.a],props:U,data:function(){var e=Q(this[F]||"");return{modelHours:e.hours,modelMinutes:e.minutes,modelSeconds:e.seconds,modelAmpm:e.ampm,isLive:!1}},computed:{computedHMS:function(){return function(e){var t=e.hours,n=e.minutes,o=e.seconds,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(C.g)(t)||Object(C.g)(n)||r&&Object(C.g)(o)?"":[t,n,r?o:0].map(W).join(":")}({hours:this.modelHours,minutes:this.modelMinutes,seconds:this.modelSeconds},this.showSeconds)},resolvedOptions:function(){var e=Object(y.b)(this.locale).filter(O.a),t={hour:H,minute:H,second:H};Object(C.p)(this.hour12)||(t.hour12=!!this.hour12);var n=new Intl.DateTimeFormat(e,t).resolvedOptions(),o=n.hour12||!1,r=n.hourCycle||(o?"h12":"h23");return{locale:n.locale,hour12:o,hourCycle:r}},computedLocale:function(){return this.resolvedOptions.locale},computedLang:function(){return(this.computedLocale||"").replace(/-u-.*$/,"")},computedRTL:function(){return Object(S.a)(this.computedLang)},computedHourCycle:function(){return this.resolvedOptions.hourCycle},is12Hour:function(){return!!this.resolvedOptions.hour12},context:function(){return{locale:this.computedLocale,isRTL:this.computedRTL,hourCycle:this.computedHourCycle,hour12:this.is12Hour,hours:this.modelHours,minutes:this.modelMinutes,seconds:this.showSeconds?this.modelSeconds:0,value:this.computedHMS,formatted:this.formattedTimeString}},valueId:function(){return this.safeId()||null},computedAriaLabelledby:function(){return[this.ariaLabelledby,this.valueId].filter(O.a).join(" ")||null},timeFormatter:function(){var e={hour12:this.is12Hour,hourCycle:this.computedHourCycle,hour:H,minute:H,timeZone:"UTC"};return this.showSeconds&&(e.second=H),Object(w.c)(this.computedLocale,e)},numberFormatter:function(){return new Intl.NumberFormat(this.computedLocale,{style:"decimal",minimumIntegerDigits:2,minimumFractionDigits:0,maximumFractionDigits:0,notation:"standard"}).format},formattedTimeString:function(){var e=this.modelHours,t=this.modelMinutes,n=this.showSeconds&&this.modelSeconds||0;return this.computedHMS?this.timeFormatter(Object(w.b)(Date.UTC(0,0,1,e,t,n))):this.labelNoTimeSelected||" "},spinScopedSlots:function(){var e=this.$createElement;return{increment:function(t){var n=t.hasFocus;return e(M.g,{props:{scale:n?1.5:1.25},attrs:{"aria-hidden":"true"}})},decrement:function(t){var n=t.hasFocus;return e(M.g,{props:{flipV:!0,scale:n?1.5:1.25},attrs:{"aria-hidden":"true"}})}}}},watch:(o={},Object(r.a)(o,F,(function(e,t){if(e!==t&&!Object(_.a)(Q(e),Q(this.computedHMS))){var n=Q(e),o=n.hours,r=n.minutes,l=n.seconds,c=n.ampm;this.modelHours=o,this.modelMinutes=r,this.modelSeconds=l,this.modelAmpm=c}})),Object(r.a)(o,"computedHMS",(function(e,t){e!==t&&this.$emit(V,e)})),Object(r.a)(o,"context",(function(e,t){Object(_.a)(e,t)||this.$emit(h.f,e)})),Object(r.a)(o,"modelAmpm",(function(e,t){var n=this;if(e!==t){var o=Object(C.g)(this.modelHours)?0:this.modelHours;this.$nextTick((function(){0===e&&o>11?n.modelHours=o-12:1===e&&o<12&&(n.modelHours=o+12)}))}})),Object(r.a)(o,"modelHours",(function(e,t){e!==t&&(this.modelAmpm=e>11?1:0)})),o),created:function(){var e=this;this.$nextTick((function(){e.$emit(h.f,e.context)}))},mounted:function(){this.setLive(!0)},activated:function(){this.setLive(!0)},deactivated:function(){this.setLive(!1)},beforeDestroy:function(){this.setLive(!1)},methods:{focus:function(){this.disabled||Object(A.d)(this.$refs.spinners[0])},blur:function(){if(!this.disabled){var e=Object(A.g)();Object(A.f)(this.$el,e)&&Object(A.c)(e)}},formatHours:function(e){var t=this.computedHourCycle;return e=0===(e=this.is12Hour&&e>12?e-12:e)&&"h12"===t?12:0===e&&"h24"===t?24:12===e&&"h11"===t?0:e,this.numberFormatter(e)},formatMinutes:function(e){return this.numberFormatter(e)},formatSeconds:function(e){return this.numberFormatter(e)},formatAmpm:function(e){return 0===e?this.labelAm:1===e?this.labelPm:""},setHours:function(e){this.modelHours=e},setMinutes:function(e){this.modelMinutes=e},setSeconds:function(e){this.modelSeconds=e},setAmpm:function(e){this.modelAmpm=e},onSpinLeftRight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.keyCode;if(!this.disabled&&"keydown"===t&&(n===m.h||n===m.k)){Object(x.f)(e);var o=this.$refs.spinners||[],r=o.map((function(e){return!!e.hasFocus})).indexOf(!0);r=(r+=n===m.h?-1:1)>=o.length?0:r<0?o.length-1:r,Object(A.d)(o[r])}},setLive:function(e){var t=this;e?this.$nextTick((function(){Object(A.B)((function(){t.isLive=!0}))})):this.isLive=!1}},render:function(e){var t=this;if(this.hidden)return e();var n=this.disabled,o=this.readonly,l=this.computedLocale,d=this.computedAriaLabelledby,h=this.labelIncrement,m=this.labelDecrement,f=this.valueId,v=this.focus,y=[],w=function(d,v,w){var A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},x=t.safeId("_spinbutton_".concat(v,"_"))||null;return y.push(x),e(B.a,Object(r.a)({class:w,props:L({id:x,placeholder:"--",vertical:!0,required:!0,disabled:n,readonly:o,locale:l,labelIncrement:h,labelDecrement:m,wrap:!0,ariaControls:f,min:0},A),scopedSlots:t.spinScopedSlots,on:{change:d},key:v,ref:"spinners"},c.b,!0))},A=function(){return e("div",{staticClass:"d-flex flex-column",class:{"text-muted":n||o},attrs:{"aria-hidden":"true"}},[e(M.h,{props:{shiftV:4,scale:.5}}),e(M.h,{props:{shiftV:-4,scale:.5}})])},x=[];x.push(w(this.setHours,"hours","b-time-hours",{value:this.modelHours,max:23,step:1,formatterFn:this.formatHours,ariaLabel:this.labelHours})),x.push(A()),x.push(w(this.setMinutes,"minutes","b-time-minutes",{value:this.modelMinutes,max:59,step:this.minutesStep||1,formatterFn:this.formatMinutes,ariaLabel:this.labelMinutes})),this.showSeconds&&(x.push(A()),x.push(w(this.setSeconds,"seconds","b-time-seconds",{value:this.modelSeconds,max:59,step:this.secondsStep||1,formatterFn:this.formatSeconds,ariaLabel:this.labelSeconds}))),this.isLive&&this.is12Hour&&x.push(w(this.setAmpm,"ampm","b-time-ampm",{value:this.modelAmpm,max:1,formatterFn:this.formatAmpm,ariaLabel:this.labelAmpm,required:!1})),x=e("div",{staticClass:"d-flex align-items-center justify-content-center mx-auto",attrs:{role:"group",tabindex:n||o?null:"-1","aria-labelledby":d},on:{keydown:this.onSpinLeftRight,click:function(e){e.target===e.currentTarget&&v()}}},x);var C=e("output",{staticClass:"form-control form-control-sm text-center",class:{disabled:n||o},attrs:{id:f,role:"status",for:y.filter(O.a).join(" ")||null,tabindex:n?null:"-1","aria-live":this.isLive?"polite":"off","aria-atomic":"true"},on:{click:v,focus:v}},[e("bdi",this.formattedTimeString),this.computedHMS?e("span",{staticClass:"sr-only"}," (".concat(this.labelSelected,") ")):""]),_=e(this.headerTag,{staticClass:"b-time-header",class:{"sr-only":this.hideHeader}},[C]),S=this.normalizeSlot(),k=S?e(this.footerTag,{staticClass:"b-time-footer"},S):e();return e("div",{staticClass:"b-time d-inline-flex flex-column text-center",attrs:{role:"group",lang:this.computedLang||null,"aria-labelledby":d||null,"aria-disabled":n?"true":null,"aria-readonly":o&&!n?"true":null}},[_,x,k])}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return Q})),n.d(t,"a",(function(){return U}));n(17),n(16),n(18),n(14),n(19);var o,r=n(2),l=(n(10),n(74),n(405),n(13),n(107),n(50),n(4)),c=n(3),d=n(8),h=n(1),m=n(34),f=n(12),v=n(15),y=n(5),w=n(11),A=n(27),x=n(6),O=n(552),C=n(39),_=n(69),S=n(23),k=n(7),T=n(0),j=n(22),E=n(44),D=n(75),I=n(67),R=n(29),B=n(26),M=n(72),P=n(543);function L(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function N(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):L(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var $=Object(_.a)("value",{type:h.h}),z=$.mixin,F=$.props,V=$.prop,H=$.event,W=[m.m,m.c,m.g,m.d,m.j,m.i],Q=Object(T.d)(Object(k.m)(N(N(N(N(N(N({},R.b),F),Object(k.j)(M.b,["required","autofocus"])),D.b),I.b),{},{ariaControls:Object(T.c)(h.t),ariaLabel:Object(T.c)(h.t),formatterFn:Object(T.c)(h.l),inline:Object(T.c)(h.g,!1),labelDecrement:Object(T.c)(h.t,"Decrement"),labelIncrement:Object(T.c)(h.t,"Increment"),locale:Object(T.c)(h.f),max:Object(T.c)(h.o,100),min:Object(T.c)(h.o,1),placeholder:Object(T.c)(h.t),readonly:Object(T.c)(h.g,!1),repeatDelay:Object(T.c)(h.o,500),repeatInterval:Object(T.c)(h.o,100),repeatStepMultiplier:Object(T.c)(h.o,4),repeatThreshold:Object(T.c)(h.o,10),step:Object(T.c)(h.o,1),vertical:Object(T.c)(h.g,!1),wrap:Object(T.c)(h.g,!1)})),c.V),U=Object(l.c)({name:c.V,mixins:[E.a,R.a,z,D.a,I.a,B.a],inheritAttrs:!1,props:Q,data:function(){return{localValue:Object(S.b)(this[V],null),hasFocus:!1}},computed:{required:function(){return!1},spinId:function(){return this.safeId()},computedInline:function(){return this.inline&&!this.vertical},computedReadonly:function(){return this.readonly&&!this.disabled},computedRequired:function(){return this.required&&!this.computedReadonly&&!this.disabled},computedStep:function(){return Object(S.b)(this.step,1)},computedMin:function(){return Object(S.b)(this.min,1)},computedMax:function(){var e=Object(S.b)(this.max,100),t=this.computedStep,n=this.computedMin;return Object(C.b)((e-n)/t)*t+n},computedDelay:function(){var e=Object(S.c)(this.repeatDelay,0);return e>0?e:500},computedInterval:function(){var e=Object(S.c)(this.repeatInterval,0);return e>0?e:100},computedThreshold:function(){return Object(C.c)(Object(S.c)(this.repeatThreshold,10),1)},computedStepMultiplier:function(){return Object(C.c)(Object(S.c)(this.repeatStepMultiplier,4),1)},computedPrecision:function(){var e=this.computedStep;return Object(C.b)(e)===e?0:(e.toString().split(".")[1]||"").length},computedMultiplier:function(){return Object(C.e)(10,this.computedPrecision||0)},valueAsFixed:function(){var e=this.localValue;return Object(x.g)(e)?"":e.toFixed(this.computedPrecision)},computedLocale:function(){var e=Object(v.b)(this.locale).filter(A.a);return new Intl.NumberFormat(e).resolvedOptions().locale},computedRTL:function(){return Object(O.a)(this.computedLocale)},defaultFormatter:function(){var e=this.computedPrecision;return new Intl.NumberFormat(this.computedLocale,{style:"decimal",useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:e,maximumFractionDigits:e,notation:"standard"}).format},computedFormatter:function(){var e=this.formatterFn;return Object(T.b)(e)?e:this.defaultFormatter},computedAttrs:function(){return N(N({},this.bvAttrs),{},{role:"group",lang:this.computedLocale,tabindex:this.disabled?null:"-1",title:this.ariaLabel})},computedSpinAttrs:function(){var e=this.spinId,t=this.localValue,n=this.computedRequired,o=this.disabled,r=this.state,l=this.computedFormatter,c=!Object(x.g)(t);return N(N({dir:this.computedRTL?"rtl":"ltr"},this.bvAttrs),{},{id:e,role:"spinbutton",tabindex:o?null:"0","aria-live":"off","aria-label":this.ariaLabel||null,"aria-controls":this.ariaControls||null,"aria-invalid":!1===r||!c&&n?"true":null,"aria-required":n?"true":null,"aria-valuemin":Object(j.g)(this.computedMin),"aria-valuemax":Object(j.g)(this.computedMax),"aria-valuenow":c?t:null,"aria-valuetext":c?l(t):null})}},watch:(o={},Object(r.a)(o,V,(function(e){this.localValue=Object(S.b)(e,null)})),Object(r.a)(o,"localValue",(function(e){this.$emit(H,e)})),Object(r.a)(o,"disabled",(function(e){e&&this.clearRepeat()})),Object(r.a)(o,"readonly",(function(e){e&&this.clearRepeat()})),o),created:function(){this.$_autoDelayTimer=null,this.$_autoRepeatTimer=null,this.$_keyIsDown=!1},beforeDestroy:function(){this.clearRepeat()},deactivated:function(){this.clearRepeat()},methods:{focus:function(){this.disabled||Object(y.d)(this.$refs.spinner)},blur:function(){this.disabled||Object(y.c)(this.$refs.spinner)},emitChange:function(){this.$emit(d.c,this.localValue)},stepValue:function(e){var t=this.localValue;if(!this.disabled&&!Object(x.g)(t)){var n=this.computedStep*e,o=this.computedMin,r=this.computedMax,l=this.computedMultiplier,c=this.wrap;t=Object(C.f)((t-o)/n)*n+o+n,t=Object(C.f)(t*l)/l,this.localValue=t>r?c?o:r:t<o?c?r:o:t}},onFocusBlur:function(e){this.hasFocus=!this.disabled&&"focus"===e.type},stepUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.localValue;Object(x.g)(t)?this.localValue=this.computedMin:this.stepValue(1*e)},stepDown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.localValue;Object(x.g)(t)?this.localValue=this.wrap?this.computedMax:this.computedMin:this.stepValue(-1*e)},onKeydown:function(e){var t=e.keyCode,n=e.altKey,o=e.ctrlKey,r=e.metaKey;if(!(this.disabled||this.readonly||n||o||r)&&Object(v.a)(W,t)){if(Object(w.f)(e,{propagation:!1}),this.$_keyIsDown)return;this.resetTimers(),Object(v.a)([m.m,m.c],t)?(this.$_keyIsDown=!0,t===m.m?this.handleStepRepeat(e,this.stepUp):t===m.c&&this.handleStepRepeat(e,this.stepDown)):t===m.j?this.stepUp(this.computedStepMultiplier):t===m.i?this.stepDown(this.computedStepMultiplier):t===m.g?this.localValue=this.computedMin:t===m.d&&(this.localValue=this.computedMax)}},onKeyup:function(e){var t=e.keyCode,n=e.altKey,o=e.ctrlKey,r=e.metaKey;this.disabled||this.readonly||n||o||r||Object(v.a)(W,t)&&(Object(w.f)(e,{propagation:!1}),this.resetTimers(),this.$_keyIsDown=!1,this.emitChange())},handleStepRepeat:function(e,t){var n=this,o=e||{},r=o.type,button=o.button;if(!this.disabled&&!this.readonly){if("mousedown"===r&&button)return;this.resetTimers(),t(1);var l=this.computedThreshold,c=this.computedStepMultiplier,d=this.computedDelay,h=this.computedInterval;this.$_autoDelayTimer=setTimeout((function(){var e=0;n.$_autoRepeatTimer=setInterval((function(){t(e<l?1:c),e++}),h)}),d)}},onMouseup:function(e){var t=e||{},n=t.type,button=t.button;"mouseup"===n&&button||(Object(w.f)(e,{propagation:!1}),this.resetTimers(),this.setMouseup(!1),this.emitChange())},setMouseup:function(e){try{Object(w.c)(e,document.body,"mouseup",this.onMouseup,!1),Object(w.c)(e,document.body,"touchend",this.onMouseup,!1)}catch(e){}},resetTimers:function(){clearTimeout(this.$_autoDelayTimer),clearInterval(this.$_autoRepeatTimer),this.$_autoDelayTimer=null,this.$_autoRepeatTimer=null},clearRepeat:function(){this.resetTimers(),this.setMouseup(!1),this.$_keyIsDown=!1}},render:function(e){var t=this,n=this.spinId,o=this.localValue,r=this.computedInline,l=this.computedReadonly,c=this.vertical,d=this.disabled,h=this.computedFormatter,m=!Object(x.g)(o),v=function(o,label,r,h,m,f,v){var A=e(r,{props:{scale:t.hasFocus?1.5:1.25},attrs:{"aria-hidden":"true"}}),x={hasFocus:t.hasFocus},O=function(e){d||l||(Object(w.f)(e,{propagation:!1}),t.setMouseup(!0),Object(y.d)(e.currentTarget),t.handleStepRepeat(e,o))};return e("button",{staticClass:"btn btn-sm border-0 rounded-0",class:{"py-0":!c},attrs:{tabindex:"-1",type:"button",disabled:d||l||f,"aria-disabled":d||l||f?"true":null,"aria-controls":n,"aria-label":label||null,"aria-keyshortcuts":m||null},on:{mousedown:O,touchstart:O},key:h||null,ref:h},[t.normalizeSlot(v,x)||A])},A=v(this.stepUp,this.labelIncrement,P.l,"inc","ArrowUp",!1,f.s),O=v(this.stepDown,this.labelDecrement,P.k,"dec","ArrowDown",!1,f.f),C=e();this.name&&!d&&(C=e("input",{attrs:{type:"hidden",name:this.name,form:this.form||null,value:this.valueAsFixed},key:"hidden"}));var _=e("output",{staticClass:"flex-grow-1",class:{"d-flex":c,"align-self-center":!c,"align-items-center":c,"border-top":c,"border-bottom":c,"border-left":!c,"border-right":!c},attrs:this.computedSpinAttrs,key:"output",ref:"spinner"},[e("bdi",m?h(o):this.placeholder||"")]);return e("div",{staticClass:"b-form-spinbutton form-control",class:[{disabled:d,readonly:l,focus:this.hasFocus,"d-inline-flex":r||c,"d-flex":!r&&!c,"align-items-stretch":!c,"flex-column":c},this.sizeFormClass,this.stateClass],attrs:this.computedAttrs,on:{keydown:this.onKeydown,keyup:this.onKeyup,"!focus":this.onFocusBlur,"!blur":this.onFocusBlur}},c?[A,C,_,O]:[O,C,_,A])}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ge}));var o=n(9);function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function i(e){for(var i=1;i<arguments.length;i++){var s=null!=arguments[i]?arguments[i]:{};i%2?r(Object(s),!0).forEach((function(t){l(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?d(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var a,h,m=(a=function(e){!function(){var t={}.hasOwnProperty;function i(){for(var e=[],n=0;n<arguments.length;n++){var s=arguments[n];if(s){var o=typeof s;if("string"===o||"number"===o)e.push(s);else if(Array.isArray(s)){if(s.length){var r=i.apply(null,s);r&&e.push(r)}}else if("object"===o)if(s.toString===Object.prototype.toString)for(var a in s)t.call(s,a)&&s[a]&&e.push(a);else e.push(s.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):window.classNames=i}()},a(h={path:undefined,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&h.path)}},h.exports),h.exports),f=function(e){return function(t,i){if(!t)return e;var n;"string"==typeof t?n=t:i=t;var s=e;return n&&(s+="__"+n),s+(i?Object.keys(i).reduce((function(e,t){var n=i[t];return n&&(e+=" "+("boolean"==typeof n?s+"--"+t:s+"--"+t+"_"+n)),e}),""):"")}};function u(e,t,i){var n,s,o,r,a;function l(){var c=Date.now()-r;c<t&&c>=0?n=setTimeout(l,t-c):(n=null,i||(a=e.apply(o,s),o=s=null))}null==t&&(t=100);var c=function(){o=this,s=arguments,r=Date.now();var c=i&&!n;return n||(n=setTimeout(l,t)),c&&(a=e.apply(o,s),o=s=null),a};return c.clear=function(){n&&(clearTimeout(n),n=null)},c.flush=function(){n&&(a=e.apply(o,s),o=s=null,clearTimeout(n),n=null)},c}u.debounce=u;var v=u,y=function(){return y=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},y.apply(this,arguments)};function p(e,t){var i,n;return e&&t?(i=""+e+t[0].toUpperCase()+t.slice(1),n=e+"-"+t):(i=e||t,n=e||t),{name:i,classname:n}}function g(e){return/^blob:/.test(e)}function w(e){return g(e)||function(e){return/^data:/.test(e)}(e)}function b(e){return!!(e&&e.constructor&&e.call&&e.apply)}function A(e){return void 0===e}function x(e){return"object"==typeof e&&null!==e}function O(e,t,i){var n={};return x(e)?(Object.keys(t).forEach((function(s){A(e[s])?n[s]=t[s]:x(t[s])?x(e[s])?n[s]=O(e[s],t[s],i[s]):n[s]=e[s]?t[s]:i[s]:!0===t[s]||!1===t[s]?n[s]=Boolean(e[s]):n[s]=e[s]})),n):e?t:i}function C(e){var t=Number(e);return Number.isNaN(t)?e:t}function _(e){return typeof("number"==e||function(e){return"object"==typeof e&&null!==e}(e)&&"[object Number]"==toString.call(e))&&!S(e)}function S(e){return e!=e}function k(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}var T=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.type="manipulateImage",this.move=e,this.scale=t},j=function(e,t){void 0===t&&(t={}),this.type="resize",this.directions=e,this.params=t},E=function(e){this.type="move",this.directions=e},D=function(){function e(e,t,i,n,s){this.type="drag",this.nativeEvent=e,this.position=i,this.previousPosition=n,this.element=t,this.anchor=s}return e.prototype.shift=function(){var e=this,t=e.element,i=e.anchor,n=e.position,s=t.getBoundingClientRect(),o=s.left,r=s.top;return{left:n.left-o-i.left,top:n.top-r-i.top}},e}();function I(e,t,i,n,s,o,r,a,l,c){"boolean"!=typeof r&&(l=a,a=r,r=!1);const d="function"==typeof i?i.options:i;let h;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,s&&(d.functional=!0)),n&&(d._scopeId=n),o?(h=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},d._ssrRegister=h):t&&(h=r?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),h)if(d.functional){const e=d.render;d.render=function(t,i){return h.call(i),e(t,i)}}else{const e=d.beforeCreate;d.beforeCreate=e?[].concat(e,h):[h]}return i}var R=I({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"draggable",class:e.classname,on:{touchstart:e.onTouchStart,mousedown:e.onMouseDown,mouseover:e.onMouseOver,mouseleave:e.onMouseLeave}},[e._t("default")],2)},staticRenderFns:[]},void 0,{name:"DraggableElement",mixins:[{beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(e){e.cancelable&&!this.disabled&&1===e.touches.length&&(this.touches=c(e.touches),this.hovered||(this.$emit("enter"),this.hovered=!0),e.touches.length&&this.initAnchor(this.touches.reduce((function(t,i){return{clientX:t.clientX+i.clientX/e.touches.length,clientY:t.clientY+i.clientY/e.touches.length}}),{clientX:0,clientY:0})),e.preventDefault&&e.preventDefault(),e.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(e){this.touches.length&&(this.processMove(e,e.touches),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())},onMouseDown:function(e){if(!this.disabled&&0===e.button){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.draggable.getBoundingClientRect(),i=t.left,n=t.right,s=t.bottom,o=t.top;this.anchor={left:e.clientX-i,top:e.clientY-o,bottom:s-e.clientY,right:n-e.clientX}},processMove:function(e,t){var i=c(t);if(this.touches.length){if(1===this.touches.length&&1===i.length){var n=this.$refs.draggable;this.$emit("drag",new D(e,n,{left:i[0].clientX,top:i[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=i}},processEnd:function(){this.touches.length&&this.$emit("drag-end"),this.hovered&&(this.$emit("leave"),this.hovered=!1),this.touches=[]}}}],props:{classname:{type:String}}},void 0,!1,void 0,!1,void 0,void 0,void 0),B=f("vue-handler-wrapper"),M=I({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.classes.root},[i("DraggableElement",{class:e.classes.draggable,on:{drag:function(t){return e.$emit("drag",t)},"drag-end":function(t){return e.$emit("drag-end")},leave:function(t){return e.$emit("leave")},enter:function(t){return e.$emit("enter")}}},[e._t("default")],2)],1)},staticRenderFns:[]},void 0,{name:"HandlerWrapper",components:{DraggableElement:R},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},computed:{classes:function(){var e;if(this.horizontalPosition||this.verticalPosition){var t,i=p(this.horizontalPosition,this.verticalPosition);e=B((l(t={},i.classname,!0),l(t,"disabled",this.disabled),t))}else e=B({disabled:this.disabled});return{root:e,draggable:B("draggable")}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),P=f("vue-line-wrapper"),L=I({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("DraggableElement",{class:e.classname,on:{drag:function(t){return e.$emit("drag",t)},"drag-end":function(t){return e.$emit("drag-end")},leave:function(t){return e.$emit("leave")},enter:function(t){return e.$emit("enter")}}},[e._t("default")],2)},staticRenderFns:[]},void 0,{name:"LineWrapper",components:{DraggableElement:R},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var e;return P((l(e={},this.position,!0),l(e,"disabled",this.disabled),e))}}},void 0,!1,void 0,!1,void 0,void 0,void 0),N=["left","right","top","bottom"],$=["left","right"],z=["top","bottom"],F=["left","top"],V=["fill-area","fit-area","stencil","none"],H={left:0,top:0,width:0,height:0};function W(e,t,i){return!(i=i||["width","height","left","top"]).some((function(i){return e[i]!==t[i]}))}function Q(e){return{left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height}}function U(e,t){return{left:e.left-t.left,top:e.top-t.top}}function Y(e){return{left:e.left+e.width/2,top:e.top+e.height/2}}function G(e,t){var i={left:0,top:0,right:0,bottom:0};return N.forEach((function(n){var s=t[n],o=Q(e)[n];i[n]=void 0!==s&&void 0!==o?"left"===n||"top"===n?Math.max(0,s-o):Math.max(0,o-s):0})),i}function K(e,t){return{left:e.left-t.left,top:e.top-t.top,width:e.width+t.left+t.right,height:e.height+t.top+t.bottom}}function X(e){return{left:-e.left,top:-e.top}}function q(e,t){return y(y({},e),{left:e.left+t.left,top:e.top+t.top})}function Z(e,t,i,n){if(1!==t){if(i){var s=Y(e);return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2+(i.left-s.left)*(n||1-t),top:e.top+e.height*(1-t)/2+(i.top-s.top)*(n||1-t)}}return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2,top:e.top+e.height*(1-t)/2}}return e}function J(e){return e.width/e.height}function ee(e,t){return Math.min(void 0!==t.right&&void 0!==t.left?(t.right-t.left)/e.width:1/0,void 0!==t.bottom&&void 0!==t.top?(t.bottom-t.top)/e.height:1/0)}function te(e,t){var i={left:0,top:0},n=G(e,t);return n.left&&n.left>0?i.left=n.left:n.right&&n.right>0&&(i.left=-n.right),n.top&&n.top>0?i.top=n.top:n.bottom&&n.bottom>0&&(i.top=-n.bottom),i}function ne(e,t){var i;return t.minimum&&e<t.minimum?i=t.minimum:t.maximum&&e>t.maximum&&(i=t.maximum),i}function oe(e,t){var i=J(e),n=J(t);return t.width<1/0&&t.height<1/0?i>n?{width:t.width,height:t.width/i}:{width:t.height*i,height:t.height}:t.width<1/0?{width:t.width,height:t.width/i}:t.height<1/0?{width:t.height*i,height:t.height}:e}function re(e,t){var i=t*Math.PI/180;return{width:Math.abs(e.width*Math.cos(i))+Math.abs(e.height*Math.sin(i)),height:Math.abs(e.width*Math.sin(i))+Math.abs(e.height*Math.cos(i))}}function ie(e,t){var i=t*Math.PI/180;return{left:e.left*Math.cos(i)-e.top*Math.sin(i),top:e.left*Math.sin(i)+e.top*Math.cos(i)}}function se(e,t){var i=G(ae(e,t),t);return i.left+i.right+i.top+i.bottom?i.left+i.right>i.top+i.bottom?Math.min((e.width+i.left+i.right)/e.width,ee(e,t)):Math.min((e.height+i.top+i.bottom)/e.height,ee(e,t)):1}function ae(e,t,i){void 0===i&&(i=!1);var n=te(e,t);return q(e,i?X(n):n)}function rt(e){return{width:void 0!==e.right&&void 0!==e.left?e.right-e.left:1/0,height:void 0!==e.bottom&&void 0!==e.top?e.bottom-e.top:1/0}}function le(e,t,i){void 0===i&&(i=!0);var n={};return N.forEach((function(s){var o=e[s],r=t[s];void 0!==o&&void 0!==r?n[s]="left"===s||"top"===s?i?Math.max(o,r):Math.min(o,r):i?Math.min(o,r):Math.max(o,r):void 0!==r?n[s]=r:void 0!==o&&(n[s]=o)})),n}function ce(e,t){return le(e,t,!0)}function ue(e){var t=e.size,i=e.aspectRatio,n=e.ignoreMinimum,s=e.sizeRestrictions;return Boolean((t.correctRatio||J(t)>=i.minimum&&J(t)<=i.maximum)&&t.height<=s.maxHeight&&t.width<=s.maxWidth&&t.width&&t.height&&(n||t.height>=s.minHeight&&t.width>=s.minWidth))}function dt(e,t){return Math.pow(e.width-t.width,2)+Math.pow(e.height-t.height,2)}function de(e){var t=e.width,i=e.height,n=e.sizeRestrictions,s={minimum:e.aspectRatio&&e.aspectRatio.minimum||0,maximum:e.aspectRatio&&e.aspectRatio.maximum||1/0},o={width:Math.max(n.minWidth,Math.min(n.maxWidth,t)),height:Math.max(n.minHeight,Math.min(n.maxHeight,i))};function r(e,o){return void 0===o&&(o=!1),e.reduce((function(e,r){return ue({size:r,aspectRatio:s,sizeRestrictions:n,ignoreMinimum:o})&&(!e||dt(r,{width:t,height:i})<dt(e,{width:t,height:i}))?r:e}),null)}var a=[];s&&[s.minimum,s.maximum].forEach((function(e){e&&a.push({width:o.width,height:o.width/e,correctRatio:!0},{width:o.height*e,height:o.height,correctRatio:!0})})),ue({size:o,aspectRatio:s,sizeRestrictions:n})&&a.push(o);var l=r(a)||r(a,!0);return l&&{width:l.width,height:l.height}}function he(e){var t=e.event,i=e.coordinates,n=e.positionRestrictions,s=void 0===n?{}:n,o=q(i,t.directions);return q(o,te(o,s))}function pe(e){e.event;var t=e.getAreaRestrictions,i=e.boundaries,n=e.coordinates,s=e.visibleArea;e.aspectRatio;var o=e.stencilSize,r=e.sizeRestrictions,a=e.positionRestrictions;e.stencilReference;var l,c,d,h=y({},n),u=y({},s),m=y({},o);l=J(m),c=J(h),void 0===d&&(d=.001),(0===l||0===c?Math.abs(c-l)<d:Math.abs(c/l)<1+d&&Math.abs(c/l)>1-d)||(h=y(y({},h),de({sizeRestrictions:r,width:h.width,height:h.height,aspectRatio:{minimum:J(m),maximum:J(m)}})));var p=se(u=Z(u,h.width*i.width/(u.width*m.width)),t({visibleArea:u,type:"resize"}));return 1!==p&&(u=Z(u,p),h=Z(h,p)),u=ae(u=q(u,U(Y(h),Y(u))),t({visibleArea:u,type:"move"})),{coordinates:h=ae(h,ce(Q(u),a)),visibleArea:u}}function me(e){var t=e.event,i=e.getAreaRestrictions,n=e.boundaries,s=e.coordinates,o=e.visibleArea;e.aspectRatio,e.stencilSize,e.sizeRestrictions;var r=e.positionRestrictions;e.stencilReference;var a=y({},s),l=y({},o);if(s&&o&&"manipulateImage"!==t.type){var c={width:0,height:0};l.width,n.width,J(n)>J(a)?(c.height=.8*n.height,c.width=c.height*J(a)):(c.width=.8*n.width,c.height=c.width*J(a));var d=se(l=Z(l,a.width*n.width/(l.width*c.width)),i({visibleArea:l,type:"resize"}));l=Z(l,d),1!==d&&(c.height/=d,c.width/=d),l=ae(l=q(l,U(Y(a),Y(l))),i({visibleArea:l,type:"move"})),a=ae(a,ce(Q(l),r))}return{coordinates:a,visibleArea:l}}function fe(e){var t=e.event,i=e.coordinates,n=e.visibleArea,s=e.getAreaRestrictions,o=y({},n),r=y({},i);if("setCoordinates"===t.type){var a=Math.max(0,r.width-o.width),l=Math.max(0,r.height-o.height);a>l?o=Z(o,Math.min(r.width/o.width,ee(o,s({visibleArea:o,type:"resize"})))):l>a&&(o=Z(o,Math.min(r.height/o.height,ee(o,s({visibleArea:o,type:"resize"}))))),o=ae(o=q(o,X(te(r,Q(o)))),s({visibleArea:o,type:"move"}))}return{visibleArea:o,coordinates:r}}function ge(e){var t=e.imageSize,i=e.visibleArea,n=e.aspectRatio,s=e.sizeRestrictions,o=i||t,r=Math.min(n.maximum||1/0,Math.max(n.minimum||0,J(o))),a=o.width<o.height?{width:.8*o.width,height:.8*o.width/r}:{height:.8*o.height,width:.8*o.height*r};return de(y(y({},a),{aspectRatio:n,sizeRestrictions:s}))}function be(e){var t,i,n=e.imageSize,s=e.visibleArea,o=e.boundaries,r=e.aspectRatio,a=e.sizeRestrictions,l=e.stencilSize,c=s||n;return J(c)>J(o)?i=(t=l.height*c.height/o.height)*J(l):t=(i=l.width*c.width/o.width)/J(l),de({width:i,height:t,aspectRatio:r,sizeRestrictions:a})}function ve(e,t){return le(e,Q(t))}function ye(e){var t=e.directions,i=e.coordinates,n=e.positionRestrictions,s=void 0===n?{}:n,o=e.sizeRestrictions,r=e.preserveRatio,a=e.compensate,l=y({},t),c=K(i,l).width,d=K(i,l).height;c<0&&(l.left<0&&l.right<0?(l.left=-(i.width-o.minWidth)/(l.left/l.right),l.right=-(i.width-o.minWidth)/(l.right/l.left)):l.left<0?l.left=-(i.width-o.minWidth):l.right<0&&(l.right=-(i.width-o.minWidth))),d<0&&(l.top<0&&l.bottom<0?(l.top=-(i.height-o.minHeight)/(l.top/l.bottom),l.bottom=-(i.height-o.minHeight)/(l.bottom/l.top)):l.top<0?l.top=-(i.height-o.minHeight):l.bottom<0&&(l.bottom=-(i.height-o.minHeight)));var h=G(K(i,l),s);a&&(h.left&&h.left>0&&0===h.right?(l.right+=h.left,l.left-=h.left):h.right&&h.right>0&&0===h.left&&(l.left+=h.right,l.right-=h.right),h.top&&h.top>0&&0===h.bottom?(l.bottom+=h.top,l.top-=h.top):h.bottom&&h.bottom>0&&0===h.top&&(l.top+=h.bottom,l.bottom-=h.bottom),h=G(K(i,l),s));var u={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(N.forEach((function(e){var t=h[e];t&&l[e]&&(u[e]=Math.max(0,1-t/l[e]))})),r){var m=Math.min.apply(null,N.map((function(e){return u[e]})));m!==1/0&&N.forEach((function(e){l[e]*=m}))}else N.forEach((function(e){u[e]!==1/0&&(l[e]*=u[e])}));if(c=K(i,l).width,d=K(i,l).height,l.right+l.left&&(c>o.maxWidth?u.width=(o.maxWidth-i.width)/(l.right+l.left):c<o.minWidth&&(u.width=(o.minWidth-i.width)/(l.right+l.left))),l.bottom+l.top&&(d>o.maxHeight?u.height=(o.maxHeight-i.height)/(l.bottom+l.top):d<o.minHeight&&(u.height=(o.minHeight-i.height)/(l.bottom+l.top))),r){var p=Math.min(u.width,u.height);p!==1/0&&N.forEach((function(e){l[e]*=p}))}else u.width!==1/0&&$.forEach((function(e){l[e]*=u.width})),u.height!==1/0&&z.forEach((function(e){l[e]*=u.height}));return l}function we(e,t,i){return 0==t&&0==i?e/2:0==t?0:0==i?e:e*Math.abs(t/(t+i))}var Ae=f("vue-simple-handler"),xe=f("vue-simple-handler-wrapper"),Oe=I({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("HandlerWrapper",{class:e.classes.wrapper,attrs:{"vertical-position":e.verticalPosition,"horizontal-position":e.horizontalPosition,disabled:e.disabled},on:{drag:e.onDrag,"drag-end":e.onDragEnd,enter:e.onEnter,leave:e.onLeave}},[i("div",{class:e.classes.default})])},staticRenderFns:[]},void 0,{name:"SimpleHandler",components:{HandlerWrapper:M},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){var e,t=(l(e={},this.horizontalPosition,Boolean(this.horizontalPosition)),l(e,this.verticalPosition,Boolean(this.verticalPosition)),l(e,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),Boolean(this.verticalPosition&&this.horizontalPosition)),l(e,"hover",this.hover),e);return{default:m(Ae(t),this.defaultClass,this.hover&&this.hoverClass),wrapper:m(xe(t),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Ce=f("vue-simple-line"),_e=f("vue-simple-line-wrapper"),Se=I({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("LineWrapper",{class:e.classes.wrapper,attrs:{position:e.position,disabled:e.disabled},on:{drag:e.onDrag,"drag-end":e.onDragEnd,enter:e.onEnter,leave:e.onLeave}},[i("div",{class:e.classes.root})])},staticRenderFns:[]},void 0,{name:"SimpleLine",components:{LineWrapper:L},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:m(Ce(l({},this.position,!0)),this.defaultClass,this.hover&&this.hoverClass),wrapper:m(_e(l({},this.position,!0)),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}}},void 0,!1,void 0,!1,void 0,void 0,void 0),ke=f("vue-bounding-box"),Te=["east","west",null],je=["south","north",null],Ee=I({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"box",class:e.classes.root,style:e.style},[e._t("default"),e._v(" "),i("div",e._l(e.lineNodes,(function(t){return i(t.component,{key:t.name,tag:"component",attrs:{"default-class":t.class,"hover-class":t.hoverClass,"wrapper-class":t.wrapperClass,position:t.name,disabled:t.disabled},on:{drag:function(i){return e.onHandlerDrag(i,t.horizontalDirection,t.verticalDirection)},"drag-end":function(t){return e.onEnd()}}})})),1),e._v(" "),e._l(e.handlerNodes,(function(t){return i("div",{key:t.name,class:t.wrapperClass,style:t.wrapperStyle},[i(t.component,{tag:"component",attrs:{"default-class":t.class,"hover-class":t.hoverClass,"wrapper-class":t.wrapperClass,"horizontal-position":t.horizontalDirection,"vertical-position":t.verticalDirection,disabled:t.disabled},on:{drag:function(i){return e.onHandlerDrag(i,t.horizontalDirection,t.verticalDirection)},"drag-end":function(t){return e.onEnd()}}})],1)}))],2)},staticRenderFns:[]},void 0,{name:"BoundingBox",props:{width:{type:Number},height:{type:Number},transitions:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlersComponent:{type:[Object,String],default:function(){return Oe}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},linesComponent:{type:[Object,String],default:function(){return Se}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},resizable:{type:Boolean,default:!0}},data:function(){var e=[];return Te.forEach((function(t){je.forEach((function(i){if(t!==i){var n=p(t,i),s=n.name,o=n.classname;e.push({name:s,classname:o,verticalDirection:i,horizontalDirection:t})}}))})),{points:e}},computed:{style:function(){var e={};return this.width&&this.height&&(e.width="".concat(this.width,"px"),e.height="".concat(this.height,"px"),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction))),e},classes:function(){var e=this.handlersClasses,t=this.handlersWrappersClasses,i=this.linesClasses,n=this.linesWrappersClasses;return{root:ke(),handlers:e,handlersWrappers:t,lines:i,linesWrappers:n}},lineNodes:function(){var e=this,t=[];return this.points.forEach((function(i){i.horizontalDirection&&i.verticalDirection||!e.lines[i.name]||t.push({name:i.name,component:e.linesComponent,class:m(e.classes.lines.default,e.classes.lines[i.name],!e.resizable&&e.classes.lines.disabled),wrapperClass:m(e.classes.linesWrappers.default,e.classes.linesWrappers[i.name],!e.resizable&&e.classes.linesWrappers.disabled),hoverClass:e.classes.lines.hover,verticalDirection:i.verticalDirection,horizontalDirection:i.horizontalDirection,disabled:!e.resizable})})),t},handlerNodes:function(){var e=this,t=[],i=this.width,s=this.height;return this.points.forEach((function(n){if(e.handlers[n.name]){var o={name:n.name,component:e.handlersComponent,class:m(e.classes.handlers.default,e.classes.handlers[n.name]),wrapperClass:m(e.classes.handlersWrappers.default,e.classes.handlersWrappers[n.name]),hoverClass:e.classes.handlers.hover,verticalDirection:n.verticalDirection,horizontalDirection:n.horizontalDirection,disabled:!e.resizable};if(i&&s){var a=n.horizontalDirection,r=n.verticalDirection,c="east"===a?i:"west"===a?0:i/2,d="south"===r?s:"north"===r?0:s/2;o.wrapperClass=ke("handler"),o.wrapperStyle={transform:"translate(".concat(c,"px, ").concat(d,"px)")},e.transitions&&e.transitions.enabled&&(o.wrapperStyle.transition="".concat(e.transitions.time,"ms ").concat(e.transitions.timingFunction))}else o.wrapperClass=ke("handler",l({},n.classname,!0));t.push(o)}})),t}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onEnd:function(){this.$emit("resize-end")},onHandlerDrag:function(e,t,i){var n,s=e.shift(),o=s.left,r=s.top,a={left:0,right:0,top:0,bottom:0};"west"===t?a.left-=o:"east"===t&&(a.right+=o),"north"===i?a.top-=r:"south"===i&&(a.bottom+=r),!i&&t?n="width":i&&!t&&(n="height"),this.resizable&&this.$emit("resize",new j(a,{allowedDirections:{left:"west"===t||!t,right:"east"===t||!t,bottom:"south"===i||!i,top:"north"===i||!i},preserveAspectRatio:e.nativeEvent&&e.nativeEvent.shiftKey,respectDirection:n}))}}},void 0,!1,void 0,!1,void 0,void 0,void 0),De=f("vue-draggable-area"),Ie=I({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"container",on:{touchstart:e.onTouchStart,mousedown:e.onMouseDown}},[e._t("default")],2)},staticRenderFns:[]},void 0,{name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:20}},computed:{classnames:function(){return{default:De()}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(e){if(e.cancelable){var t=this.movable&&1===e.touches.length;t&&(this.touches=c(e.touches)),(this.touchStarted||t)&&(e.preventDefault(),e.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(e){this.touches.length>=1&&(this.touchStarted?(this.processMove(e,e.touches),e.preventDefault(),e.stopPropagation()):k({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:e.touches[0].clientX,y:e.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(e){if(this.movable&&0===e.button){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.cancelable&&e.preventDefault(),e.stopPropagation())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.container.getBoundingClientRect(),i=t.left,n=t.top;this.anchor={x:e.clientX-i,y:e.clientY-n}},processMove:function(e,t){var i=c(t);if(this.touches.length){var n=this.$refs.container.getBoundingClientRect(),s=n.left,o=n.top;1===this.touches.length&&1===i.length&&this.$emit("move",new E({left:i[0].clientX-(s+this.anchor.x),top:i[0].clientY-(o+this.anchor.y)}))}},processEnd:function(){this.touches.length&&this.$emit("move-end"),this.touches=[]}}},void 0,!1,void 0,!1,void 0,void 0,void 0);function Re(e){var t,i;return{rotate:e.rotate||0,flip:{horizontal:(null===(t=null==e?void 0:e.flip)||void 0===t?void 0:t.horizontal)||!1,vertical:(null===(i=null==e?void 0:e.flip)||void 0===i?void 0:i.vertical)||!1}}}function Be(e){var t=e.rotate,i=e.flip,n=e.scaleX,s=e.scaleY,o="";return o+=" rotate("+t+"deg) ",(o+=" scaleX("+n*(i.horizontal?-1:1)+") ")+" scaleY("+s*(i.vertical?-1:1)+") "}var Me=f("vue-preview-result");I({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.classes.root},[i("div",{ref:"wrapper",class:e.classes.wrapper,style:e.wrapperStyle},[i("img",{ref:"image",class:e.classes.image,style:e.imageStyle,attrs:{src:e.image.src}})])])},staticRenderFns:[]},void 0,{name:"PreviewResult",props:{image:{type:Object},transitions:{type:Object},stencilCoordinates:{type:Object,default:function(){return{width:0,height:0,left:0,top:0}}},imageClass:{type:String}},computed:{classes:function(){return{root:Me(),wrapper:Me("wrapper"),imageWrapper:Me("image-wrapper"),image:m(Me("image"),this.imageClass)}},wrapperStyle:function(){var e={width:"".concat(this.stencilCoordinates.width,"px"),height:"".concat(this.stencilCoordinates.height,"px"),left:"calc(50% - ".concat(this.stencilCoordinates.width/2,"px)"),top:"calc(50% - ".concat(this.stencilCoordinates.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},imageStyle:function(){var e=this.image.transforms,t=re({width:this.image.width,height:this.image.height},e.rotate),i={width:"".concat(this.image.width,"px"),height:"".concat(this.image.height,"px"),left:"0px",top:"0px"},n=(this.image.width-t.width)*e.scaleX/2,o=(this.image.height-t.height)*e.scaleY/2,r=(1-e.scaleX)*this.image.width/2,l=(1-e.scaleY)*this.image.height/2;return i.transform="translate(\n\t\t\t\t".concat(-this.stencilCoordinates.left-e.translateX-n-r,"px,").concat(-this.stencilCoordinates.top-e.translateY-o-l,"px) ")+Be(e),this.transitions&&this.transitions.enabled&&(i.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),i}}},void 0,!1,void 0,!1,void 0,void 0,void 0);function Pe(e,t){var i=t.getBoundingClientRect(),n=i.left,s=i.top,o={left:0,top:0},r=0;return e.forEach((function(t){o.left+=(t.clientX-n)/e.length,o.top+=(t.clientY-s)/e.length})),e.forEach((function(e){r+=k({x:o.left,y:o.top},{x:e.clientX-n,y:e.clientY-s})})),{centerMass:o,spread:r,count:e.length}}var Le=I({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"container",on:{touchstart:e.onTouchStart,mousedown:e.onMouseDown,wheel:e.onWheel}},[e._t("default")],2)},staticRenderFns:[]},void 0,{props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0},eventsFilter:{type:Function,required:!1}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},created:function(){this.transforming=!1,this.debouncedProcessEnd=v(this.processEnd),this.touches=[]},methods:{processMove:function(e,t){if(this.touches.length){if(1===this.touches.length&&1===t.length)this.$emit("move",new T({left:this.touches[0].clientX-t[0].clientX,top:this.touches[0].clientY-t[0].clientY}));else if(this.touches.length>1&&this.touchResize){var i=Pe(t,this.$refs.container),n=this.oldGeometricProperties;n.count===i.count&&n.count>1&&this.$emit("resize",new T({left:n.centerMass.left-i.centerMass.left,top:n.centerMass.top-i.centerMass.top},{factor:n.spread/i.spread,center:i.centerMass})),this.oldGeometricProperties=i}this.touches=t}},processEnd:function(){this.transforming&&(this.transforming=!1,this.$emit("transform-end"))},processStart:function(){this.transforming=!0,this.debouncedProcessEnd.clear()},processEvent:function(e){return this.eventsFilter?!1!==this.eventsFilter(e,this.transforming):(e.preventDefault(),e.stopPropagation(),!0)},onTouchStart:function(e){if(e.cancelable&&(this.touchMove||this.touchResize&&e.touches.length>1)&&this.processEvent(e)){var t=this.$refs.container,i=t.getBoundingClientRect(),n=i.left,s=i.top,o=i.bottom,a=i.right;this.touches=c(e.touches).filter((function(e){return e.clientX>n&&e.clientX<a&&e.clientY>s&&e.clientY<o})),this.oldGeometricProperties=Pe(this.touches,t)}},onTouchEnd:function(e){0===e.touches.length&&(this.touches=[],this.processEnd())},onTouchMove:function(e){var t=this;if(this.touches.length){var i=c(e.touches).filter((function(e){return!e.identifier||t.touches.find((function(t){return t.identifier===e.identifier}))}));this.processEvent(e)&&(this.processMove(e,i),this.processStart())}},onMouseDown:function(e){if(this.mouseMove&&"buttons"in e&&1===e.buttons&&this.processEvent(e)){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.processStart()}},onMouseMove:function(e){this.touches.length&&this.processEvent(e)&&this.processMove(e,[{clientX:e.clientX,clientY:e.clientY}])},onMouseUp:function(){this.touches=[],this.processEnd()},onWheel:function(e){if(this.wheelResize&&this.processEvent(e)){var t=this.$refs.container.getBoundingClientRect(),i=t.left,n=t.top,s=1+this.wheelResize.ratio*(0==(a=+(e.deltaY||e.detail||e.wheelDelta))||S(a)?a:a>0?1:-1),o={left:e.clientX-i,top:e.clientY-n};this.$emit("resize",new T({},{factor:s,center:o})),this.touches.length||this.debouncedProcessEnd()}var a}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Ne=I({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("transformable-image",{attrs:{"touch-move":e.touchMove,"touch-resize":e.touchResize,"mouse-move":e.mouseMove,"wheel-resize":e.wheelResize},on:{move:function(t){return e.$emit("move",t)},resize:function(t){return e.$emit("resize",t)}}},[e._t("default")],2)},staticRenderFns:[]},void 0,{components:{TransformableImage:Le},props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0}}},void 0,!1,void 0,!1,void 0,void 0,void 0),$e=f("vue-preview"),ze=I({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"root",class:e.classes.root,style:e.style},[i("div",{ref:"wrapper",class:e.classes.wrapper,style:e.wrapperStyle},[i("img",{directives:[{name:"show",rawName:"v-show",value:e.image&&e.image.src,expression:"image && image.src"}],ref:"image",class:e.classes.image,style:e.imageStyle,attrs:{src:e.image&&e.image.src}})])])},staticRenderFns:[]},void 0,{props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},fill:{type:Boolean}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0}}},computed:{classes:function(){return{root:$e({fill:this.fill}),wrapper:$e("wrapper"),imageWrapper:$e("image-wrapper"),image:m($e("image"),this.imageClass)}},style:function(){if(this.fill)return{};var e={};return this.width&&(e.width="".concat(this.size.width,"px")),this.height&&(e.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},wrapperStyle:function(){var e={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},imageStyle:function(){if(this.coordinates&&this.image){var e=this.coordinates.width/this.size.width,t=i(i({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/e,scaleY:1/e}),n=this.imageSize.width,s=this.imageSize.height,o=re({width:n,height:s},t.rotate),r={width:"".concat(n,"px"),height:"".concat(s,"px"),left:"0px",top:"0px"},a={rotate:{left:(n-o.width)*t.scaleX/2,top:(s-o.height)*t.scaleY/2},scale:{left:(1-t.scaleX)*n/2,top:(1-t.scaleY)*s/2}};return r.transform="translate(\n\t\t\t\t".concat(-this.coordinates.left/e-a.rotate.left-a.scale.left,"px,").concat(-this.coordinates.top/e-a.rotate.top-a.scale.top,"px) ")+Be(t),this.transitions&&this.transitions.enabled&&(r.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),r}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}}},watch:{image:function(e){(e.width||e.height)&&this.onChangeImage()}},mounted:function(){var e=this;this.onChangeImage(),this.$refs.image.addEventListener("load",(function(){e.refreshImage()})),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},destroyed:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{refreshImage:function(){var e=this.$refs.image;this.calculatedImageSize.height=e.naturalHeight,this.calculatedImageSize.width=e.naturalWidth},refresh:function(){var e=this.$refs.root;this.width||(this.calculatedSize.width=e.clientWidth),this.height||(this.calculatedSize.height=e.clientHeight)},onChangeImage:function(){var e=this.$refs.image;e&&e.complete&&this.refreshImage(),this.refresh()}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Fe=I({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("preview",e._b({attrs:{fill:!0}},"preview",e.$attrs,!1))},staticRenderFns:[]},void 0,{components:{Preview:ze},inheritAttrs:!1},void 0,!1,void 0,!1,void 0,void 0,void 0),Ve=f("vue-rectangle-stencil"),He=I({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.classes.stencil,style:e.style},[i("bounding-box",{class:e.classes.boundingBox,attrs:{width:e.stencilCoordinates.width,height:e.stencilCoordinates.height,transitions:e.transitions,handlers:e.handlers,"handlers-component":e.handlersComponent,"handlers-classes":e.handlersClasses,"handlers-wrappers-classes":e.handlersWrappersClasses,lines:e.lines,"lines-component":e.linesComponent,"lines-classes":e.linesClasses,"lines-wrappers-classes":e.linesWrappersClasses,resizable:e.resizable},on:{resize:e.onResize,"resize-end":e.onResizeEnd}},[i("draggable-area",{attrs:{movable:e.movable},on:{move:e.onMove,"move-end":e.onMoveEnd}},[i("stencil-preview",{class:e.classes.preview,attrs:{image:e.image,coordinates:e.coordinates,width:e.stencilCoordinates.width,height:e.stencilCoordinates.height,transitions:e.transitions}})],1)],1)],1)},staticRenderFns:[]},void 0,{name:"RectangleStencil",components:{StencilPreview:Fe,BoundingBox:Ee,DraggableArea:Ie},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlersComponent:{type:[Object,String],default:function(){return Oe}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return Se}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:m(Ve({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:m(Ve("preview"),this.previewClass),boundingBox:m(Ve("bounding-box"),this.boundingBoxClass)}},style:function(){var e=this.stencilCoordinates,t=e.height,i=e.width,n=e.left,s=e.top,o={width:"".concat(i,"px"),height:"".concat(t,"px"),transform:"translate(".concat(n,"px, ").concat(s,"px)")};return this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}},methods:{onMove:function(e){this.$emit("move",e),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(e){this.$emit("resize",e),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),qe=f("vue-circle-stencil"),We=I({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.classes.stencil,style:e.style},[i("bounding-box",{class:e.classes.boundingBox,attrs:{width:e.stencilCoordinates.width,height:e.stencilCoordinates.height,transitions:e.transitions,handlers:e.handlers,"handlers-component":e.handlersComponent,"handlers-classes":e.handlersClasses,"handlers-wrappers-classes":e.handlersWrappersClasses,lines:e.lines,"lines-component":e.linesComponent,"lines-classes":e.linesClasses,"lines-wrappers-classes":e.linesWrappersClasses,resizable:e.resizable},on:{resize:e.onResize,"resize-end":e.onResizeEnd}},[i("draggable-area",{attrs:{movable:e.movable},on:{move:e.onMove,"move-end":e.onMoveEnd}},[i("stencil-preview",{class:e.classes.preview,attrs:{image:e.image,coordinates:e.coordinates,width:e.stencilCoordinates.width,height:e.stencilCoordinates.height,transitions:e.transitions}})],1)],1)],1)},staticRenderFns:[]},void 0,{components:{StencilPreview:Fe,BoundingBox:Ee,DraggableArea:Ie},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,westNorth:!0,westSouth:!0,eastSouth:!0}}},handlersComponent:{type:[Object,String],default:function(){return Oe}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return Se}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:m(qe({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:m(qe("preview"),this.previewClass),boundingBox:m(qe("bounding-box"),this.boundingBoxClass)}},style:function(){var e=this.stencilCoordinates,t=e.height,i=e.width,n=e.left,s=e.top,o={width:"".concat(i,"px"),height:"".concat(t,"px"),transform:"translate(".concat(n,"px, ").concat(s,"px)")};return this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}},methods:{onMove:function(e){this.$emit("move",e),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(e){this.$emit("resize",e),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:1,maximum:1}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Qe=["transitions"],Ue=f("vue-advanced-cropper"),Ye={name:"Cropper",components:{BackgroundWrapper:Ne},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return He}},backgroundWrapperComponent:{type:[Object,String],default:function(){return Ne}},stencilProps:{type:Object,default:function(){return{}}},autoZoom:{type:Boolean,default:!1},imageClass:{type:String},boundariesClass:{type:String},backgroundClass:{type:String},foregroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},transitions:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},canvas:{type:[Object,Boolean],default:!0},crossOrigin:{type:[Boolean,String],default:void 0},transitionTime:{type:Number,default:300},imageRestriction:{type:String,default:"fit-area",validator:function(e){return-1!==V.indexOf(e)}},roundResult:{type:Boolean,default:!0},defaultSize:{type:[Function,Object]},defaultPosition:{type:[Function,Object],default:function(e){var t=e.imageSize,i=e.visibleArea,n=e.coordinates,s=i||t;return{left:(i?i.left:0)+s.width/2-n.width/2,top:(i?i.top:0)+s.height/2-n.height/2}}},defaultVisibleArea:{type:[Function,Object],default:function(e){var t=e.getAreaRestrictions,i=e.coordinates,n=e.imageSize,s=J(e.boundaries);if(i){var o={height:Math.max(i.height,n.height),width:Math.max(i.width,n.width)},r=oe({width:J(o)>s?o.width:o.height*s,height:J(o)>s?o.width/s:o.height},rt(t())),a={left:i.left+i.width/2-r.width/2,top:i.top+i.height/2-r.height/2,width:r.width,height:r.height},l=G(i,Q(y({left:0,top:0},n))),c={};return!l.left&&!l.right&&a.width<=n.width&&(c.left=0,c.right=n.width),!l.top&&!l.bottom&&a.height<=n.height&&(c.top=0,c.bottom=n.height),ae(a,c)}var d=J(n);return r={height:d>s?n.height:n.width/s,width:d>s?n.height*s:n.width},{left:n.width/2-r.width/2,top:n.height/2-r.height/2,width:r.width,height:r.height}}},defaultTransforms:{type:[Function,Object]},defaultBoundaries:{type:[Function,String],validator:function(e){return!("string"==typeof e&&"fill"!==e&&"fit"!==e)}},priority:{type:String,default:"coordinates"},stencilSize:{type:[Object,Function]},resizeImage:{type:[Boolean,Object],default:!0},moveImage:{type:[Boolean,Object],default:!0},autoZoomAlgorithm:{type:Function},resizeAlgorithm:{type:Function,default:function(e){var t=e.event,i=e.coordinates,n=e.aspectRatio,s=e.positionRestrictions,o=e.sizeRestrictions,r=y(y({},i),{right:i.left+i.width,bottom:i.top+i.height}),a=t.params||{},l=y({},t.directions),c=a.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};o.widthFrozen&&(l.left=0,l.right=0),o.heightFrozen&&(l.top=0,l.bottom=0),N.forEach((function(e){c[e]||(l[e]=0)}));var d=K(r,l=ye({coordinates:r,directions:l,sizeRestrictions:o,positionRestrictions:s})).width,h=K(r,l).height,u=a.preserveRatio?J(r):ne(d/h,n);if(u){var m=a.respectDirection;if(m||(m=r.width>=r.height||1===u?"width":"height"),"width"===m){var p=d/u-r.height;if(c.top&&c.bottom){var g=l.top,f=l.bottom;l.bottom=we(p,f,g),l.top=we(p,g,f)}else c.bottom?l.bottom=p:c.top?l.top=p:c.right?l.right=0:c.left&&(l.left=0)}else if("height"===m){var b=r.width-h*u;if(c.left&&c.right){var v=l.left,w=l.right;l.left=-we(b,v,w),l.right=-we(b,w,v)}else c.left?l.left=-b:c.right?l.right=-b:c.top?l.top=0:c.bottom&&(l.bottom=0)}l=ye({directions:l,coordinates:r,sizeRestrictions:o,positionRestrictions:s,preserveRatio:!0,compensate:a.compensate})}return d=K(r,l).width,h=K(r,l).height,(u=a.preserveRatio?J(r):ne(d/h,n))&&Math.abs(u-d/h)>.001&&N.forEach((function(e){c[e]||(l[e]=0)})),he({event:new E({left:-l.left,top:-l.top}),coordinates:{width:i.width+l.right+l.left,height:i.height+l.top+l.bottom,left:i.left,top:i.top},positionRestrictions:s})}},moveAlgorithm:{type:Function,default:he},initStretcher:{type:Function,default:function(e){var t=e.stretcher,i=e.imageSize,n=J(i);t.style.width=i.width+"px",t.style.height=t.clientWidth/n+"px",t.style.width=t.clientWidth+"px"}},fitCoordinates:{type:Function,default:function(e){var t=e.visibleArea,i=e.coordinates,n=e.aspectRatio,s=e.sizeRestrictions,o=e.positionRestrictions,r=y(y({},i),de({width:i.width,height:i.height,aspectRatio:n,sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minHeight:Math.min(t.height,s.minHeight),minWidth:Math.min(t.width,s.minWidth)}}));return ae(r=q(r,U(Y(i),Y(r))),ce(Q(t),o))}},fitVisibleArea:{type:Function,default:function(e){var t=e.visibleArea,i=e.boundaries,n=e.getAreaRestrictions,s=e.coordinates,o=y({},t);o.height=o.width/J(i),o.top+=(t.height-o.height)/2,(s.height-o.height>0||s.width-o.width>0)&&(o=Z(o,Math.max(s.height/o.height,s.width/o.width)));var r=X(te(s,Q(o=Z(o,se(o,n({visibleArea:o,type:"resize"}))))));return o.width<s.width&&(r.left=0),o.height<s.height&&(r.top=0),ae(o=q(o,r),n({visibleArea:o,type:"move"}))}},areaRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.visibleArea,i=e.boundaries,n=e.imageSize,s=e.imageRestriction,o=e.type,r={};return"fill-area"===s?r={left:0,top:0,right:n.width,bottom:n.height}:"fit-area"===s&&(J(i)>J(n)?(r={top:0,bottom:n.height},t&&"move"===o&&(t.width>n.width?(r.left=-(t.width-n.width)/2,r.right=n.width-r.left):(r.left=0,r.right=n.width))):(r={left:0,right:n.width},t&&"move"===o&&(t.height>n.height?(r.top=-(t.height-n.height)/2,r.bottom=n.height-r.top):(r.top=0,r.bottom=n.height)))),r}},sizeRestrictionsAlgorithm:{type:Function,default:function(e){return{minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight}}},positionRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.imageSize,i={};return"none"!==e.imageRestriction&&(i={left:0,top:0,right:t.width,bottom:t.height}),i}}},data:function(){return{transitionsActive:!1,imageLoaded:!1,imageAttributes:{width:null,height:null,crossOrigin:!1,src:null},defaultImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},appliedImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},boundaries:{width:0,height:0},visibleArea:null,coordinates:i({},H)}},computed:{image:function(){return{src:this.imageAttributes.src,width:this.imageAttributes.width,height:this.imageAttributes.height,transforms:this.imageTransforms}},imageTransforms:function(){return{rotate:this.appliedImageTransforms.rotate,flip:{horizontal:this.appliedImageTransforms.flip.horizontal,vertical:this.appliedImageTransforms.flip.vertical},translateX:this.visibleArea?this.visibleArea.left/this.coefficient:0,translateY:this.visibleArea?this.visibleArea.top/this.coefficient:0,scaleX:1/this.coefficient,scaleY:1/this.coefficient}},imageSize:function(){var e=function(e){return e*Math.PI/180}(this.imageTransforms.rotate);return{width:Math.abs(this.imageAttributes.width*Math.cos(e))+Math.abs(this.imageAttributes.height*Math.sin(e)),height:Math.abs(this.imageAttributes.width*Math.sin(e))+Math.abs(this.imageAttributes.height*Math.cos(e))}},initialized:function(){return Boolean(this.visibleArea&&this.imageLoaded)},settings:function(){var e=O(this.resizeImage,{touch:!0,wheel:{ratio:.1},adjustStencil:!0},{touch:!1,wheel:!1,adjustStencil:!1});return{moveImage:O(this.moveImage,{touch:!0,mouse:!0},{touch:!1,mouse:!1}),resizeImage:e}},coefficient:function(){return this.visibleArea?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.imageLoaded?this.areaRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,boundaries:this.boundaries}):{}},transitionsOptions:function(){return{enabled:this.transitionsActive,timingFunction:"ease-in-out",time:350}},sizeRestrictions:function(){if(this.boundaries.width&&this.boundaries.height&&this.imageSize.width&&this.imageSize.height){var e=this.sizeRestrictionsAlgorithm({imageSize:this.imageSize,minWidth:A(this.minWidth)?0:C(this.minWidth),minHeight:A(this.minHeight)?0:C(this.minHeight),maxWidth:A(this.maxWidth)?1/0:C(this.maxWidth),maxHeight:A(this.maxHeight)?1/0:C(this.maxHeight)});if(e=function(e){var t=e.areaRestrictions,i=e.sizeRestrictions,n=e.boundaries,s=e.positionRestrictions,o=y(y({},i),{minWidth:void 0!==i.minWidth?i.minWidth:0,minHeight:void 0!==i.minHeight?i.minHeight:0,maxWidth:void 0!==i.maxWidth?i.maxWidth:1/0,maxHeight:void 0!==i.maxHeight?i.maxHeight:1/0});void 0!==s.left&&void 0!==s.right&&(o.maxWidth=Math.min(o.maxWidth,s.right-s.left)),void 0!==s.bottom&&void 0!==s.top&&(o.maxHeight=Math.min(o.maxHeight,s.bottom-s.top));var r=rt(t),a=oe(n,r);return r.width<1/0&&(!o.maxWidth||o.maxWidth>a.width)&&(o.maxWidth=Math.min(o.maxWidth,a.width)),r.height<1/0&&(!o.maxHeight||o.maxHeight>a.height)&&(o.maxHeight=Math.min(o.maxHeight,a.height)),o.minWidth>o.maxWidth&&(o.minWidth=o.maxWidth,o.widthFrozen=!0),o.minHeight>o.maxHeight&&(o.minHeight=o.maxHeight,o.heightFrozen=!0),o}({sizeRestrictions:e,areaRestrictions:this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}),imageSize:this.imageSize,boundaries:this.boundaries,positionRestrictions:this.positionRestrictions,imageRestriction:this.imageRestriction,visibleArea:this.visibleArea,stencilSize:this.getStencilSize()}),this.visibleArea&&this.stencilSize){var t=this.getStencilSize(),i=rt(this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}));e.maxWidth=Math.min(e.maxWidth,i.width*t.width/this.boundaries.width),e.maxHeight=Math.min(e.maxHeight,i.height*t.height/this.boundaries.height),e.maxWidth<e.minWidth&&(e.minWidth=e.maxWidth),e.maxHeight<e.minHeight&&(e.minHeight=e.maxHeight)}return e}return{minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}},positionRestrictions:function(){return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction})},classes:function(){return{cropper:Ue(),image:m(Ue("image"),this.imageClass),stencil:Ue("stencil"),boundaries:m(Ue("boundaries"),this.boundariesClass),stretcher:m(Ue("stretcher")),background:m(Ue("background"),this.backgroundClass),foreground:m(Ue("foreground"),this.foregroundClass),imageWrapper:m(Ue("image-wrapper")),cropperWrapper:m(Ue("cropper-wrapper"))}},stencilCoordinates:function(){if(this.initialized){var e=this.coordinates,t=e.width,i=e.height,n=e.left,s=e.top;return{width:t/this.coefficient,height:i/this.coefficient,left:(n-this.visibleArea.left)/this.coefficient,top:(s-this.visibleArea.top)/this.coefficient}}return this.defaultCoordinates()},boundariesStyle:function(){var e={width:this.boundaries.width?"".concat(Math.round(this.boundaries.width),"px"):"auto",height:this.boundaries.height?"".concat(Math.round(this.boundaries.height),"px"):"auto",transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"};return this.imageLoaded||(e.opacity="0"),e},imageStyle:function(){var e=this.imageAttributes.width>this.imageAttributes.height?{width:Math.min(1024,this.imageAttributes.width),height:Math.min(1024,this.imageAttributes.width)/(this.imageAttributes.width/this.imageAttributes.height)}:{height:Math.min(1024,this.imageAttributes.height),width:Math.min(1024,this.imageAttributes.height)*(this.imageAttributes.width/this.imageAttributes.height)},t=(e.width-this.imageSize.width)/(2*this.coefficient),n=(e.height-this.imageSize.height)/(2*this.coefficient),o=(1-1/this.coefficient)*e.width/2,r=(1-1/this.coefficient)*e.height/2,s=i(i({},this.imageTransforms),{},{scaleX:this.imageTransforms.scaleX*(this.imageAttributes.width/e.width),scaleY:this.imageTransforms.scaleY*(this.imageAttributes.height/e.height)}),l={width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),left:"0px",top:"0px",transform:"translate(".concat(-t-o-this.imageTransforms.translateX,"px, ").concat(-n-r-this.imageTransforms.translateY,"px)")+Be(s)};return this.transitionsOptions.enabled&&(l.transition="".concat(this.transitionsOptions.time,"ms ").concat(this.transitionsOptions.timingFunction)),l}},watch:{src:function(){this.onChangeImage()},stencilComponent:function(){var e=this;this.$nextTick((function(){e.resetCoordinates(),e.runAutoZoom("setCoordinates"),e.onChange()}))},minWidth:function(){this.onPropsChange()},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(e,t){["aspectRatio","minAspectRatio","maxAspectRatio"].find((function(i){return e[i]!==t[i]}))&&this.$nextTick(this.onPropsChange)}},created:function(){this.debouncedUpdate=v(this.update,this.debounce),this.debouncedDisableTransitions=v(this.disableTransitions,this.transitionsOptions.time),this.awaiting=!1},mounted:function(){this.$refs.image.addEventListener("load",this.onSuccessLoadImage),this.$refs.image.addEventListener("error",this.onFailLoadImage),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},destroyed:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh),this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.debouncedUpdate.clear(),this.debouncedDisableTransitions.clear()},methods:{getResult:function(){var e=this.initialized?this.prepareResult(i({},this.coordinates)):this.defaultCoordinates(),t={rotate:this.imageTransforms.rotate%360,flip:i({},this.imageTransforms.flip)};if(this.src&&this.imageLoaded){var n=this;return{image:this.image,coordinates:e,visibleArea:this.visibleArea?i({},this.visibleArea):null,imageTransforms:t,get canvas(){return n.canvas?n.getCanvas():void 0}}}return{image:this.image,coordinates:e,visibleArea:this.visibleArea?i({},this.visibleArea):null,canvas:void 0,imageTransforms:t}},zoom:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).transitions,s=void 0===n||n;this.onManipulateImage(new T({},{factor:1/e,center:t}),{normalize:!1,transitions:s})},move:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).transitions,s=void 0===n||n;this.onManipulateImage(new T({left:e||0,top:t||0}),{normalize:!1,transitions:s})},setCoordinates:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.autoZoom,s=void 0===n||n,o=i.transitions,r=void 0===o||o;this.$nextTick((function(){t.imageLoaded?(t.transitionsActive||(r&&t.enableTransitions(),t.coordinates=t.applyTransform(e),s&&t.runAutoZoom("setCoordinates"),r&&t.debouncedDisableTransitions()),t.onChange()):t.delayedTransforms=e}))},refresh:function(){var e=this,t=this.$refs.image;if(this.src&&t)return this.initialized?this.updateVisibleArea().then((function(){e.onChange()})):this.resetVisibleArea().then((function(){e.onChange()}))},reset:function(){var e=this;return this.resetVisibleArea().then((function(){e.onChange(!1)}))},awaitRender:function(e){var t=this;this.awaiting||(this.awaiting=!0,this.$nextTick((function(){e(),t.awaiting=!1})))},prepareResult:function(e){return this.roundResult?function(e){var t=e.coordinates,i=e.sizeRestrictions,n=e.positionRestrictions,s={width:Math.round(t.width),height:Math.round(t.height),left:Math.round(t.left),top:Math.round(t.top)};return s.width>i.maxWidth?s.width=Math.floor(t.width):s.width<i.minWidth&&(s.width=Math.ceil(t.width)),s.height>i.maxHeight?s.height=Math.floor(t.height):s.height<i.minHeight&&(s.height=Math.ceil(t.height)),ae(s,n)}(i(i({},this.getPublicProperties()),{},{positionRestrictions:ve(this.positionRestrictions,this.visibleArea),coordinates:e})):e},processAutoZoom:function(e,t,n,s){var o=this.autoZoomAlgorithm;o||(o=this.stencilSize?pe:this.autoZoom?me:fe);var r=o({event:{type:e,params:s},visibleArea:t,coordinates:n,boundaries:this.boundaries,aspectRatio:this.getAspectRatio(),positionRestrictions:this.positionRestrictions,getAreaRestrictions:this.getAreaRestrictions,sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize()});return i(i({},r),{},{changed:!W(r.visibleArea,t)||!W(r.coordinates,n)})},runAutoZoom:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.transitions,n=void 0!==i&&i,o=function(e,t){if(null==e)return{};var i,n,s=function(e,t){if(null==e)return{};var i,n,s={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(s[i]=e[i]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}(t,Qe),r=this.processAutoZoom(e,this.visibleArea,this.coordinates,o),a=r.visibleArea,l=r.coordinates,c=r.changed;n&&c&&this.enableTransitions(),this.visibleArea=a,this.coordinates=l,n&&c&&this.debouncedDisableTransitions()},normalizeEvent:function(e){return function(e){var t=e.event,i=e.visibleArea,n=e.coefficient;if("manipulateImage"===t.type)return y(y({},t),{move:{left:t.move&&t.move.left?n*t.move.left:0,top:t.move&&t.move.top?n*t.move.top:0},scale:{factor:t.scale&&t.scale.factor?t.scale.factor:1,center:t.scale&&t.scale.center?{left:t.scale.center.left*n+i.left,top:t.scale.center.top*n+i.top}:null}});if("resize"===t.type){var s=y(y({},t),{directions:y({},t.directions)});return N.forEach((function(e){s.directions[e]*=n})),s}if("move"===t.type){var o=y(y({},t),{directions:y({},t.directions)});return F.forEach((function(e){o.directions[e]*=n})),o}return t}(i(i({},this.getPublicProperties()),{},{event:e}))},getCanvas:function(){if(this.$refs.canvas){var e=this.$refs.canvas,t=this.$refs.image,n=0!==this.imageTransforms.rotate||this.imageTransforms.flip.horizontal||this.imageTransforms.flip.vertical?function(e,t,i){var n=i.rotate,s=i.flip,o={width:t.naturalWidth,height:t.naturalHeight},r=re(o,n),a=e.getContext("2d");e.height=r.height,e.width=r.width,a.save();var l=ie(Y(y({left:0,top:0},o)),n);return a.translate(-(l.left-r.width/2),-(l.top-r.height/2)),a.rotate(n*Math.PI/180),a.translate(s.horizontal?o.width:0,s.vertical?o.height:0),a.scale(s.horizontal?-1:1,s.vertical?-1:1),a.drawImage(t,0,0,o.width,o.height),a.restore(),e}(this.$refs.sourceCanvas,t,this.imageTransforms):t,s=i({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:this.maxCanvasSize,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},this.canvas),o=function(e){return e.find((function(e){return t=e,!Number.isNaN(parseFloat(t))&&isFinite(t);var t}))},r=de({sizeRestrictions:{minWidth:o([s.width,s.minWidth])||0,minHeight:o([s.height,s.minHeight])||0,maxWidth:o([s.width,s.maxWidth])||1/0,maxHeight:o([s.height,s.maxHeight])||1/0},width:this.coordinates.width,height:this.coordinates.height,aspectRatio:{minimum:this.coordinates.width/this.coordinates.height,maximum:this.coordinates.width/this.coordinates.height}});if(s.maxArea&&r.width*r.height>s.maxArea){var a=Math.sqrt(s.maxArea/(r.width*r.height));r={width:Math.round(a*r.width),height:Math.round(a*r.height)}}return function(e,t,i,n,s){e.width=n?n.width:i.width,e.height=n?n.height:i.height;var o=e.getContext("2d");o.clearRect(0,0,e.width,e.height),s&&(s.imageSmoothingEnabled&&(o.imageSmoothingEnabled=s.imageSmoothingEnabled),s.imageSmoothingQuality&&(o.imageSmoothingQuality=s.imageSmoothingQuality),s.fillColor&&(o.fillStyle=s.fillColor,o.fillRect(0,0,e.width,e.height),o.save()));var r=i.left<0?-i.left:0,a=i.top<0?-i.top:0;o.drawImage(t,i.left+r,i.top+a,i.width,i.height,r,a,e.width,e.height)}(e,n,this.coordinates,r,s),e}},update:function(){this.$emit("change",this.getResult())},applyTransform:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.visibleArea&&t?function(e,t){return y(y({},e),{minWidth:Math.min(t.width,e.minWidth),minHeight:Math.min(t.height,e.minHeight),maxWidth:Math.min(t.width,e.maxWidth),maxHeight:Math.min(t.height,e.maxHeight)})}(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,n=this.visibleArea&&t?ve(this.positionRestrictions,this.visibleArea):this.positionRestrictions;return function(e){var t=e.coordinates,i=e.transform,n=e.imageSize,s=e.sizeRestrictions,o=e.positionRestrictions,r=e.aspectRatio,a=e.visibleArea,l=function(e,t){return he({coordinates:e,positionRestrictions:o,event:new E({left:t.left-e.left,top:t.top-e.top})})},c=y({},t);return(Array.isArray(i)?i:[i]).forEach((function(e){var t;A((t="function"==typeof e?e({coordinates:c,imageSize:n,visibleArea:a}):e).width)&&A(t.height)||(c=function(e,t){var i=y(y(y({},e),de({width:t.width,height:t.height,sizeRestrictions:s,aspectRatio:r})),{left:0,top:0});return l(i,{left:e.left,top:e.top})}(c,y(y({},c),t))),A(t.left)&&A(t.top)||(c=l(c,y(y({},c),t)))})),c}({transform:e,coordinates:this.coordinates,imageSize:this.imageSize,sizeRestrictions:i,positionRestrictions:n,aspectRatio:this.getAspectRatio(),visibleArea:this.visibleArea})},resetCoordinates:function(){var e=this;if(this.$refs.image){this.$refs.cropper,this.$refs.image;var t=this.defaultSize;t||(t=this.stencilSize?be:ge);var n=this.sizeRestrictions;n.minWidth,n.minHeight,n.maxWidth,n.maxHeight;var s=[b(t)?t({boundaries:this.boundaries,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize(),visibleArea:this.visibleArea}):t,function(t){var n=t.coordinates;return i({},b(e.defaultPosition)?e.defaultPosition({coordinates:n,imageSize:e.imageSize,visibleArea:e.visibleArea}):e.defaultPosition)}];this.delayedTransforms&&s.push.apply(s,c(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.coordinates=this.applyTransform(s,!0),this.delayedTransforms=null}},clearImage:function(){var e=this;this.imageLoaded=!1,setTimeout((function(){var t=e.$refs.stretcher;t&&(t.style.height="auto",t.style.width="auto"),e.coordinates=e.defaultCoordinates(),e.boundaries={width:0,height:0}}),this.transitionTime)},enableTransitions:function(){this.transitions&&(this.transitionsActive=!0)},disableTransitions:function(){this.transitionsActive=!1},updateBoundaries:function(){var e=this,t=this.$refs.stretcher,i=this.$refs.cropper;return this.initStretcher({cropper:i,stretcher:t,imageSize:this.imageSize}),this.$nextTick().then((function(){var t={cropper:i,imageSize:e.imageSize};if(b(e.defaultBoundaries)?e.boundaries=e.defaultBoundaries(t):"fit"===e.defaultBoundaries?e.boundaries=function(e){var t=e.cropper,i=e.imageSize,n=t.clientHeight,s=t.clientWidth,o=n,r=i.width*n/i.height;return r>s&&(r=s,o=i.height*s/i.width),{width:r,height:o}}(t):e.boundaries=function(e){var t=e.cropper;return{width:t.clientWidth,height:t.clientHeight}}(t),!e.boundaries.width||!e.boundaries.height)throw new Error("It's impossible to fit the cropper in the current container")}))},resetVisibleArea:function(){var e=this;return this.appliedImageTransforms=i(i({},this.defaultImageTransforms),{},{flip:i({},this.defaultImageTransforms.flip)}),this.updateBoundaries().then((function(){var t,n,s,o,r;"visible-area"!==e.priority&&(e.visibleArea=null,e.resetCoordinates()),e.visibleArea=b(e.defaultVisibleArea)?e.defaultVisibleArea({imageSize:e.imageSize,boundaries:e.boundaries,coordinates:"visible-area"!==e.priority?e.coordinates:null,getAreaRestrictions:e.getAreaRestrictions,stencilSize:e.getStencilSize()}):e.defaultVisibleArea,e.visibleArea=(n=(t={visibleArea:e.visibleArea,boundaries:e.boundaries,getAreaRestrictions:e.getAreaRestrictions}).boundaries,s=t.getAreaRestrictions,o=y({},t.visibleArea),r=J(n),o.width/o.height!==r&&(o.height=o.width/r),ae(o,s({visibleArea:o,type:"move"}))),"visible-area"===e.priority?e.resetCoordinates():e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("resetVisibleArea")})).catch((function(){e.visibleArea=null}))},updateVisibleArea:function(){var e=this;return this.updateBoundaries().then((function(){e.visibleArea=e.fitVisibleArea({imageSize:e.imageSize,boundaries:e.boundaries,visibleArea:e.visibleArea,coordinates:e.coordinates,getAreaRestrictions:e.getAreaRestrictions}),e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("updateVisibleArea")})).catch((function(){e.visibleArea=null}))},onChange:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$listeners&&this.$listeners.change&&(e&&this.debounce?this.debouncedUpdate():this.update())},onChangeImage:function(){var e,t=this;if(this.imageLoaded=!1,this.delayedTransforms=null,this.src){if(function(e){if(w(e))return!1;var t=window.location,i=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(e)||[],n={protocol:i[1]||"",host:i[2]||"",port:i[3]||""},s=function(e){return e.port||("http"===(e.protocol||t.protocol)?80:433)};return!(!n.protocol&&!n.host&&!n.port||Boolean(n.protocol&&n.protocol==t.protocol&&n.host&&n.host==t.host&&n.host&&s(n)==s(t)))}(this.src)){var i=A(this.crossOrigin)?this.canvas:this.crossOrigin;!0===i&&(i="anonymous"),this.imageAttributes.crossOrigin=i}if(this.checkOrientation){var n=(e=this.src,new Promise((function(t){(function(e){return new Promise((function(t,i){try{if(e)if(/^data:/i.test(e))t(function(e){e=e.replace(/^data:([^;]+);base64,/gim,"");for(var t=atob(e),i=t.length,n=new ArrayBuffer(i),s=new Uint8Array(n),o=0;o<i;o++)s[o]=t.charCodeAt(o);return n}(e));else if(/^blob:/i.test(e)){var n=new FileReader;n.onload=function(e){t(e.target.result)},o=e,r=function(e){n.readAsArrayBuffer(e)},(a=new XMLHttpRequest).open("GET",o,!0),a.responseType="blob",a.onload=function(){200!=this.status&&0!==this.status||r(this.response)},a.send()}else{var s=new XMLHttpRequest;s.onreadystatechange=function(){4===s.readyState&&(200===s.status||0===s.status?t(s.response):i("Warning: could not load an image to parse its orientation"),s=null)},s.onprogress=function(){"image/jpeg"!==s.getResponseHeader("content-type")&&s.abort()},s.withCredentials=!1,s.open("GET",e,!0),s.responseType="arraybuffer",s.send(null)}else i("Error: the image is empty")}catch(e){i(e)}var o,r,a}))})(e).then((function(i){var n=function(e){try{var t,i=new DataView(e),n=void 0,s=void 0,o=void 0,r=void 0;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var a=i.byteLength,l=2;l+1<a;){if(255===i.getUint8(l)&&225===i.getUint8(l+1)){o=l;break}l++}if(o&&(n=o+10,"Exif"===function(e,t,i){var n,s="";for(n=t,i+=t;n<i;n++)s+=String.fromCharCode(e.getUint8(n));return s}(i,o+4,4))){var c=i.getUint16(n);if(((s=18761===c)||19789===c)&&42===i.getUint16(n+2,s)){var d=i.getUint32(n+4,s);d>=8&&(r=n+d)}}if(r)for(var h=i.getUint16(r,s),u=0;u<h;u++)if(l=r+12*u+2,274===i.getUint16(l,s)){l+=8,t=i.getUint16(l,s),i.setUint16(l,1,s);break}return t}catch(e){return null}}(i);t(i?{source:e,arrayBuffer:i,orientation:n}:{source:e,arrayBuffer:null,orientation:null})})).catch((function(i){console.warn(i),t({source:e,arrayBuffer:null,orientation:null})}))})));setTimeout((function(){n.then(t.onParseImage)}),this.transitionTime)}else setTimeout((function(){t.onParseImage({source:t.src})}),this.transitionTime)}else this.clearImage()},onFailLoadImage:function(){this.imageAttributes.src&&(this.clearImage(),this.$emit("error"))},onSuccessLoadImage:function(){var e=this,t=this.$refs.image;t&&!this.imageLoaded&&(this.imageAttributes.height=t.naturalHeight,this.imageAttributes.width=t.naturalWidth,this.imageLoaded=!0,this.resetVisibleArea().then((function(){e.$emit("ready"),e.onChange(!1)})))},onParseImage:function(e){var t=this,n=e.source,s=e.arrayBuffer,o=e.orientation;this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.imageAttributes.revoke=!1,s&&o&&o>1?g(n)||!w(n)?(this.imageAttributes.src=URL.createObjectURL(new Blob([s])),this.imageAttributes.revoke=!0):this.imageAttributes.src=function(e){for(var t=[],i=new Uint8Array(e);i.length>0;){var n=i.subarray(0,8192);t.push(String.fromCharCode.apply(null,Array.from?Array.from(n):n.slice())),i=i.subarray(8192)}return"data:image/jpeg;base64,"+btoa(t.join(""))}(s):this.imageAttributes.src=n,b(this.defaultTransforms)?this.appliedImageTransforms=Re(this.defaultTransforms()):x(this.defaultTransforms)?this.appliedImageTransforms=Re(this.defaultTransforms):this.appliedImageTransforms=function(e){var t=Re({});if(e)switch(e){case 2:t.flip.horizontal=!0;break;case 3:t.rotate=-180;break;case 4:t.flip.vertical=!0;break;case 5:t.rotate=90,t.flip.vertical=!0;break;case 6:t.rotate=90;break;case 7:t.rotate=90,t.flip.horizontal=!0;break;case 8:t.rotate=-90}return t}(o),this.defaultImageTransforms=i(i({},this.appliedImageTransforms),{},{flip:i({},this.appliedImageTransforms.flip)}),this.$nextTick((function(){var e=t.$refs.image;e&&e.complete&&(function(e){return Boolean(e.naturalWidth)}(e)?t.onSuccessLoadImage():t.onFailLoadImage())}))},onResizeEnd:function(){this.runAutoZoom("resize",{transitions:!0})},onMoveEnd:function(){this.runAutoZoom("move",{transitions:!0})},onMove:function(e){var t=this;this.transitionsOptions.enabled||this.awaitRender((function(){t.coordinates=t.moveAlgorithm(i(i({},t.getPublicProperties()),{},{positionRestrictions:ve(t.positionRestrictions,t.visibleArea),coordinates:t.coordinates,event:t.normalizeEvent(e)})),t.onChange()}))},onResize:function(e){var t=this;this.transitionsOptions.enabled||this.stencilSize&&!this.autoZoom||this.awaitRender((function(){var n=t.sizeRestrictions,s=Math.min(t.coordinates.width,t.coordinates.height,20*t.coefficient);t.coordinates=t.resizeAlgorithm(i(i({},t.getPublicProperties()),{},{positionRestrictions:ve(t.positionRestrictions,t.visibleArea),sizeRestrictions:{maxWidth:Math.min(n.maxWidth,t.visibleArea.width),maxHeight:Math.min(n.maxHeight,t.visibleArea.height),minWidth:Math.max(n.minWidth,s),minHeight:Math.max(n.minHeight,s)},event:t.normalizeEvent(e)})),t.onChange(),t.ticking=!1}))},onManipulateImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.transitionsOptions.enabled){var n=t.transitions,s=void 0!==n&&n,o=t.normalize,r=void 0===o||o;s&&this.enableTransitions();var a=function(e){var t=e.event,i=e.coordinates,n=e.visibleArea,s=e.sizeRestrictions,o=e.getAreaRestrictions,r=e.positionRestrictions,a=e.adjustStencil,l=t.scale,c=t.move,d=y({},n),h=y({},i),u=1,m=1,p=l.factor&&Math.abs(l.factor-1)>.001;d=q(d,{left:c.left||0,top:c.top||0});var g={stencil:{minimum:Math.max(s.minWidth?s.minWidth/h.width:0,s.minHeight?s.minHeight/h.height:0),maximum:Math.min(s.maxWidth?s.maxWidth/h.width:1/0,s.maxHeight?s.maxHeight/h.height:1/0,ee(h,r))},area:{maximum:ee(d,o({visibleArea:d,type:"resize"}))}};l.factor&&p&&(l.factor<1?(m=Math.max(l.factor,g.stencil.minimum))>1&&(m=1):l.factor>1&&(m=Math.min(l.factor,Math.min(g.area.maximum,g.stencil.maximum)))<1&&(m=1)),m&&(d=Z(d,m,l.center));var f=i.left-n.left,b=n.width+n.left-(i.width+i.left),v=i.top-n.top,w=n.height+n.top-(i.height+i.top);return d=ae(d=q(d,te(d,{left:void 0!==r.left?r.left-f*m:void 0,top:void 0!==r.top?r.top-v*m:void 0,bottom:void 0!==r.bottom?r.bottom+w*m:void 0,right:void 0!==r.right?r.right+b*m:void 0})),o({visibleArea:d,type:"move"})),h.width=h.width*m,h.height=h.height*m,h.left=d.left+f*m,h.top=d.top+v*m,h=ae(h,ce(Q(d),r)),l.factor&&p&&a&&(l.factor>1?u=Math.min(g.area.maximum,l.factor)/m:l.factor<1&&(u=Math.max(h.height/d.height,h.width/d.width,l.factor/m)),1!==u&&(d=q(d=ae(d=Z(d,u,l.factor>1?l.center:Y(h)),o({visibleArea:d,type:"move"})),X(te(h,Q(d)))))),{coordinates:h,visibleArea:d}}(i(i({},this.getPublicProperties()),{},{event:r?this.normalizeEvent(e):e,getAreaRestrictions:this.getAreaRestrictions,imageRestriction:this.imageRestriction,adjustStencil:!this.stencilSize&&this.settings.resizeImage.adjustStencil})),l=a.visibleArea,c=a.coordinates;this.visibleArea=l,this.coordinates=c,this.runAutoZoom("manipulateImage"),this.onChange(),s&&this.debouncedDisableTransitions()}},onPropsChange:function(){this.coordinates=this.applyTransform(this.coordinates,!0),this.onChange(!1)},getAreaRestrictions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.visibleArea,i=e.type,n=void 0===i?"move":i;return this.areaRestrictionsAlgorithm({boundaries:this.boundaries,imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:t,type:n})},getAspectRatio:function(e){var t,i,n=this.stencilProps,s=n.aspectRatio,o=n.minAspectRatio,r=n.maxAspectRatio;if(this.$refs.stencil&&this.$refs.stencil.aspectRatios){var a=this.$refs.stencil.aspectRatios();t=a.minimum,i=a.maximum}if(A(t)&&(t=A(s)?o:s),A(i)&&(i=A(s)?r:s),!e&&(A(t)||A(i))){var l=this.getStencilSize(),c=l?J(l):null;A(t)&&(t=_(c)?c:void 0),A(i)&&(i=_(c)?c:void 0)}return{minimum:t,maximum:i}},getStencilSize:function(){if(this.stencilSize)return t=(e={currentStencilSize:{width:this.stencilCoordinates.width,height:this.stencilCoordinates.height},stencilSize:this.stencilSize,boundaries:this.boundaries,coefficient:this.coefficient,coordinates:this.coordinates,aspectRatio:this.getAspectRatio(!0)}).boundaries,n=e.aspectRatio,ne(J(s=b(i=e.stencilSize)?i({boundaries:t,aspectRatio:n}):i),n)&&(s=de({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:s.width,height:s.height,aspectRatio:{minimum:n.minimum,maximum:n.maximum}})),(s.width>t.width||s.height>t.height)&&(s=de({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:s.width,height:s.height,aspectRatio:{minimum:J(s),maximum:J(s)}})),s;var e,t,i,n,s},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},defaultCoordinates:function(){return i({},H)},flip:function(e,t){var s=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).transitions,n=void 0===s||s;if(!this.transitionsActive){n&&this.enableTransitions();var o=i({},this.imageTransforms.flip),a=function(e){var t=e.flip,i=e.previousFlip,n=e.rotate;e.aspectRatio;var s=e.getAreaRestrictions,o=e.coordinates,r=e.visibleArea,a=e.imageSize,l=y({},o),c=y({},r),d=i.horizontal!==t.horizontal,h=i.vertical!==t.vertical;if(d||h){var u=ie({left:a.width/2,top:a.height/2},-n),m=ie(Y(l),-n),p=ie({left:d?u.left-(m.left-u.left):m.left,top:h?u.top-(m.top-u.top):m.top},n);l=q(l,U(p,Y(l))),m=ie(Y(c),-n),c=ae(c=q(c,U(p=ie({left:d?u.left-(m.left-u.left):m.left,top:h?u.top-(m.top-u.top):m.top},n),Y(c))),s({visibleArea:c,type:"move"}))}return{coordinates:l,visibleArea:c}}({flip:{horizontal:e?!o.horizontal:o.horizontal,vertical:t?!o.vertical:o.vertical},previousFlip:o,rotate:this.imageTransforms.rotate,visibleArea:this.visibleArea,coordinates:this.coordinates,imageSize:this.imageSize,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),r=a.visibleArea,l=a.coordinates;e&&(this.appliedImageTransforms.flip.horizontal=!this.appliedImageTransforms.flip.horizontal),t&&(this.appliedImageTransforms.flip.vertical=!this.appliedImageTransforms.flip.vertical),this.visibleArea=r,this.coordinates=l,this.onChange(),n&&this.debouncedDisableTransitions()}},rotate:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).transitions,s=void 0===t||t;if(!this.transitionsActive){s&&this.enableTransitions();var n=i({},this.imageSize);this.appliedImageTransforms.rotate+=e;var o=function(e){var t=e.aspectRatio,i=e.getAreaRestrictions,n=e.coordinates,s=e.visibleArea,o=e.sizeRestrictions,r=e.positionRestrictions,a=e.imageSize,l=e.previousImageSize,c=e.angle,d=y({},n),h=y({},s),u=ie(Y(y({left:0,top:0},l)),c);return(d=y(y({},de({sizeRestrictions:o,aspectRatio:t,width:d.width,height:d.height})),ie(Y(d),c))).left-=u.left-a.width/2+d.width/2,d.top-=u.top-a.height/2+d.height/2,h=Z(h,se(h,i({visibleArea:h,type:"resize"}))),{coordinates:d=ae(d,r),visibleArea:h=ae(h=q(h,U(Y(d),Y(n))),i({visibleArea:h,type:"move"}))}}({visibleArea:this.visibleArea,coordinates:this.coordinates,previousImageSize:n,imageSize:this.imageSize,angle:e,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),a=o.visibleArea,r=o.coordinates,l=this.processAutoZoom("rotateImage",a,r);a=l.visibleArea,r=l.coordinates,this.visibleArea=a,this.coordinates=r,this.onChange(),s&&this.debouncedDisableTransitions()}}}},Ge=I({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"cropper",class:e.classes.cropper},[i("div",{ref:"stretcher",class:e.classes.stretcher}),e._v(" "),i("div",{class:e.classes.boundaries,style:e.boundariesStyle},[i(e.backgroundWrapperComponent,{tag:"component",class:e.classes.cropperWrapper,attrs:{"wheel-resize":e.settings.resizeImage.wheel,"touch-resize":e.settings.resizeImage.touch,"touch-move":e.settings.moveImage.touch,"mouse-move":e.settings.moveImage.mouse},on:{move:e.onManipulateImage,resize:e.onManipulateImage}},[i("div",{class:e.classes.background,style:e.boundariesStyle}),e._v(" "),i("div",{class:e.classes.imageWrapper},[i("img",{ref:"image",class:e.classes.image,style:e.imageStyle,attrs:{crossorigin:e.imageAttributes.crossOrigin,src:e.imageAttributes.src},on:{mousedown:function(e){e.preventDefault()}}})]),e._v(" "),i("div",{class:e.classes.foreground,style:e.boundariesStyle}),e._v(" "),i(e.stencilComponent,e._b({directives:[{name:"show",rawName:"v-show",value:e.imageLoaded,expression:"imageLoaded"}],ref:"stencil",tag:"component",attrs:{image:e.image,coordinates:e.coordinates,"stencil-coordinates":e.stencilCoordinates,transitions:e.transitionsOptions},on:{resize:e.onResize,"resize-end":e.onResizeEnd,move:e.onMove,"move-end":e.onMoveEnd}},"component",e.stencilProps,!1)),e._v(" "),e.canvas?i("canvas",{ref:"canvas",style:{display:"none"}}):e._e(),e._v(" "),e.canvas?i("canvas",{ref:"sourceCanvas",style:{display:"none"}}):e._e()],1)],1)])},staticRenderFns:[]},void 0,Ye,void 0,!1,void 0,!1,void 0,void 0,void 0);o.default.component("cropper",Ge),o.default.component("rectangle-stencil",He),o.default.component("circle-stencil",We),o.default.component("simple-handler",Oe),o.default.component("simple-line",Se)},function(e,t,n){e.exports={}},function(e,t,n){var o;e.exports=function(){function e(t,n,r){function l(i,c){if(!n[i]){if(!t[i]){if(!c&&"function"==typeof o&&o)return o(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};t[i][0].call(p.exports,(function(e){return l(t[i][1][e]||e)}),p,p.exports,e,t,n,r)}return n[i].exports}for(var u="function"==typeof o&&o,i=0;i<r.length;i++)l(r[i]);return l}return e}()({1:[function(e,t,n){"use strict";var o=e("multimath"),r=e("./mm_unsharp_mask"),l=e("./mm_resize");function c(e){var t=e||[],n={js:t.indexOf("js")>=0,wasm:t.indexOf("wasm")>=0};o.call(this,n),this.features={js:n.js,wasm:n.wasm&&this.has_wasm()},this.use(r),this.use(l)}c.prototype=Object.create(o.prototype),c.prototype.constructor=c,c.prototype.resizeAndUnsharp=function(e,t){var n=this.resize(e,t);return e.unsharpAmount&&this.unsharp_mask(n,e.toWidth,e.toHeight,e.unsharpAmount,e.unsharpRadius,e.unsharpThreshold),n},t.exports=c},{"./mm_resize":4,"./mm_unsharp_mask":9,multimath:19}],2:[function(e,t,n){"use strict";function o(i){return i<0?0:i>255?255:i}function r(i){return i>=0?i:0}function l(e,t,n,o,l,c){var d,g,b,a,h,m,f,v,y,w,A,x=0,O=0;for(y=0;y<o;y++){for(h=0,w=0;w<l;w++){for(m=c[h++],f=c[h++],v=x+4*m|0,d=g=b=a=0;f>0;f--)a=a+(A=c[h++])*e[v+3]|0,b=b+A*e[v+2]|0,g=g+A*e[v+1]|0,d=d+A*e[v]|0,v=v+4|0;t[O+3]=r(a>>7),t[O+2]=r(b>>7),t[O+1]=r(g>>7),t[O]=r(d>>7),O=O+4*o|0}O=4*(y+1)|0,x=(y+1)*n*4|0}}function c(e,t,n,r,l,c){var d,g,b,a,h,m,f,v,y,w,A,x=0,O=0;for(y=0;y<r;y++){for(h=0,w=0;w<l;w++){for(m=c[h++],f=c[h++],v=x+4*m|0,d=g=b=a=0;f>0;f--)a=a+(A=c[h++])*e[v+3]|0,b=b+A*e[v+2]|0,g=g+A*e[v+1]|0,d=d+A*e[v]|0,v=v+4|0;d>>=7,g>>=7,b>>=7,a>>=7,t[O+3]=o(a+8192>>14),t[O+2]=o(b+8192>>14),t[O+1]=o(g+8192>>14),t[O]=o(d+8192>>14),O=O+4*r|0}O=4*(y+1)|0,x=(y+1)*n*4|0}}function d(e,t,n,o,l,c){var d,g,b,a,h,m,f,v,y,w,A,x,O=0,C=0;for(w=0;w<o;w++){for(m=0,A=0;A<l;A++){for(f=c[m++],v=c[m++],y=O+4*f|0,d=g=b=a=0;v>0;v--)a=a+(x=c[m++])*(h=e[y+3])|0,b=b+x*e[y+2]*h|0,g=g+x*e[y+1]*h|0,d=d+x*e[y]*h|0,y=y+4|0;b=b/255|0,g=g/255|0,d=d/255|0,t[C+3]=r(a>>7),t[C+2]=r(b>>7),t[C+1]=r(g>>7),t[C]=r(d>>7),C=C+4*o|0}C=4*(w+1)|0,O=(w+1)*n*4|0}}function h(e,t,n,r,l,c){var d,g,b,a,h,m,f,v,y,w,A,x=0,O=0;for(y=0;y<r;y++){for(h=0,w=0;w<l;w++){for(m=c[h++],f=c[h++],v=x+4*m|0,d=g=b=a=0;f>0;f--)a=a+(A=c[h++])*e[v+3]|0,b=b+A*e[v+2]|0,g=g+A*e[v+1]|0,d=d+A*e[v]|0,v=v+4|0;d>>=7,g>>=7,b>>=7,(a=o(8192+(a>>=7)>>14))>0&&(d=255*d/a|0,g=255*g/a|0,b=255*b/a|0),t[O+3]=a,t[O+2]=o(b+8192>>14),t[O+1]=o(g+8192>>14),t[O]=o(d+8192>>14),O=O+4*r|0}O=4*(y+1)|0,x=(y+1)*n*4|0}}t.exports={convolveHor:l,convolveVert:c,convolveHorWithPre:d,convolveVertWithPre:h}},{}],3:[function(e,t,n){"use strict";t.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAEYA2AGf39/f39/AGAAAGAIf39/f39/f38AAg8BA2VudgZtZW1vcnkCAAADBwYBAAAAAAIGBgF/AEEACweUAQgRX193YXNtX2NhbGxfY3RvcnMAAAtjb252b2x2ZUhvcgABDGNvbnZvbHZlVmVydAACEmNvbnZvbHZlSG9yV2l0aFByZQADE2NvbnZvbHZlVmVydFdpdGhQcmUABApjb252b2x2ZUhWAAUMX19kc29faGFuZGxlAwAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAAKyA4GAwABC4wDARB/AkAgA0UNACAERQ0AIANBAnQhFQNAQQAhE0EAIQsDQCALQQJqIQcCfyALQQF0IAVqIgYuAQIiC0UEQEEAIQhBACEGQQAhCUEAIQogBwwBCyASIAYuAQBqIQhBACEJQQAhCiALIRRBACEOIAchBkEAIQ8DQCAFIAZBAXRqLgEAIhAgACAIQQJ0aigCACIRQRh2bCAPaiEPIBFB/wFxIBBsIAlqIQkgEUEQdkH/AXEgEGwgDmohDiARQQh2Qf8BcSAQbCAKaiEKIAhBAWohCCAGQQFqIQYgFEEBayIUDQALIAlBB3UhCCAKQQd1IQYgDkEHdSEJIA9BB3UhCiAHIAtqCyELIAEgDEEBdCIHaiAIQQAgCEEAShs7AQAgASAHQQJyaiAGQQAgBkEAShs7AQAgASAHQQRyaiAJQQAgCUEAShs7AQAgASAHQQZyaiAKQQAgCkEAShs7AQAgDCAVaiEMIBNBAWoiEyAERw0ACyANQQFqIg0gAmwhEiANQQJ0IQwgAyANRw0ACwsL2gMBD38CQCADRQ0AIARFDQAgAkECdCEUA0AgCyEMQQAhE0EAIQIDQCACQQJqIQYCfyACQQF0IAVqIgcuAQIiAkUEQEEAIQhBACEHQQAhCkEAIQkgBgwBCyAHLgEAQQJ0IBJqIQhBACEJIAIhCkEAIQ0gBiEHQQAhDkEAIQ8DQCAFIAdBAXRqLgEAIhAgACAIQQF0IhFqLwEAbCAJaiEJIAAgEUEGcmovAQAgEGwgDmohDiAAIBFBBHJqLwEAIBBsIA9qIQ8gACARQQJyai8BACAQbCANaiENIAhBBGohCCAHQQFqIQcgCkEBayIKDQALIAlBB3UhCCANQQd1IQcgDkEHdSEKIA9BB3UhCSACIAZqCyECIAEgDEECdGogB0GAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQQh0QYD+A3EgCUGAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQRB0QYCA/AdxIApBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG0EYdHJyIAhBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG3I2AgAgAyAMaiEMIBNBAWoiEyAERw0ACyAUIAtBAWoiC2whEiADIAtHDQALCwuSAwEQfwJAIANFDQAgBEUNACADQQJ0IRUDQEEAIRNBACEGA0AgBkECaiEIAn8gBkEBdCAFaiIGLgECIgdFBEBBACEJQQAhDEEAIQ1BACEOIAgMAQsgEiAGLgEAaiEJQQAhDkEAIQ1BACEMIAchFEEAIQ8gCCEGA0AgBSAGQQF0ai4BACAAIAlBAnRqKAIAIhBBGHZsIhEgD2ohDyARIBBBEHZB/wFxbCAMaiEMIBEgEEEIdkH/AXFsIA1qIQ0gESAQQf8BcWwgDmohDiAJQQFqIQkgBkEBaiEGIBRBAWsiFA0ACyAPQQd1IQkgByAIagshBiABIApBAXQiCGogDkH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEECcmogDUH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEEcmogDEH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEGcmogCUEAIAlBAEobOwEAIAogFWohCiATQQFqIhMgBEcNAAsgC0EBaiILIAJsIRIgC0ECdCEKIAMgC0cNAAsLC4IEAQ9/AkAgA0UNACAERQ0AIAJBAnQhFANAIAshDEEAIRJBACEHA0AgB0ECaiEKAn8gB0EBdCAFaiICLgECIhNFBEBBACEIQQAhCUEAIQYgCiEHQQAMAQsgAi4BAEECdCARaiEJQQAhByATIQJBACENIAohBkEAIQ5BACEPA0AgBSAGQQF0ai4BACIIIAAgCUEBdCIQai8BAGwgB2ohByAAIBBBBnJqLwEAIAhsIA5qIQ4gACAQQQRyai8BACAIbCAPaiEPIAAgEEECcmovAQAgCGwgDWohDSAJQQRqIQkgBkEBaiEGIAJBAWsiAg0ACyAHQQd1IQggDUEHdSEJIA9BB3UhBiAKIBNqIQcgDkEHdQtBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKGyIKQf8BcQRAIAlB/wFsIAJtIQkgCEH/AWwgAm0hCCAGQf8BbCACbSEGCyABIAxBAnRqIAlBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EIdEGA/gNxIAZBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EQdEGAgPwHcSAKQRh0ciAIQYBAa0EOdSICQf8BIAJB/wFIGyICQQAgAkEAShtycjYCACADIAxqIQwgEkEBaiISIARHDQALIBQgC0EBaiILbCERIAMgC0cNAAsLC0AAIAcEQEEAIAIgAyAEIAUgABADIAJBACAEIAUgBiABEAQPC0EAIAIgAyAEIAUgABABIAJBACAEIAUgBiABEAIL"},{}],4:[function(e,t,n){"use strict";t.exports={name:"resize",fn:e("./resize"),wasm_fn:e("./resize_wasm"),wasm_src:e("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(e,t,n){"use strict";var o=e("./resize_filter_gen"),r=e("./convolve"),l=r.convolveHor,c=r.convolveVert,d=r.convolveHorWithPre,h=r.convolveVertWithPre;function m(e,t,n){for(var o=3,r=t*n*4|0;o<r;){if(255!==e[o])return!0;o=o+4|0}return!1}function f(e,t,n){for(var o=3,r=t*n*4|0;o<r;)e[o]=255,o=o+4|0}t.exports=function(e){var t=e.src,n=e.width,r=e.height,v=e.toWidth,y=e.toHeight,w=e.scaleX||e.toWidth/e.width,A=e.scaleY||e.toHeight/e.height,x=e.offsetX||0,O=e.offsetY||0,C=e.dest||new Uint8Array(v*y*4),filter=void 0===e.filter?"mks2013":e.filter,_=o(filter,n,v,w,x),S=o(filter,r,y,A,O),k=new Uint16Array(v*r*4);return m(t,n,r)?(d(t,k,n,r,v,_),h(k,C,r,v,y,S)):(l(t,k,n,r,v,_),c(k,C,r,v,y,S),f(C,v,y)),C}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(e,t,n){"use strict";var o=e("./resize_filter_info"),r=14;function l(e){return Math.round(e*((1<<r)-1))}t.exports=function(filter,e,t,n,r){var c,d,h,m,f,v,y,w,A,x,O,C,_,S,k,T,j,E=o.filter[filter].fn,D=1/n,I=Math.min(1,n),R=o.filter[filter].win/I,B=Math.floor(2*(R+1)),M=new Int16Array((B+2)*t),P=0,L=!M.subarray||!M.set;for(c=0;c<t;c++){for(d=(c+.5)*D+r,h=Math.max(0,Math.floor(d-R)),f=(m=Math.min(e-1,Math.ceil(d+R)))-h+1,v=new Float32Array(f),y=new Int16Array(f),w=0,A=h,x=0;A<=m;A++,x++)w+=O=E((A+.5-d)*I),v[x]=O;for(C=0,x=0;x<v.length;x++)C+=_=v[x]/w,y[x]=l(_);for(y[t>>1]+=l(1-C),S=0;S<y.length&&0===y[S];)S++;if(S<y.length){for(k=y.length-1;k>0&&0===y[k];)k--;if(T=h+S,j=k-S+1,M[P++]=T,M[P++]=j,L)for(x=S;x<=k;x++)M[P++]=y[x];else M.set(y.subarray(S,k+1),P),P+=j}else M[P++]=0,M[P++]=0}return M}},{"./resize_filter_info":7}],7:[function(e,t,n){"use strict";var filter={box:{win:.5,fn:function(e){return e<0&&(e=-e),e<.5?1:0}},hamming:{win:1,fn:function(e){if(e<0&&(e=-e),e>=1)return 0;if(e<1.1920929e-7)return 1;var t=e*Math.PI;return Math.sin(t)/t*(.54+.46*Math.cos(t/1))}},lanczos2:{win:2,fn:function(e){if(e<0&&(e=-e),e>=2)return 0;if(e<1.1920929e-7)return 1;var t=e*Math.PI;return Math.sin(t)/t*Math.sin(t/2)/(t/2)}},lanczos3:{win:3,fn:function(e){if(e<0&&(e=-e),e>=3)return 0;if(e<1.1920929e-7)return 1;var t=e*Math.PI;return Math.sin(t)/t*Math.sin(t/3)/(t/3)}},mks2013:{win:2.5,fn:function(e){return e<0&&(e=-e),e>=2.5?0:e>=1.5?-.125*(e-2.5)*(e-2.5):e>=.5?.25*(4*e*e-11*e+7):1.0625-1.75*e*e}}};t.exports={filter:filter,f2q:{box:0,hamming:1,lanczos2:2,lanczos3:3},q2f:["box","hamming","lanczos2","lanczos3"]}},{}],8:[function(e,t,n){"use strict";var o=e("./resize_filter_gen");function r(e,t,n){for(var o=3,r=t*n*4|0;o<r;){if(255!==e[o])return!0;o=o+4|0}return!1}function l(e,t,n){for(var o=3,r=t*n*4|0;o<r;)e[o]=255,o=o+4|0}function c(e){return new Uint8Array(e.buffer,0,e.byteLength)}var d=!0;try{d=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]}catch(e){}function h(e,t,n){if(d)t.set(c(e),n);else for(var o=n,i=0;i<e.length;i++){var data=e[i];t[o++]=255&data,t[o++]=data>>8&255}}t.exports=function(e){var t=e.src,n=e.width,c=e.height,d=e.toWidth,m=e.toHeight,f=e.scaleX||e.toWidth/e.width,v=e.scaleY||e.toHeight/e.height,y=e.offsetX||0,w=e.offsetY||0,A=e.dest||new Uint8Array(d*m*4),filter=void 0===e.filter?"mks2013":e.filter,x=o(filter,n,d,f,y),O=o(filter,c,m,v,w),C=0,_=Math.max(t.byteLength,A.byteLength),S=this.__align(C+_),k=c*d*4*2,T=this.__align(S+k),j=this.__align(T+x.byteLength),E=j+O.byteLength,D=this.__instance("resize",E),I=new Uint8Array(this.__memory.buffer),R=new Uint32Array(this.__memory.buffer),B=new Uint32Array(t.buffer);R.set(B),h(x,I,T),h(O,I,j);var M=D.exports.convolveHV||D.exports._convolveHV;return r(t,n,c)?M(T,j,S,n,c,d,m,1):(M(T,j,S,n,c,d,m,0),l(A,d,m)),new Uint32Array(A.buffer).set(new Uint32Array(this.__memory.buffer,0,m*d)),A}},{"./resize_filter_gen":6}],9:[function(e,t,n){"use strict";t.exports={name:"unsharp_mask",fn:e("./unsharp_mask"),wasm_fn:e("./unsharp_mask_wasm"),wasm_src:e("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":10,"./unsharp_mask_wasm":11,"./unsharp_mask_wasm_base64":12}],10:[function(e,t,n){"use strict";var o=e("glur/mono16");function r(img,e,t){for(var n,g,b,o,r=e*t,l=new Uint16Array(r),i=0;i<r;i++)n=img[4*i],g=img[4*i+1],b=img[4*i+2],o=n>=g&&n>=b?n:g>=b&&g>=n?g:b,l[i]=o<<8;return l}t.exports=function(img,e,t,n,l,c){var d,h,m,f,v;if(!(0===n||l<.5)){l>2&&(l=2);var y=r(img,e,t),w=new Uint16Array(y);o(w,e,t,l);for(var A=n/100*4096+.5|0,x=c<<8,O=e*t,i=0;i<O;i++)f=(d=y[i])-w[i],Math.abs(f)>=x&&(m=((h=(h=(h=d+(A*f+2048>>12))>65280?65280:h)<0?0:h)<<12)/(d=0!==d?d:1)|0,img[v=4*i]=img[v]*m+2048>>12,img[v+1]=img[v+1]*m+2048>>12,img[v+2]=img[v+2]*m+2048>>12)}}},{"glur/mono16":18}],11:[function(e,t,n){"use strict";t.exports=function(img,e,t,n,o,r){if(!(0===n||o<.5)){o>2&&(o=2);var l=e*t,c=4*l,d=2*l,h=2*l,m=4*Math.max(e,t),f=32,v=0,y=c,w=y+d,A=w+h,x=A+h,O=x+m,C=this.__instance("unsharp_mask",c+d+2*h+m+f,{exp:Math.exp}),_=new Uint32Array(img.buffer);new Uint32Array(this.__memory.buffer).set(_);var S=C.exports.hsv_v16||C.exports._hsv_v16;S(v,y,e,t),(S=C.exports.blurMono16||C.exports._blurMono16)(y,w,A,x,O,e,t,o),(S=C.exports.unsharp||C.exports._unsharp)(v,v,y,w,e,t,n,r),_.set(new Uint32Array(this.__memory.buffer,0,l))}}},{}],12:[function(e,t,n){"use strict";t.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAE0B2AAAGAEf39/fwBgBn9/f39/fwBgCH9/f39/f39/AGAIf39/f39/f30AYAJ9fwBgAXwBfAIZAgNlbnYDZXhwAAYDZW52Bm1lbW9yeQIAAAMHBgAFAgQBAwYGAX8AQQALB4oBCBFfX3dhc21fY2FsbF9jdG9ycwABFl9fYnVpbGRfZ2F1c3NpYW5fY29lZnMAAg5fX2dhdXNzMTZfbGluZQADCmJsdXJNb25vMTYABAdoc3ZfdjE2AAUHdW5zaGFycAAGDF9fZHNvX2hhbmRsZQMAGF9fd2FzbV9hcHBseV9kYXRhX3JlbG9jcwABCsUMBgMAAQvWAQEHfCABRNuGukOCGvs/IAC7oyICRAAAAAAAAADAohAAIgW2jDgCFCABIAKaEAAiAyADoCIGtjgCECABRAAAAAAAAPA/IAOhIgQgBKIgAyACIAKgokQAAAAAAADwP6AgBaGjIgS2OAIAIAEgBSAEmqIiB7Y4AgwgASADIAJEAAAAAAAA8D+gIASioiIItjgCCCABIAMgAkQAAAAAAADwv6AgBKKiIgK2OAIEIAEgByAIoCAFRAAAAAAAAPA/IAahoCIDo7Y4AhwgASAEIAKgIAOjtjgCGAuGBQMGfwl8An0gAyoCDCEVIAMqAgghFiADKgIUuyERIAMqAhC7IRACQCAEQQFrIghBAEgiCQRAIAIhByAAIQYMAQsgAiAALwEAuCIPIAMqAhi7oiIMIBGiIg0gDCAQoiAPIAMqAgS7IhOiIhQgAyoCALsiEiAPoqCgoCIOtjgCACACQQRqIQcgAEECaiEGIAhFDQAgCEEBIAhBAUgbIgpBf3MhCwJ/IAQgCmtBAXFFBEAgDiENIAgMAQsgAiANIA4gEKIgFCASIAAvAQK4Ig+ioKCgIg22OAIEIAJBCGohByAAQQRqIQYgDiEMIARBAmsLIQIgC0EAIARrRg0AA0AgByAMIBGiIA0gEKIgDyAToiASIAYvAQC4Ig6ioKCgIgy2OAIAIAcgDSARoiAMIBCiIA4gE6IgEiAGLwECuCIPoqCgoCINtjgCBCAHQQhqIQcgBkEEaiEGIAJBAkohACACQQJrIQIgAA0ACwsCQCAJDQAgASAFIAhsQQF0aiIAAn8gBkECay8BACICuCINIBW7IhKiIA0gFrsiE6KgIA0gAyoCHLuiIgwgEKKgIAwgEaKgIg8gB0EEayIHKgIAu6AiDkQAAAAAAADwQWMgDkQAAAAAAAAAAGZxBEAgDqsMAQtBAAs7AQAgCEUNACAGQQRrIQZBACAFa0EBdCEBA0ACfyANIBKiIAJB//8DcbgiDSAToqAgDyIOIBCioCAMIBGioCIPIAdBBGsiByoCALugIgxEAAAAAAAA8EFjIAxEAAAAAAAAAABmcQRAIAyrDAELQQALIQMgBi8BACECIAAgAWoiACADOwEAIAZBAmshBiAIQQFKIQMgDiEMIAhBAWshCCADDQALCwvRAgIBfwd8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIglEAAAAAAAAAMCiEAAiDLaMOAIUIAQgCZoQACIKIAqgIg22OAIQIAREAAAAAAAA8D8gCqEiCyALoiAKIAkgCaCiRAAAAAAAAPA/oCAMoaMiC7Y4AgAgBCAMIAuaoiIOtjgCDCAEIAogCUQAAAAAAADwP6AgC6KiIg+2OAIIIAQgCiAJRAAAAAAAAPC/oCALoqIiCbY4AgQgBCAOIA+gIAxEAAAAAAAA8D8gDaGgIgqjtjgCHCAEIAsgCaAgCqO2OAIYIAYEQANAIAAgBSAIbEEBdGogAiAIQQF0aiADIAQgBSAGEAMgCEEBaiIIIAZHDQALCyAFRQ0AQQAhCANAIAIgBiAIbEEBdGogASAIQQF0aiADIAQgBiAFEAMgCEEBaiIIIAVHDQALCwtxAQN/IAIgA2wiBQRAA0AgASAAKAIAIgRBEHZB/wFxIgIgAiAEQQh2Qf8BcSIDIAMgBEH/AXEiBEkbIAIgA0sbIgYgBiAEIAIgBEsbIAMgBEsbQQh0OwEAIAFBAmohASAAQQRqIQAgBUEBayIFDQALCwuZAgIDfwF8IAQgBWwhBAJ/IAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6AiC5lEAAAAAAAA4EFjBEAgC6oMAQtBgICAgHgLIQUgBARAIAdBCHQhCUEAIQYDQCAJIAIgBkEBdCIHai8BACIBIAMgB2ovAQBrIgcgB0EfdSIIaiAIc00EQCAAIAZBAnQiCGoiCiAFIAdsQYAQakEMdSABaiIHQYD+AyAHQYD+A0gbIgdBACAHQQBKG0EMdCABQQEgARtuIgEgCi0AAGxBgBBqQQx2OgAAIAAgCEEBcmoiByABIActAABsQYAQakEMdjoAACAAIAhBAnJqIgcgASAHLQAAbEGAEGpBDHY6AAALIAZBAWoiBiAERw0ACwsL"},{}],13:[function(e,t,n){"use strict";var o=100;function r(e,t){this.create=e,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=t||2e3}r.prototype.acquire=function(){var e,t=this;return 0!==this.available.length?e=this.available.pop():((e=this.create()).id=this.lastId++,e.release=function(){return t.release(e)}),this.acquired[e.id]=e,e},r.prototype.release=function(e){var t=this;delete this.acquired[e.id],e.lastUsed=Date.now(),this.available.push(e),0===this.timeoutId&&(this.timeoutId=setTimeout((function(){return t.gc()}),o))},r.prototype.gc=function(){var e=this,t=Date.now();this.available=this.available.filter((function(n){return!(t-n.lastUsed>e.idle&&(n.destroy(),1))})),0!==this.available.length?this.timeoutId=setTimeout((function(){return e.gc()}),o):this.timeoutId=0},t.exports=r},{}],14:[function(e,t,n){"use strict";var o=2;t.exports=function(e,t,n,r,l,c){var d=n/e,h=r/t,m=(2*c+o+1)/l;if(m>.5)return[[n,r]];var f=Math.ceil(Math.log(Math.min(d,h))/Math.log(m));if(f<=1)return[[n,r]];for(var v=[],i=0;i<f;i++){var y=Math.round(Math.pow(Math.pow(e,f-i-1)*Math.pow(n,i+1),1/f)),w=Math.round(Math.pow(Math.pow(t,f-i-1)*Math.pow(r,i+1),1/f));v.push([y,w])}return v}},{}],15:[function(e,t,n){"use strict";var o=1e-5;function r(e){var t=Math.round(e);return Math.abs(e-t)<o?t:Math.floor(e)}function l(e){var t=Math.round(e);return Math.abs(e-t)<o?t:Math.ceil(e)}t.exports=function(e){var t,n,o,c,d,h,m=e.toWidth/e.width,f=e.toHeight/e.height,v=r(e.srcTileSize*m)-2*e.destTileBorder,y=r(e.srcTileSize*f)-2*e.destTileBorder;if(v<1||y<1)throw new Error("Internal error in pica: target tile width/height is too small.");var w,A=[];for(c=0;c<e.toHeight;c+=y)for(o=0;o<e.toWidth;o+=v)(t=o-e.destTileBorder)<0&&(t=0),t+(d=o+v+e.destTileBorder-t)>=e.toWidth&&(d=e.toWidth-t),(n=c-e.destTileBorder)<0&&(n=0),n+(h=c+y+e.destTileBorder-n)>=e.toHeight&&(h=e.toHeight-n),w={toX:t,toY:n,toWidth:d,toHeight:h,toInnerX:o,toInnerY:c,toInnerWidth:v,toInnerHeight:y,offsetX:t/m-r(t/m),offsetY:n/f-r(n/f),scaleX:m,scaleY:f,x:r(t/m),y:r(n/f),width:l(d/m),height:l(h/f)},A.push(w);return A}},{}],16:[function(e,t,n){"use strict";function o(e){return Object.prototype.toString.call(e)}t.exports.isCanvas=function(element){var e=o(element);return"[object HTMLCanvasElement]"===e||"[object OffscreenCanvas]"===e||"[object Canvas]"===e},t.exports.isImage=function(element){return"[object HTMLImageElement]"===o(element)},t.exports.isImageBitmap=function(element){return"[object ImageBitmap]"===o(element)},t.exports.limiter=function(e){var t=0,n=[];function o(){t<e&&n.length&&(t++,n.shift()())}return function(e){return new Promise((function(r,l){n.push((function(){e().then((function(e){r(e),t--,o()}),(function(e){l(e),t--,o()}))})),o()}))}},t.exports.cib_quality_name=function(e){switch(e){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},t.exports.cib_support=function(e){return Promise.resolve().then((function(){if("undefined"==typeof createImageBitmap)return!1;var t=e(100,100);return createImageBitmap(t,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then((function(e){var n=10===e.width;return e.close(),t=null,n}))})).catch((function(){return!1}))},t.exports.worker_offscreen_canvas_support=function(){return new Promise((function(e,t){if("undefined"!=typeof OffscreenCanvas){var code=btoa("(".concat(o.toString(),")(self);")),n=new Worker("data:text/javascript;base64,".concat(code));n.onmessage=function(t){return e(t.data)},n.onerror=t}else e(!1);function o(e){"undefined"!=typeof createImageBitmap?Promise.resolve().then((function(){var canvas=new OffscreenCanvas(10,10);return canvas.getContext("2d").rect(0,0,1,1),createImageBitmap(canvas,0,0,1,1)})).then((function(){return e.postMessage(!0)}),(function(){return e.postMessage(!1)})):e.postMessage(!1)}})).then((function(e){return e}),(function(){return!1}))},t.exports.can_use_canvas=function(e){var t=!1;try{var n=e(2,1).getContext("2d"),o=n.createImageData(2,1);o.data[0]=12,o.data[1]=23,o.data[2]=34,o.data[3]=255,o.data[4]=45,o.data[5]=56,o.data[6]=67,o.data[7]=255,n.putImageData(o,0,0),o=null,12===(o=n.getImageData(0,0,2,1)).data[0]&&23===o.data[1]&&34===o.data[2]&&255===o.data[3]&&45===o.data[4]&&56===o.data[5]&&67===o.data[6]&&255===o.data[7]&&(t=!0)}catch(e){}return t},t.exports.cib_can_use_region=function(){return new Promise((function(e){if("undefined"!=typeof Image&&"undefined"!=typeof createImageBitmap){var image=new Image;image.src="data:image/jpeg;base64,/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRcZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRAf/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z",image.onload=function(){createImageBitmap(image,0,0,image.width,image.height).then((function(t){t.width===image.width&&t.height===image.height?e(!0):e(!1)}),(function(){return e(!1)}))},image.onerror=function(){return e(!1)}}else e(!1)}))}},{}],17:[function(e,t,n){"use strict";t.exports=function(){var t,n=e("./mathlib");onmessage=function(e){var o=e.data.opts,r=!1;if(!o.src&&o.srcBitmap){var canvas=new OffscreenCanvas(o.width,o.height),l=canvas.getContext("2d");l.drawImage(o.srcBitmap,0,0),o.src=l.getImageData(0,0,o.width,o.height).data,canvas.width=canvas.height=0,canvas=null,o.srcBitmap.close(),o.srcBitmap=null}t||(t=new n(e.data.features));var data=t.resizeAndUnsharp(o);if(r){var c=new ImageData(new Uint8ClampedArray(data),o.toWidth,o.toHeight),d=new OffscreenCanvas(o.toWidth,o.toHeight);d.getContext("2d").putImageData(c,0,0),createImageBitmap(d).then((function(e){postMessage({bitmap:e},[e])}))}else postMessage({data:data},[data.buffer])}}},{"./mathlib":1}],18:[function(e,t,n){var o,r,l,c,d,h;function m(e){e<.5&&(e=.5);var a=Math.exp(.527076)/e,t=Math.exp(-a),n=Math.exp(-2*a),m=(1-t)*(1-t)/(1+2*a*t-n);return o=m,r=m*(a-1)*t,l=m*(a+1)*t,c=-m*n,d=2*t,h=-n,new Float32Array([o,r,l,c,d,h,(o+r)/(1-d-h),(l+c)/(1-d-h)])}function f(e,t,line,n,o,r){var l,c,d,h,m,f,v,y,i,w,A,x,O,C;for(i=0;i<r;i++){for(v=i,y=0,h=m=(l=e[f=i*o])*n[6],A=n[0],x=n[1],O=n[4],C=n[5],w=0;w<o;w++)d=(c=e[f])*A+l*x+h*O+m*C,m=h,h=d,l=c,line[y]=h,y++,f++;for(y--,v+=r*(o-1),h=m=(l=e[--f])*n[7],c=l,A=n[2],x=n[3],w=o-1;w>=0;w--)d=c*A+l*x+h*O+m*C,m=h,h=d,l=c,c=e[f],t[v]=line[y]+h,f--,y--,v-=r}}function v(e,t,n,o){if(o){var r=new Uint16Array(e.length),l=new Float32Array(Math.max(t,n)),c=m(o);f(e,r,l,c,t,n,o),f(r,e,l,c,n,t,o)}}t.exports=v},{}],19:[function(e,t,n){"use strict";var o=e("object-assign"),r=e("./lib/base64decode"),l=e("./lib/wa_detect"),c={js:!0,wasm:!0};function d(e){if(!(this instanceof d))return new d(e);var t=o({},c,e||{});if(this.options=t,this.__cache={},this.__init_promise=null,this.__modules=t.modules||{},this.__memory=null,this.__wasm={},this.__isLE=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0],!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}d.prototype.has_wasm=l,d.prototype.use=function(e){return this.__modules[e.name]=e,this.options.wasm&&this.has_wasm()&&e.wasm_fn?this[e.name]=e.wasm_fn:this[e.name]=e.fn,this},d.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error('mathlib: only "wasm" was enabled, but it\'s not supported'));var e=this;return this.__init_promise=Promise.all(Object.keys(e.__modules).map((function(t){var n=e.__modules[t];return e.options.wasm&&e.has_wasm()&&n.wasm_fn?e.__wasm[t]?null:WebAssembly.compile(e.__base64decode(n.wasm_src)).then((function(n){e.__wasm[t]=n})):null}))).then((function(){return e})),this.__init_promise},d.prototype.__base64decode=r,d.prototype.__reallocate=function(e){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(e/65536)}),this.__memory;var t=this.__memory.buffer.byteLength;return t<e&&this.__memory.grow(Math.ceil((e-t)/65536)),this.__memory},d.prototype.__instance=function(e,t,n){if(t&&this.__reallocate(t),!this.__wasm[e]){var r=this.__modules[e];this.__wasm[e]=new WebAssembly.Module(this.__base64decode(r.wasm_src))}if(!this.__cache[e]){var l={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[e]=new WebAssembly.Instance(this.__wasm[e],{env:o(l,n||{})})}return this.__cache[e]},d.prototype.__align=function(e,base){var t=e%(base=base||8);return e+(t?base-t:0)},t.exports=d},{"./lib/base64decode":20,"./lib/wa_detect":21,"object-assign":22}],20:[function(e,t,n){"use strict";var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";t.exports=function(e){for(var input=e.replace(/[\r\n=]/g,""),t=input.length,n=new Uint8Array(3*t>>2),r=0,l=0,c=0;c<t;c++)c%4==0&&c&&(n[l++]=r>>16&255,n[l++]=r>>8&255,n[l++]=255&r),r=r<<6|o.indexOf(input.charAt(c));var d=t%4*6;return 0===d?(n[l++]=r>>16&255,n[l++]=r>>8&255,n[l++]=255&r):18===d?(n[l++]=r>>10&255,n[l++]=r>>2&255):12===d&&(n[l++]=r>>4&255),n}},{}],21:[function(e,t,n){"use strict";var o;t.exports=function(){if(void 0!==o)return o;if(o=!1,"undefined"==typeof WebAssembly)return o;try{var e=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),t=new WebAssembly.Module(e);return 0!==new WebAssembly.Instance(t,{}).exports.test(4)&&(o=!0),o}catch(e){}return o}},{}],22:[function(e,t,n){"use strict";var o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;function c(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function d(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}t.exports=d()?Object.assign:function(e,source){for(var t,n,d=c(e),s=1;s<arguments.length;s++){for(var h in t=Object(arguments[s]))r.call(t,h)&&(d[h]=t[h]);if(o){n=o(t);for(var i=0;i<n.length;i++)l.call(t,n[i])&&(d[n[i]]=t[n[i]])}}return d}},{}],23:[function(e,t,n){var o=arguments[3],r=arguments[4],l=arguments[5],c=JSON.stringify;t.exports=function(e,t){for(var n,d=Object.keys(l),i=0,h=d.length;i<h;i++){var m=d[i],f=l[m].exports;if(f===e||f&&f.default===e){n=m;break}}if(!n){n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var v={};for(i=0,h=d.length;i<h;i++)v[m=d[i]]=m;r[n]=["function(require,module,exports){"+e+"(self); }",v]}var y=Math.floor(Math.pow(16,8)*Math.random()).toString(16),w={};w[n]=n,r[y]=["function(require,module,exports){var f = require("+c(n)+");(f.default ? f.default : f)(self);}",w];var A={};function x(e){for(var t in A[e]=!0,r[e][1]){var n=r[e][1][t];A[n]||x(n)}}x(y);var O="("+o+")({"+Object.keys(A).map((function(e){return c(e)+":["+r[e][0]+","+c(r[e][1])+"]"})).join(",")+"},{},["+c(y)+"])",C=window.URL||window.webkitURL||window.mozURL||window.msURL,_=new Blob([O],{type:"text/javascript"});if(t&&t.bare)return _;var S=C.createObjectURL(_),k=new Worker(S);return k.objectURL=S,k}},{}],"/index.js":[function(e,t,n){"use strict";function o(e,i){return h(e)||d(e,i)||l(e,i)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function d(e,i){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,r=[],l=!0,c=!1;try{for(t=t.call(e);!(l=(n=t.next()).done)&&(r.push(n.value),!i||r.length!==i);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==t.return||t.return()}finally{if(c)throw o}}return r}}function h(e){if(Array.isArray(e))return e}var m=e("object-assign"),f=e("webworkify"),v=e("./lib/mathlib"),y=e("./lib/pool"),w=e("./lib/utils"),A=e("./lib/worker"),x=e("./lib/stepper"),O=e("./lib/tiler"),C=e("./lib/mm_resize/resize_filter_info"),_={},S=!1;try{"undefined"!=typeof navigator&&navigator.userAgent&&(S=navigator.userAgent.indexOf("Safari")>=0)}catch(e){}var k=1;"undefined"!=typeof navigator&&(k=Math.min(navigator.hardwareConcurrency||1,4));var T={tile:1024,concurrency:k,features:["js","wasm","ww"],idle:2e3,createCanvas:function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n}},j={filter:"mks2013",unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},E=!1,D=!1,I=!1,R=!1,B=!1;function M(){return{value:f(A),destroy:function(){if(this.value.terminate(),"undefined"!=typeof window){var e=window.URL||window.webkitURL||window.mozURL||window.msURL;e&&e.revokeObjectURL&&this.value.objectURL&&e.revokeObjectURL(this.value.objectURL)}}}}function P(e){if(!(this instanceof P))return new P(e);this.options=m({},T,e||{});var t="lk_".concat(this.options.concurrency);this.__limit=_[t]||w.limiter(this.options.concurrency),_[t]||(_[t]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}P.prototype.init=function(){var t=this;if(this.__initPromise)return this.__initPromise;if("undefined"!=typeof ImageData&&"undefined"!=typeof Uint8ClampedArray)try{new ImageData(new Uint8ClampedArray(400),10,10),E=!0}catch(e){}"undefined"!=typeof ImageBitmap&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?D=!0:this.debug("ImageBitmap does not support .close(), disabled"));var n=this.options.features.slice();if(n.indexOf("all")>=0&&(n=["cib","wasm","js","ww"]),this.__requested_features=n,this.__mathlib=new v(n),n.indexOf("ww")>=0&&"undefined"!=typeof window&&"Worker"in window)try{e("webworkify")((function(){})).terminate(),this.features.ww=!0;var o="wp_".concat(JSON.stringify(this.options));_[o]?this.__workersPool=_[o]:(this.__workersPool=new y(M,this.options.idle),_[o]=this.__workersPool)}catch(e){}var r,l,c=this.__mathlib.init().then((function(e){m(t.features,e.features)}));r=D?w.cib_support(this.options.createCanvas).then((function(e){t.features.cib&&n.indexOf("cib")<0?t.debug("createImageBitmap() resize supported, but disabled by config"):n.indexOf("cib")>=0&&(t.features.cib=e)})):Promise.resolve(!1),I=w.can_use_canvas(this.options.createCanvas),l=(l=D&&E&&-1!==n.indexOf("ww")?w.worker_offscreen_canvas_support():Promise.resolve(!1)).then((function(e){R=e}));var d=w.cib_can_use_region().then((function(e){B=e}));return this.__initPromise=Promise.all([c,r,l,d]).then((function(){return t})),this.__initPromise},P.prototype.__invokeResize=function(e,t){var n=this;return t.__mathCache=t.__mathCache||{},Promise.resolve().then((function(){return n.features.ww?new Promise((function(o,r){var l=n.__workersPool.acquire();t.cancelToken&&t.cancelToken.catch((function(e){return r(e)})),l.value.onmessage=function(e){l.release(),e.data.err?r(e.data.err):o(e.data)};var c=[];e.src&&c.push(e.src.buffer),e.srcBitmap&&c.push(e.srcBitmap),l.value.postMessage({opts:e,features:n.__requested_features,preload:{wasm_nodule:n.__mathlib.__}},c)})):{data:n.__mathlib.resizeAndUnsharp(e,t.__mathCache)}}))},P.prototype.__extractTileData=function(e,t,n,o,r){if(this.features.ww&&R&&(w.isCanvas(t)||B))return this.debug("Create tile for OffscreenCanvas"),createImageBitmap(o.srcImageBitmap||t,e.x,e.y,e.width,e.height).then((function(e){return r.srcBitmap=e,r}));if(w.isCanvas(t))return o.srcCtx||(o.srcCtx=t.getContext("2d")),this.debug("Get tile pixel data"),r.src=o.srcCtx.getImageData(e.x,e.y,e.width,e.height).data,r;this.debug("Draw tile imageBitmap/image to temporary canvas");var l=this.options.createCanvas(e.width,e.height),c=l.getContext("2d");return c.globalCompositeOperation="copy",c.drawImage(o.srcImageBitmap||t,e.x,e.y,e.width,e.height,0,0,e.width,e.height),this.debug("Get tile pixel data"),r.src=c.getImageData(0,0,e.width,e.height).data,l.width=l.height=0,r},P.prototype.__landTileData=function(e,t,n){var o;if(this.debug("Convert raw rgba tile result to ImageData"),t.bitmap)return n.toCtx.drawImage(t.bitmap,e.toX,e.toY),null;if(E)o=new ImageData(new Uint8ClampedArray(t.data),e.toWidth,e.toHeight);else if((o=n.toCtx.createImageData(e.toWidth,e.toHeight)).data.set)o.data.set(t.data);else for(var i=o.data.length-1;i>=0;i--)o.data[i]=t.data[i];return this.debug("Draw tile"),S?n.toCtx.putImageData(o,e.toX,e.toY,e.toInnerX-e.toX,e.toInnerY-e.toY,e.toInnerWidth+1e-5,e.toInnerHeight+1e-5):n.toCtx.putImageData(o,e.toX,e.toY,e.toInnerX-e.toX,e.toInnerY-e.toY,e.toInnerWidth,e.toInnerHeight),null},P.prototype.__tileAndResize=function(e,t,n){var o=this,r={srcCtx:null,srcImageBitmap:null,isImageBitmapReused:!1,toCtx:null},l=function(t){return o.__limit((function(){if(n.canceled)return n.cancelToken;var l={width:t.width,height:t.height,toWidth:t.toWidth,toHeight:t.toHeight,scaleX:t.scaleX,scaleY:t.scaleY,offsetX:t.offsetX,offsetY:t.offsetY,filter:n.filter,unsharpAmount:n.unsharpAmount,unsharpRadius:n.unsharpRadius,unsharpThreshold:n.unsharpThreshold};return o.debug("Invoke resize math"),Promise.resolve(l).then((function(l){return o.__extractTileData(t,e,n,r,l)})).then((function(e){return o.debug("Invoke resize math"),o.__invokeResize(e,n)})).then((function(e){return n.canceled?n.cancelToken:(r.srcImageData=null,o.__landTileData(t,e,r))}))}))};return Promise.resolve().then((function(){if(r.toCtx=t.getContext("2d"),w.isCanvas(e))return null;if(w.isImageBitmap(e))return r.srcImageBitmap=e,r.isImageBitmapReused=!0,null;if(w.isImage(e))return D?(o.debug("Decode image via createImageBitmap"),createImageBitmap(e).then((function(e){r.srcImageBitmap=e})).catch((function(e){return null}))):null;throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap')})).then((function(){if(n.canceled)return n.cancelToken;o.debug("Calculate tiles");var e=O({width:n.width,height:n.height,srcTileSize:o.options.tile,toWidth:n.toWidth,toHeight:n.toHeight,destTileBorder:n.__destTileBorder}).map((function(e){return l(e)}));function c(e){e.srcImageBitmap&&(e.isImageBitmapReused||e.srcImageBitmap.close(),e.srcImageBitmap=null)}return o.debug("Process tiles"),Promise.all(e).then((function(){return o.debug("Finished!"),c(r),t}),(function(e){throw c(r),e}))}))},P.prototype.__processStages=function(e,t,n,r){var l=this;if(r.canceled)return r.cancelToken;var filter,c,d=o(e.shift(),2),h=d[0],f=d[1],v=0===e.length;return filter=v||C.q2f.indexOf(r.filter)<0?r.filter:"box"===r.filter?"box":"hamming",r=m({},r,{toWidth:h,toHeight:f,filter:filter}),v||(c=this.options.createCanvas(h,f)),this.__tileAndResize(t,v?n:c,r).then((function(){return v?n:(r.width=h,r.height=f,l.__processStages(e,c,n,r))})).then((function(e){return c&&(c.width=c.height=0),e}))},P.prototype.__resizeViaCreateImageBitmap=function(e,t,n){var o=this,r=t.getContext("2d");return this.debug("Resize via createImageBitmap()"),createImageBitmap(e,{resizeWidth:n.toWidth,resizeHeight:n.toHeight,resizeQuality:w.cib_quality_name(C.f2q[n.filter])}).then((function(e){if(n.canceled)return n.cancelToken;if(!n.unsharpAmount)return r.drawImage(e,0,0),e.close(),r=null,o.debug("Finished!"),t;o.debug("Unsharp result");var l=o.options.createCanvas(n.toWidth,n.toHeight),c=l.getContext("2d");c.drawImage(e,0,0),e.close();var d=c.getImageData(0,0,n.toWidth,n.toHeight);return o.__mathlib.unsharp_mask(d.data,n.toWidth,n.toHeight,n.unsharpAmount,n.unsharpRadius,n.unsharpThreshold),r.putImageData(d,0,0),l.width=l.height=0,d=c=l=r=null,o.debug("Finished!"),t}))},P.prototype.resize=function(e,t,n){var o=this;this.debug("Start resize...");var r=m({},j);if(isNaN(n)?n&&(r=m(r,n)):r=m(r,{quality:n}),r.toWidth=t.width,r.toHeight=t.height,r.width=e.naturalWidth||e.width,r.height=e.naturalHeight||e.height,Object.prototype.hasOwnProperty.call(r,"quality")){if(r.quality<0||r.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(r.quality));r.filter=C.q2f[r.quality]}if(0===t.width||0===t.height)return Promise.reject(new Error("Invalid output size: ".concat(t.width,"x").concat(t.height)));r.unsharpRadius>2&&(r.unsharpRadius=2),r.canceled=!1,r.cancelToken&&(r.cancelToken=r.cancelToken.then((function(data){throw r.canceled=!0,data}),(function(e){throw r.canceled=!0,e})));var l=3;return r.__destTileBorder=Math.ceil(Math.max(l,2.5*r.unsharpRadius|0)),this.init().then((function(){if(r.canceled)return r.cancelToken;if(o.features.cib){if(C.q2f.indexOf(r.filter)>=0)return o.__resizeViaCreateImageBitmap(e,t,r);o.debug("cib is enabled, but not supports provided filter, fallback to manual math")}if(!I){var n=new Error("Pica: cannot use getImageData on canvas, make sure fingerprinting protection isn't enabled");throw n.code="ERR_GET_IMAGE_DATA",n}var l=x(r.width,r.height,r.toWidth,r.toHeight,o.options.tile,r.__destTileBorder);return o.__processStages(l,e,t,r)}))},P.prototype.resizeBuffer=function(e){var t=this,n=m({},j,e);if(Object.prototype.hasOwnProperty.call(n,"quality")){if(n.quality<0||n.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(n.quality));n.filter=C.q2f[n.quality]}return this.init().then((function(){return t.__mathlib.resizeAndUnsharp(n)}))},P.prototype.toBlob=function(canvas,e,t){return e=e||"image/png",new Promise((function(n){if(canvas.toBlob)canvas.toBlob((function(e){return n(e)}),e,t);else if(canvas.convertToBlob)n(canvas.convertToBlob({type:e,quality:t}));else{for(var o=atob(canvas.toDataURL(e,t).split(",")[1]),r=o.length,l=new Uint8Array(r),i=0;i<r;i++)l[i]=o.charCodeAt(i);n(new Blob([l],{type:e}))}}))},P.prototype.debug=function(){},t.exports=P},{"./lib/mathlib":1,"./lib/mm_resize/resize_filter_info":7,"./lib/pool":13,"./lib/stepper":14,"./lib/tiler":15,"./lib/utils":16,"./lib/worker":17,"object-assign":22,webworkify:23}]},{},[])("/index.js")},function(e,t,n){"use strict";n(556)},function(e,t,n){n(594);var o=n(20),r=n(557);o({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==r},{trimStart:r})},function(e,t,n){var o=n(20),r=n(557);o({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==r},{trimLeft:r})},function(e,t,n){"use strict";n(558)},function(e,t,n){"use strict";n(559)},function(e,t,n){"use strict";n(560)},function(e,t,n){"use strict";n(561)},function(e,t,n){"use strict";n(562)},function(e,t,n){"use strict";n(563)},function(e,t,n){"use strict";n(564)},function(e,t,n){"use strict";n(565)},function(e,t,n){"use strict";n.r(t);n(16),n(80),n(173),n(28),n(74);var o=n(9),r={props:{internal:{type:String,required:!0},properties:{type:Object,default:function(){}},data:{type:Object,default:function(){}},bus:{type:o.default,required:!0}},data:function(){return{value:null,onTouched:!0,valid:!0,regEx:null,requiredError:!1,formatError:!1}},computed:{state:function(){return this.onTouched?null:this.valid}},watch:{value:function(e,t){null!==t&&(this.onTouched=!1),this.checkValid(e),this.$emit("updateValues",{field:this.internal,valid:this.valid,value:e})}},beforeMount:function(){this.data&&(this.value=this.data.value),this.properties.regEx&&(this.regEx=new RegExp(this.properties.regEx))},created:function(){var e=this;this.bus.$on("setStatus",(function(t){e.onTouched=!1}))},mounted:function(){this.$emit("updateValues",{field:this.internal,valid:this.valid,value:this.value})},methods:{checkValid:function(e){this.requiredError=this.properties.required&&(""===e||null==e),this.formatError=this.regEx&&!this.regEx.test(e),this.requiredError||this.formatError?this.valid=!1:this.valid=!0}}},l=n(63),component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("CommonAutolayoutLabelWrapper",{attrs:{label:e.properties.title,description:e.properties.description,required:e.properties.required,internal:e.internal}},[e.valid||e.onTouched||!e.requiredError?e._e():t("div",{staticClass:"input-feedback",attrs:{id:"input-".concat(e.internal,"-feedback")}},[e._v("\n    "+e._s(e.$t("common.required"))+"\n  ")]),e._v(" "),e.valid||e.onTouched||e.requiredError||!e.formatError?e._e():t("div",{staticClass:"input-feedback",attrs:{id:"input-".concat(e.internal,"-feedback")}},[e._v("\n    "+e._s(e.$t("common.invalidFormat"))+"\n  ")]),e._v(" "),"richtext"==e.properties.type?t("CommonAutolayoutRichText",{class:{"is-invalid":!e.valid},attrs:{editModal:e.properties.editModal,editorSettings:e.properties.editorSettings,endPoint:e.properties.endPoint},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):"multiline"==e.properties.type?t("b-textarea",{class:{"is-invalid":!e.valid},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):t("b-input",{attrs:{id:"input-".concat(e.internal),type:"text",state:e.state,maxlength:e.properties.maxlength,disabled:e.properties.disabled,autocomplete:e.properties.autocomplete,trim:!0},on:{focus:function(e){return e.target.select()}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),e.properties.maxlength?t("span",{class:{"max-length-helper":!0,"max-length-helper-almost":e.properties.maxlength-(e.value?e.value.length:0)<15&&e.properties.maxlength>50}},[e._v("\n    "+e._s(e.properties.maxlength-(e.value?e.value.length:0))+"\n    "+e._s(e.$t("common.charactersRemaining"))+"\n  ")]):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CommonAutolayoutRichText:n(581).default,CommonAutolayoutLabelWrapper:n(541).default})},function(e,t,n){"use strict";n.r(t);n(16),n(80),n(28);var o=n(9),r={props:{internal:{type:String,required:!0},properties:{type:Object,default:function(){}},data:{type:Object,default:function(){}},bus:{type:o.default,required:!0}},data:function(){return{value:null,onTouched:!0,valid:!0}},computed:{state:function(){return this.onTouched?null:this.valid}},watch:{value:function(e,t){null!==t&&(this.onTouched=!1),this.checkValid(e),this.$emit("updateValues",{field:this.internal,valid:this.valid,value:e})}},beforeMount:function(){this.data&&(this.value=this.data.value)},created:function(){var e=this;this.bus.$on("setStatus",(function(t){e.onTouched=!1}))},mounted:function(){this.$emit("updateValues",{field:this.internal,valid:this.valid,value:this.value})},methods:{checkValid:function(e){!this.properties.required&&""===e||/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/.test(e)?this.valid=!0:this.valid=!1}}},l=n(63),component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("CommonAutolayoutLabelWrapper",{attrs:{label:e.properties.title,description:e.properties.description,required:e.properties.required,internal:e.internal}},[e.valid||e.onTouched?e._e():t("div",{staticClass:"input-feedback",attrs:{id:"input-".concat(e.internal,"-feedback")}},[e._v("\n    "+e._s(e.$t("common.required"))+"\n  ")]),e._v(" "),t("b-input",{attrs:{id:"input-".concat(e.internal),type:"text",state:e.state,maxlength:e.properties.maxlength,disabled:e.properties.disabled,autocomplete:e.properties.autocomplete,trim:!0},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CommonAutolayoutLabelWrapper:n(541).default})},function(e,t,n){"use strict";n.r(t);n(16),n(80);var o=n(9),r={props:{internal:{type:String,required:!0},properties:{type:Object,default:function(){}},data:{type:Object,default:function(){}},bus:{type:o.default,required:!0}},data:function(){return{value:null,onTouched:!0,valid:!0}},computed:{state:function(){return this.onTouched?null:this.valid}},watch:{value:function(e,t){null!==t&&(this.onTouched=!1),this.checkValid(e),this.$emit("updateValues",{field:this.internal,valid:this.valid,value:e})}},beforeMount:function(){this.data&&(this.value=this.data.value)},created:function(){var e=this;this.bus.$on("setStatus",(function(t){e.onTouched=!1}))},mounted:function(){this.$emit("updateValues",{field:this.internal,valid:this.valid,value:this.value})},methods:{checkValid:function(e){this.properties.required?this.valid=""!==e&&null!=e:this.valid=!0}}},l=n(63),component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("CommonAutolayoutLabelWrapper",{attrs:{label:e.properties.title,description:e.properties.description,required:e.properties.required,internal:e.internal}},[e.valid||e.onTouched?e._e():t("div",{staticClass:"input-feedback",attrs:{id:"input-".concat(e.internal,"-feedback")}},[e._v("\n    "+e._s(e.$t("common.required"))+"\n  ")]),e._v(" "),t("b-textarea",{attrs:{state:e.state,disabled:!0===e.properties.disabled,rows:"8","max-rows":"30"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CommonAutolayoutLabelWrapper:n(541).default})},function(e,t,n){"use strict";n.r(t);n(16),n(80),n(50),n(13),n(10),n(238);var o=n(9),r=n(583),l=n.n(r),c=n(231),d=n(131),h={components:{BFormSelect:c.a,BFormSelectOption:d.a,VSelect:l.a},props:{properties:{type:Object,default:function(){}},internal:{type:String,required:!0},data:{type:Object,default:function(){}},bus:{type:o.default,required:!0}},data:function(){return{value:"",valid:!this.properties.required,onTouched:!0}},computed:{state:function(){return this.onTouched?null:this.valid},newValue:{get:function(){return this.getObjectForValue(this.value)},set:function(e){null===e?this.value=null:(this.value=e.id,this.valid=!0)}}},watch:{value:function(e,t){this.onTouched=!1,this.checkValid(e),this.$emit("updateValues",{field:this.internal,valid:this.valid,value:e})}},created:function(){var e=this;this.bus.$on("setStatus",(function(t){e.onTouched=!1}))},mounted:function(){this.data&&(this.value=this.data.value,0===this.value&&(this.value=""),this.valid=null!==this.data.value&&""!==this.data.value||!this.properties.required),this.$emit("updateValues",{field:this.internal,valid:this.valid,value:this.value})},methods:{getObjectForValue:function(e){if(null===e)return{};var t=this.properties.items.filter((function(t){return t.id===Number(e)}));return t.length>0?t[0]:{}},checkValid:function(e){!this.properties.required||null!==e&&""!==e?this.valid=!0:this.valid=!1}}},m=n(63),component=Object(m.a)(h,(function(){var e=this,t=e._self._c;return t("CommonAutolayoutLabelWrapper",{attrs:{label:e.properties.title,description:e.properties.description,required:e.properties.required,internal:e.internal}},[e.valid||e.onTouched?e._e():t("div",{staticClass:"input-feedback",attrs:{id:"input-".concat(e.internal,"-feedback")}},[e._v("\n    "+e._s(e.$t("common.required"))+"\n  ")]),e._v(" "),e.properties.searchable?t("v-select",{key:"id",attrs:{label:"name",options:e.properties.items,disabled:e.properties.disabled},model:{value:e.newValue,callback:function(t){e.newValue=t},expression:"newValue"}},[t("div",{attrs:{slot:"no-options"},slot:"no-options"},[e._v(e._s(e.$t("no_results")))])]):t("b-form-select",{class:{"is-invalid":!e.valid&&!e.onTouched},attrs:{disabled:e.properties.disabled},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[t("b-form-select-option",{attrs:{value:""}},[e._v("\n      -- "+e._s(e.$t("dropdown.choose"))+" --")]),e._v(" "),e._l(e.properties.items,(function(n){return t("b-form-select-option",{key:n.id,attrs:{value:n.id}},[e._v("\n      "+e._s(n.name)+"\n    ")])}))],2)],1)}),[],!1,null,"6fd5e9f4",null);t.default=component.exports;installComponents(component,{CommonAutolayoutLabelWrapper:n(541).default})},function(e,t,n){"use strict";n.r(t);n(16),n(80),n(28),n(146),n(10),n(33),n(43);var o=n(9),r=n(584),l=n.n(r),c=n(542),d={components:{draggable:n.n(c).a,Multiselect:l.a},props:{internal:{type:String,required:!0},properties:{type:Object,default:function(){}},data:{type:Object,default:function(){}},bus:{type:o.default,required:!0}},data:function(){return{value:null,onTouched:!0,valid:!0,ajaxOptions:[],isLoading:!1,showSorter:!1}},computed:{state:function(){return this.onTouched?null:this.valid},items:function(){var e;return null!==(e=this.properties.items)&&void 0!==e?e:[]}},watch:{value:function(e,t){null!==t&&(this.onTouched=!1),this.checkValid(e),this.updateValues(e)}},beforeMount:function(){this.data&&(this.data.value.length>0?this.value=this.data.value:this.value=[])},created:function(){var e=this;this.bus.$on("setStatus",(function(t){e.onTouched=!1}))},mounted:function(){this.updateValues(this.value)},methods:{toggleSorter:function(){this.showSorter=!this.showSorter},asyncFind:function(e){var t=this;!e||e&&e.length<=2||(this.isLoading=!0,this.$axios.get("".concat(this.properties.endPoint,"?q=").concat(e)).then((function(e){t.ajaxOptions=e.data.results})).catch((function(e){t.$sbToast.error("Error connecting to backend")})).finally((function(){t.isLoading=!1})))},updateValues:function(e){this.$emit("updateValues",{field:this.internal,valid:this.valid,value:e.map((function(e){return e.id}))})},checkValid:function(e){this.properties.required&&(0===e.length||null==e)?this.valid=!1:this.valid=!0}}},h=(n(585),n(63)),component=Object(h.a)(d,(function(){var e=this,t=e._self._c;return t("CommonAutolayoutLabelWrapper",{attrs:{label:e.properties.title,description:e.properties.description,required:e.properties.required,internal:e.internal}},[e.valid||e.onTouched?e._e():t("div",{staticClass:"input-feedback",attrs:{id:"input-".concat(e.internal,"-feedback")}},[e._v("\n    "+e._s(e.$t("common.required"))+"\n  ")]),e._v(" "),e.properties.lazyLoad?t("Multiselect",e._b({attrs:{id:"ajax",label:"label",options:e.ajaxOptions,"track-by":"id",multiple:!0,searchable:!0,loading:e.isLoading,"internal-search":!1,"clear-on-select":!1,"close-on-select":!1,"options-limit":300,"max-height":600,"show-no-results":!1,"hide-selected":!0},on:{"search-change":e.asyncFind},scopedSlots:e._u([{key:"clear",fn:function(n){return[e.value.length?t("div",{staticClass:"multiselect__clear",on:{mousedown:function(t){return t.preventDefault(),t.stopPropagation(),e.clearAll(n.search)}}}):e._e()]}}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"Multiselect",e.$t("multiSelect"),!1),[e._v(" "),t("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v(e._s(e.$t("multiSelect.noResult")))]),e._v(" "),t("span",{attrs:{slot:"noOptions"},slot:"noOptions"},[e._v(e._s(e.$t("multiSelect.noOptions")))])]):t("Multiselect",e._b({attrs:{options:e.items,"custom-label":function(data){return data.label},multiple:!0,"track-by":"id"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"Multiselect",e.$t("multiSelect"),!1),[t("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v(e._s(e.$t("multiSelect.noResult")))]),e._v(" "),t("span",{attrs:{slot:"noOptions"},slot:"noOptions"},[e._v(e._s(e.$t("multiSelect.noOptions")))])]),e._v(" "),e.properties.tagsSortable&&e.value&&e.value.length>=2?t("b-button",{staticClass:"mx-3 mt-2",attrs:{size:"sm"},on:{click:function(t){return e.toggleSorter()}}},[t("Icon",{attrs:{icon:"sort"}}),e._v("\n    "+e._s(e.$t("multiSelect.sort"))+"\n  ")],1):e._e(),e._v(" "),e.showSorter?t("CommonModalsModal",{on:{cancel:function(t){return e.toggleSorter()}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(e.$t("multiSelect.sort"))+" ")]},proxy:!0},{key:"full",fn:function(){return[t("div",{staticClass:"p-2"},[e.properties.tagsSortable&&e.value&&e.value.length>=2?t("draggable",{staticClass:"multi-drag-list",model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.value,(function(n,o){return t("div",{key:o},[e._v("\n            "+e._s(n.label)+"\n            "),t("Icon",{attrs:{icon:"up-down",size:"sm"}})],1)})),0):e._e()],1)]},proxy:!0}],null,!1,2084320237)}):e._e()],1)}),[],!1,null,"1eed68ca",null);t.default=component.exports;installComponents(component,{CommonModalsModal:n(545).default,CommonAutolayoutLabelWrapper:n(541).default})},function(e,t,n){"use strict";n.r(t);n(16),n(80),n(33);var o=n(9),r={props:{properties:{type:Object,default:function(){}},internal:{type:String,required:!0},data:{type:Object,default:function(){}},bus:{type:o.default,required:!0}},data:function(){return{value:"",valid:!this.properties.required,onTouched:!0,uniqueId:""}},computed:{state:function(){return this.ontouched?null:this.valid}},watch:{value:function(e,t){this.onTouched=!1,this.properties.required?this.valid=1===e||"1"===e:this.valid=!0,this.$emit("updateValues",{field:this.internal,valid:this.valid,value:1===e})}},created:function(){var e=this;this.bus.$on("setStatus",(function(t){e.onTouched=!1})),this.uniqueId="".concat(this._uid).concat(this.internal,"_checkbox")},mounted:function(){this.value=this.data.value?1:0,this.$emit("updateValues",{field:this.internal,valid:this.valid,value:this.value})}},l=n(63),component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-12"},[t("b-form-group",{attrs:{id:"input-group-".concat(e.uniqueId),description:e.properties.description}},[t("b-form-checkbox",{attrs:{id:"input-".concat(e.uniqueId),name:"input-".concat(e.uniqueId),value:1,"unchecked-value":0},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[e._v("\n      "+e._s(e.properties.title)+"\n    ")]),e._v(" "),t("b-form-invalid-feedback",{attrs:{id:"input-".concat(e.uniqueId,"-feedback"),state:e.state}},[e._v("\n      "+e._s(e.$t("common.required"))+"\n    ")])],1)],1)}),[],!1,null,null,null);t.default=component.exports},function(e,t,n){"use strict";n.r(t);n(16),n(80);var o=n(9),r={props:{items:{type:Array,default:function(){return[]}},properties:{type:Object,default:function(){}},data:{type:Object,default:function(){}},bus:{type:o.default,required:!0}},data:function(){return{value:"",valid:!this.properties.required,onTouched:!0}},computed:{state:function(){return this.onTouched?null:this.valid}},watch:{value:function(e,t){this.onTouched=!1,this.properties.required?this.valid=this.value.length>0:this.valid=null,this.$emit("updateValues",{field:this.properties.internal,valid:this.valid,value:e})},valid:function(e,t){this.$emit("updateValues",{field:"text",valid:e,value:this.value})}},created:function(){var e=this;this.bus.$on("setStatus",(function(t){e.onTouched=!1}))},mounted:function(){this.$emit("updateValues",{field:this.properties.internal,required:this.properties.required,valid:this.valid,value:this.value})}},l=n(63),component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("CommonAutolayoutLabelWrapper",{attrs:{label:e.properties.title,description:e.properties.description,required:e.properties.required,internal:e.internal}},[t("b-input",{attrs:{id:"input-".concat(e.properties.internal),type:"password",state:e.state,autocomplete:e.properties.autocomplete,trim:!0},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),t("b-form-invalid-feedback",{attrs:{id:"input-".concat(e.properties.internal,"-feedback")}},[e._v("\n    "+e._s(e.$t("common.required"))+"\n  ")])],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CommonAutolayoutLabelWrapper:n(541).default})},function(e,t,n){"use strict";n.r(t);n(16),n(80),n(51),n(33);var o=n(9),r=n(566),l={components:{Timepicker:n(567).default,Datepicker:r.default},props:{internal:{type:String,required:!0},properties:{type:Object,default:function(){}},data:{type:Object,default:function(){}},bus:{type:o.default,required:!0}},data:function(){return{value:"",date:"",time:"",timeValid:!0,dateValid:!0,onTouched:!0,valid:!this.properties.required}},computed:{state:function(){return this.onTouched?null:this.valid}},watch:{},beforeMount:function(){var e,t,n;this.data&&(this.value=null!==(e=this.data.value)&&void 0!==e?e:null,this.date=null!==(t=this.data.value.slice(0,10))&&void 0!==t?t:null,this.time=null!==(n=this.data.value.slice(11,this.data.value.length+1))&&void 0!==n?n:null)},created:function(){var e=this;this.bus.$on("setStatus",(function(t){e.onTouched=!1}))},mounted:function(){this.$emit("updateValues",{field:this.internal,valid:this.valid,value:this.value})},methods:{updateValues:function(e){switch(e.field){case"date":this.date=e.value,this.dateValid=e.valid;break;case"time":this.time=e.value,this.timeValid=e.valid;break;default:return}this.checkValid(),this.value=null!==this.date&&null!==this.time&&this.valid?"".concat(this.date,"T").concat(this.time):null,this.$emit("updateValues",{field:this.internal,valid:this.valid,value:this.value})},checkValid:function(){this.valid=this.timeValid&&null!==this.time&&this.dateValid&&null!==this.date||!this.properties.required&&null==this.time&&null==this.date}}},c=n(63),component=Object(c.a)(l,(function(){var e=this,t=e._self._c;return t("CommonAutolayoutLabelWrapper",{class:{"is-invalid":!e.valid},attrs:{label:e.properties.title,description:e.properties.description,required:e.properties.required,internal:e.internal}},[e.valid||e.onTouched?e._e():t("div",{staticClass:"input-feedback",attrs:{id:"input-".concat(e.internal,"-feedback")}},[e._v("\n    "+e._s(this.valid||this.required?e.$t("common.required"):e.$t("forms.field.datetimeIncomplete"))+"\n  ")]),e._v(" "),t("b-row",[t("datepicker",{attrs:{data:{value:this.date},internal:"date",bus:e.bus,properties:{required:this.properties.required,title:"Datum",cols:6}},on:{updateValues:e.updateValues}}),e._v(" "),t("timepicker",{attrs:{label:"Tijd",data:{value:this.time},internal:"time",bus:e.bus,properties:{required:this.properties.required,title:"Tijd",cols:6}},on:{updateValues:e.updateValues}})],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CommonAutolayoutLabelWrapper:n(541).default})},function(e,t,n){"use strict";n.r(t);n(16),n(80),n(91),n(114),n(17),n(13),n(18),n(14),n(19);var o=n(47),r=n(38),l=n(2),c=(n(98),n(33),n(50),n(10),n(66),n(68),n(546),n(205),n(56),n(51),n(28),n(54),n(43),n(9)),d=n(708),h=n(589),m=(n(590),n(591)),f=n.n(m);function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w={components:{Cropper:h.a,BSpinner:d.a},props:{internal:{type:String,required:!0},properties:{type:Object,default:function(){}},data:{type:Object,default:function(){}},bus:{type:c.default,required:!0}},data:function(){return y({value:null,preview:null,newValues:[],delete:!1,cropping:!1,dragging:!1,resizing:!1,onTouched:!0,valid:!0,cropperProps:{},cropperRequirements:null},this.setCropperLimits())},computed:{state:function(){return this.onTouched?null:this.valid}},created:function(){var e=this;this.bus.$on("setStatus",(function(t){e.onTouched=!1}))},beforeMount:function(){var e;null!==(e=this.data)&&void 0!==e&&e.value&&(this.value=this.data.value,this.preview=this.data.value.url?"".concat(this.data.value.url,"?").concat(Date.now()):null)},mounted:function(){var e=function(e){e.preventDefault()};window.addEventListener("dragover",e,!1),window.addEventListener("drop",e,!1),this.validate(),this.updateFormValues()},beforeDestroy:function(){var e=function(e){e.preventDefault()};window.removeEventListener("dragover",e,!1),window.removeEventListener("drop",e,!1)},methods:{checkMinimalRequirements:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o,r,l,c,d,h,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=["png","jpg","jpeg","avif","webp"],r=e.name.split(".").pop().toLowerCase(),o.includes(r)){n.next=4;break}throw new Error("dit bestandstype kan niet worden gebruikt");case 4:return l=function(e){return new Promise((function(t){var img=new Image;img.onload=function(){t({height:img.height,width:img.width})},img.src=e}))},c=URL.createObjectURL(e),d=t.cropperProps,n.next=9,l(c);case 9:if(h=n.sent,m=[],d.minHeight&&h.height<d.minHeight&&(m=m.concat(["hoogte"])),d.minWidth&&h.width<d.minWidth&&(m=m.concat(["breedte"])),!m.length){n.next=15;break}throw new Error("De afbeelding is te klein (".concat(m.join(" en "),")."));case 15:return n.abrupt("return",c);case 16:case"end":return n.stop()}}),n)})))()},ignoreClickOnTargetId:function(e,t){return e.target.id===t||e.target.parentElement.id===t||e.target.parentElement.parentElement.id===t},onCropperCloseClick:function(){var e=this,t=function(){var t,n=e.newValues[e.newValues.length-1];return n?n.url:null!==(t=e.value)&&void 0!==t&&t.url&&!e.delete?e.value.url:null};this.cropping=!1,this.$refs["file-input"].value=null,this.newValues=this.newValues.slice(0,-1),this.preview=t()?"".concat(t(),"?").concat(Date.now()):null},onEditsSave:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o,canvas,r,l,c,d,h,m,v;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.delete=!1,t.resizing=!0,o=t.$refs.cropper.getResult(),canvas=o.canvas,r=o.coordinates,l=t.newValues[t.newValues.length-1],c=[l.name,"_",t.internal,".png"].join(""),d="image/png",h=canvas,!(t.cropperProps.minWidth&&t.cropperProps.minHeight&&(r.width>2*t.cropperProps.minWidth||r.height>2*t.cropperProps.minHeight))){n.next=16;break}return m=new f.a,(v=document.createElement("canvas")).width=2*t.cropperProps.minWidth,v.height=2*t.cropperProps.minHeight,n.next=15,m.resize(canvas,v,{unsharpAmount:25,unsharpRadius:1,unsharpThreshold:1,quality:3});case 15:h=n.sent;case 16:t.resizing=!1,t.cropping=!1,t.preview=h.toDataURL(d),h.toBlob((function(e){var n=new File([e],c,{type:d});t.newValues=[{url:h.toDataURL(d),name:c,file:n}],t.validate(),t.updateFormValues()}));case 20:case"end":return n.stop()}}),n)})))()},onFileInputChange:function(e){var t=this,n=Object(o.a)(e.target.files,1)[0];this.cropping||this.properties.disabled||void 0===n||this.checkMinimalRequirements(n).then((function(e){t.newValues=t.newValues.concat([{url:e,name:n.name.replace(/\.[^/.]+$/,"")}]),t.preview=e,t.cropping=!0})).catch((function(e){t.$sbToast.error(e.message)})).finally((function(){e.target.value=""}))},onPreviewClick:function(e){var t;this.cropping||this.properties.disabled||this.ignoreClickOnTargetId(e,"reset")||null===(t=this.$refs["file-input"])||void 0===t||t.click()},onPreviewDeleteClick:function(){var e,t;this.preview.includes(null===(e=this.value)||void 0===e?void 0:e.url)?(this.preview=null,this.delete=!0):(this.newValues=[],this.$refs["file-input"].value=null,this.preview=null===(t=this.value)||void 0===t?void 0:t.url);this.validate(),this.updateFormValues()},onPreviewUndoDeleteClick:function(){this.newValues=[],this.preview="".concat(this.value.url,"?").concat(Date.now()),this.delete=!1,this.validate(),this.updateFormValues()},onPreviewDrop:function(e){var t=this,n=Object(o.a)(e.dataTransfer.files,1)[0];this.cropping||this.properties.disabled||void 0===n||this.checkMinimalRequirements(n).then((function(e){t.newValues=t.newValues.concat([{url:e,name:n.name.replace(/\.[^/.]+$/,"")}]),t.preview=e,t.dragging=!1,t.cropping=!0})).catch((function(e){t.$sbToast.error(e.message)}))},setCropperLimits:function(){var e,t={},n=[];if(!this.properties.sizes||!this.properties.sizes[0])return t;var o=parseInt(this.properties.sizes[0].width,10),r=parseInt(this.properties.sizes[0].height,10),l=null!==(e=this.properties.sizes[0].croptype)&&void 0!==e?e:"constrain",c=!!o&&0!==o,d=!!r&&0!==r;return c&&d&&(t.defaultSize={width:o,height:r}),"fitwithin"===l?(c&&(t.maxWidth=o,n=n.concat(["maximale breedte: ".concat(o,"px")])),d&&(t.maxHeight=r,n=n.concat(["maximale hoogte: ".concat(r,"px")]))):(c&&(t.minWidth=o,n=n.concat(["minimale breedte: ".concat(o,"px")])),d&&(t.minHeight=r,n=n.concat(["minimale hoogte: ".concat(r,"px")])),c&&d&&(t.stencilProps={aspectRatio:o/r})),{cropperProps:t,cropperRequirements:n.join(", ")}},setEditName:function(e){var t=this;e&&(this.newValues=this.newValues.map((function(n,o){return o===t.newValues.length-1?y(y({},n),{},{name:e}):n})))},toggleCropping:function(){this.cropping=!this.cropping},updateFormValues:function(){var e="".concat(this._uid).concat(this.internal,"_file"),t={files:this.newValues.length>0?[e]:[],delete:this.delete},n=this.newValues[0]&&this.newValues[0].file?{files:[{id:e,file:this.newValues[0].file}]}:{files:[]};this.$emit("updateValues",y({field:this.internal,valid:this.valid,value:t},n))},validate:function(){var e=this.value&&this.value.url&&!this.delete,t=this.newValues&&this.newValues[0]&&this.newValues[0].name&&this.newValues[0].file;this.properties.required?this.valid=!(!e&&!t):this.valid=!0}}},A=(n(592),n(63)),component=Object(A.a)(w,(function(){var e=this,t=e._self._c;return t("div",[t("CommonAutolayoutLabelWrapper",{attrs:{id:"input-group-".concat(e.internal),label:e.properties.title,"label-for":"input-".concat(e.internal),description:e.properties.description,required:e.properties.required,internal:e.internal}},[e.valid||e.onTouched?e._e():t("div",{staticClass:"input-feedback",attrs:{id:"input-".concat(e.internal,"-feedback")}},[e._v("\n      "+e._s(e.$t("common.required"))+"\n    ")]),e._v(" "),t("div",{on:{dragover:function(e){e.preventDefault()},drop:function(e){e.preventDefault()}}},[t("div",{class:["preview-container",e.preview?"":"empty",e.dragging?"droppable":"",e.properties.disabled?"disabled":"",e.valid||e.onTouched?"":"is-invalid",e.valid&&!e.onTouched?"is-valid":""],attrs:{tabindex:e.properties.disabled?-1:0},on:{dragover:function(t){e.dragging=!0},dragleave:function(t){e.dragging=!1},drop:e.onPreviewDrop,click:e.onPreviewClick,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onPreviewClick.apply(null,arguments)}}},[t("div",{staticClass:"preview-buttons"},[e.preview?t("b-button",{attrs:{id:"reset",type:"button",variant:"primary"},on:{click:e.onPreviewDeleteClick}},[t("Icon",{attrs:{icon:e.preview.includes(this.value.url)?"trash":"undo"}})],1):e._e(),e._v(" "),!e.preview&&this.value.url?t("b-button",{attrs:{id:"reset",type:"button",variant:"primary"},on:{click:e.onPreviewUndoDeleteClick}},[t("Icon",{attrs:{icon:"undo"}})],1):e._e()],1),e._v(" "),t("div",{staticClass:"preview-flex-container"},[e.preview?t("img",{staticClass:"preview-image",attrs:{src:e.preview}}):e.properties.disabled?t("div",[e._v("\n            "+e._s(e.$t("forms.field.disabled"))+"\n          ")]):t("div",[t("Icon",{attrs:{icon:"file-image"}}),e._v(" "),t("p",{staticClass:"mb-0"},[e._v(e._s(e.$t("forms.field.imageAdd")))])],1),e._v(" "),e.cropperRequirements?t("div",{staticClass:"image-field-requirements"},[e._v("\n            "+e._s(e.cropperRequirements)+"\n          ")]):e._e()])]),e._v(" "),t("input",{ref:"file-input",attrs:{hidden:"",id:"input-".concat(e.internal),state:e.state,disabled:e.properties.disabled,accept:"image/png, image/jpeg, image/svg+xml, image/avif, image/webp",type:"file"},on:{change:e.onFileInputChange}})])]),e._v(" "),e.cropping&&e.newValues.length?t("div",{staticClass:"cropper-modal"},[t("b-button",{staticClass:"cropper-modal-close",attrs:{type:"button",variant:"dark"},on:{click:e.onCropperCloseClick}},[t("Icon",{attrs:{icon:"xmark"}})],1),e._v(" "),t("cropper",e._b({ref:"cropper",staticClass:"cropper",attrs:{src:e.preview}},"cropper",e.cropperProps,!1)),e._v(" "),t("div",{staticClass:"mt-2 image-info"},[t("b-button",{attrs:{type:"button",variant:"primary",disabled:e.resizing},on:{click:e.onEditsSave}},[e.resizing?t("b-spinner",{staticClass:"spinner",attrs:{small:""}}):e._e(),e._v("\n        "+e._s(e.$t("forms.crop"))+"\n      ")],1)],1)],1):e._e()],1)}),[],!1,null,"663e83d9",null);t.default=component.exports;installComponents(component,{CommonAutolayoutLabelWrapper:n(541).default})},function(e,t,n){"use strict";n.r(t);n(16),n(80),n(28),n(54),n(593);var o=n(9),r={props:{internal:{type:String,required:!0},properties:{type:Object,default:function(){}},data:{type:Object,default:function(){}},bus:{type:o.default,required:!0}},data:function(){return{value:null,onTouched:!0,valid:!0}},computed:{state:function(){return this.onTouched?null:this.valid}},watch:{value:function(e,t){var n=this;null!==t&&(this.onTouched=!1),this.checkValid(e),e=e.trimLeft().toLowerCase().replace(/[^a-z0-9]/gi," ").replace(/[ ]{2,100}/gi," ").replace(/ /gi,"-"),this.$nextTick((function(){n.value=e})),this.$emit("updateValues",{field:this.internal,valid:this.valid,value:e})}},beforeMount:function(){this.data&&(this.value=this.data.value)},created:function(){var e=this;this.bus.$on("setStatus",(function(t){e.onTouched=!1}))},mounted:function(){this.$emit("updateValues",{field:this.internal,valid:this.valid,value:this.value})},methods:{preventInvalidChars:function(e){/[^a-z0-9 _-]{1}/i.test(e.key)&&e.preventDefault()},checkValid:function(e){this.properties.required?this.valid=""!==e&&null!=e:this.valid=!0}}},l=n(63),component=Object(l.a)(r,(function(){var e,t=this,n=t._self._c;return n("CommonAutolayoutLabelWrapper",{attrs:{label:t.properties.title,description:null!==(e=t.properties.description)&&void 0!==e?e:t.$t("common.slugDescription"),required:t.properties.required,internal:t.internal}},[t.valid||t.onTouched?t._e():n("div",{staticClass:"input-feedback",attrs:{id:"input-".concat(t.internal,"-feedback")}},[t._v("\n    "+t._s(t.$t("common.required"))+"\n  ")]),t._v(" "),n("b-input",{attrs:{id:"input-".concat(t.internal),type:"text",state:t.state,maxlength:t.properties.maxlength,disabled:t.properties.disabled,autocomplete:t.properties.autocomplete},on:{keypress:function(e){return t.preventInvalidChars(e)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CommonAutolayoutLabelWrapper:n(541).default})},function(e,t,n){"use strict";n.r(t);n(16),n(80),n(50);var o=n(38),r=(n(33),n(98),n(9)),l={components:{},props:{internal:{type:String,required:!0},properties:{type:Object,default:function(){}},data:{type:Object,default:function(){}},bus:{type:r.default,required:!0}},data:function(){return{value:"",file:null,onTouched:!0,deleted:!1,valid:!this.properties.required,showOldValue:!1}},computed:{state:function(){return this.onTouched?null:this.valid}},watch:{file:function(){this.onTouched=!1,this.deleted=!1,this.setShowOldValue(),this.checkValid(),this.updateValues()}},beforeMount:function(){this.data&&(this.value=this.data.value)},created:function(){var e=this;this.bus.$on("setStatus",(function(t){e.onTouched=!1}))},mounted:function(){this.checkValid(),this.updateValues(),this.setShowOldValue()},methods:{copy:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.writeText(e.properties.downloadUrl);case 3:alert("Copied"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert("Cannot copy");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},setShowOldValue:function(){var e;null!==(e=this.value)&&void 0!==e&&e.name&&!this.file?this.showOldValue=!0:this.showOldValue=!1},updateValues:function(){var e="".concat(this._uid).concat(this.internal,"_file"),t={files:this.file?[e]:[],delete:this.deleted};this.$emit("updateValues",{field:this.internal,valid:this.valid,value:t,files:null==this.file?[]:[{id:e,file:this.file}]})},deleteFile:function(){this.deleted=!this.deleted,this.checkValid(),this.updateValues()},removeNewFile:function(){this.file=null,this.setShowOldValue(),this.checkValid(),this.updateValues()},checkValid:function(){var e,t;this.properties.required&&!this.file&&(null===(e=this.value)||void 0===e||!e.name||null!==(t=this.value)&&void 0!==t&&t.name&&this.deleted)?this.valid=!1:this.valid=!0}}},c=(n(595),n(63)),component=Object(c.a)(l,(function(){var e=this,t=e._self._c;return t("CommonAutolayoutLabelWrapper",{attrs:{label:e.properties.title,description:e.properties.description,required:e.properties.required,internal:e.internal}},[e.valid||e.onTouched?e._e():t("div",{staticClass:"input-feedback",attrs:{id:"input-".concat(e.internal,"-feedback")}},[e._v("\n    "+e._s(e.$t("common.required"))+"\n  ")]),e._v(" "),e.showOldValue?t("p",{class:{filename:!0,deleted:e.deleted}},[t("em",[e._v(" "+e._s(e.value.name))]),e._v(" "),e.value.size?t("span",[e._v(e._s(e.value.size))]):e._e(),e._v(" "),void 0!==e.properties.downloadUrl&&""!==e.properties.downloadUrl?t("span",[t("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(t){return t.preventDefault(),e.copy.apply(null,arguments)}}},[e._v("\n        "+e._s(e.properties.downloadUrl)+" "),t("Icon",{attrs:{icon:"copy"}})],1)],1):e._e(),e._v(" "),t("button",{staticClass:"btn btn-sm btn-primary px-2",on:{click:function(t){return t.preventDefault(),e.deleteFile.apply(null,arguments)}}},[e.deleted?t("Icon",{attrs:{icon:"undo"}}):t("Icon",{attrs:{icon:"trash"}})],1)]):e._e(),e._v(" "),t("b-input-group",[t("b-form-file",{attrs:{state:e.state,placeholder:"Kies een bestand","drop-placeholder":"Sleep hier een bestand..."},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),e._v(" "),e.file?t("b-input-group-append",[t("b-button",{attrs:{variant:"danger"},on:{click:function(t){return t.preventDefault(),e.removeNewFile.apply(null,arguments)}}},[t("Icon",{attrs:{icon:"trash"}})],1)],1):e._e()],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CommonAutolayoutLabelWrapper:n(541).default})},function(e,t,n){"use strict";n.r(t);n(16),n(80);var o=n(9),r={props:{internal:{type:String,required:!0},properties:{type:Object,default:function(){}},data:{type:Object,default:function(){}},bus:{type:o.default,required:!0}},data:function(){return{value:null,onTouched:!0,valid:!0,sliderOptions:{dotOptions:[{style:{backgroundColor:"#472b5c",border:"1px solid #402753",boxShadow:"0.5px 0.5px 2px 1px rgba(107,107,107,.36)"},tooltipStyle:{backgroundColor:"#402753",borderColor:"#402753"}}]}}},computed:{state:function(){return this.onTouched?null:this.valid}},watch:{value:function(e,t){null!==t&&(this.onTouched=!1),this.checkValid(e),this.$emit("updateValues",{field:this.internal,valid:this.valid,value:e})}},beforeMount:function(){this.data&&(this.value=this.data.value),this.value||(this.value=this.properties.defaultValue)},created:function(){var e=this;this.bus.$on("setStatus",(function(t){e.onTouched=!1}))},mounted:function(){this.$emit("updateValues",{field:this.internal,valid:this.valid,value:this.value})},methods:{checkValid:function(e){this.properties.required?this.valid=""!==e&&null!=e:this.valid=!0}}},l=(n(597),n(63)),component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("CommonAutolayoutLabelWrapper",{attrs:{label:e.properties.title,description:e.properties.description,required:e.properties.required,internal:e.internal}},[e.valid||e.onTouched?e._e():t("div",{staticClass:"input-feedback",attrs:{id:"input-".concat(e.internal,"-feedback")}},[e._v("\n    "+e._s(e.$t("common.required"))+"\n  ")]),e._v(" "),t("strong",[e._v(e._s(e.value))]),e._v(" "),e.properties.maxValue&&e.properties.minValue?t("b-form-input",{attrs:{id:"input-".concat(e.internal),state:e.state,maxlength:e.properties.maxlength,disabled:e.properties.disabled,autocomplete:e.properties.autocomplete,trim:!0,type:"range",max:e.properties.maxValue,min:e.properties.minValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):t("b-form-input",{attrs:{id:"input-".concat(e.internal),state:e.state,maxlength:e.properties.maxlength,disabled:e.properties.disabled,autocomplete:e.properties.autocomplete,trim:!0,type:"number"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)}),[],!1,null,"3bcbb264",null);t.default=component.exports;installComponents(component,{CommonAutolayoutLabelWrapper:n(541).default})},function(e,t,n){"use strict";n.r(t);var o=n(9),r={props:{internal:{type:String,required:!0},properties:{type:Object,default:function(){}},data:{type:Object,default:function(){}},bus:{type:o.default,required:!0}},data:function(){return{value:null,onTouched:!0,valid:!0}}},l=(n(598),n(63)),component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"little-problem"},[t("h3",[e._v(e._s(e.internal))]),e._v("\n  Input "),t("em",[e._v(e._s(e.properties.type))]),e._v(" not implemented\n  "),t("p",[t("em",[e._v(" Value")]),e._v(": "+e._s(e.value))]),e._v(" "),t("pre",{staticClass:"well"},[e._v("  "+e._s(e.properties)+"\n")])])}),[],!1,null,null,null);t.default=component.exports},function(e,t,n){"use strict";n.r(t);n(16),n(80),n(28);var o=n(9),r={props:{internal:{type:String,required:!0},properties:{type:Object,default:function(){}},data:{type:Object,default:function(){}},bus:{type:o.default,required:!0}},data:function(){return{value:null,onTouched:!0,valid:!0}},computed:{state:function(){return this.onTouched?null:this.valid}},watch:{value:function(e,t){null!==t&&(this.onTouched=!1),this.checkValid(e),this.$emit("updateValues",{field:this.internal,valid:this.valid,value:e})}},beforeMount:function(){this.data&&(this.value=this.data.value)},created:function(){var e=this;this.bus.$on("setStatus",(function(t){e.onTouched=!1}))},mounted:function(){this.$emit("updateValues",{field:this.internal,valid:this.valid,value:this.value})},methods:{preventInvalidChars:function(e){/\D/i.test(e.key)&&e.preventDefault()},checkValid:function(e){this.properties.required?this.valid=""!==e&&null!=e:this.valid=!0}}},l=n(63),component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("CommonAutolayoutLabelWrapper",{attrs:{label:e.properties.title,description:e.properties.description,required:e.properties.required,internal:e.internal}},[e.valid||e.onTouched?e._e():t("div",{staticClass:"input-feedback",attrs:{id:"input-".concat(e.internal,"-feedback")}},[e._v("\n    "+e._s(e.$t("common.required"))+"\n  ")]),e._v(" "),t("b-input",{attrs:{id:"input-".concat(e.internal),type:"number",state:e.state,maxlength:e.properties.maxlength,disabled:e.properties.disabled,autocomplete:e.properties.autocomplete},on:{focus:function(e){return e.target.select()},keypress:function(t){return e.preventInvalidChars(t)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CommonAutolayoutLabelWrapper:n(541).default})},function(e,t,n){"use strict";n.r(t);var o={props:{properties:{type:Object,default:function(){}}}},r=(n(599),n(63)),component=Object(r.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-12 c-a"},[4==e.properties.size?t("div",{class:{"mb-3":!0,underline:1==e.properties.underline}},[t("h4",{staticClass:"header"},[e._v("\n      "+e._s(e.properties.text)+"\n    ")])]):t("h2",{staticClass:"header"},[e._v("\n    "+e._s(e.properties.text)+"\n  ")])])}),[],!1,null,"44a29fe0",null);t.default=component.exports},function(e,t,n){"use strict";n.r(t);var o={props:{properties:{type:Object,default:function(){}}}},r=n(63),component=Object(r.a)(o,(function(){var e=this;return(0,e._self._c)("div",{staticClass:"col-12",domProps:{innerHTML:e._s(e.properties.text)}})}),[],!1,null,null,null);t.default=component.exports},function(e,t,n){"use strict";n.r(t);var o=n(708),r=n(9),l={components:{BSpinner:o.a},props:{items:{type:Array,default:function(){return[]}},properties:{type:Object,default:function(){}},bus:{type:r.default,required:!0}},data:function(){return{sending:!1,currentTitle:""}},mounted:function(){this.currentTitle=this.properties.title},methods:{setType:function(e,t){this.currentTitle=t,this.$emit("setFormOption","send",e)}},created:function(){var e=this;this.bus.$on("setStatus",(function(t){e.sending=!t.active}))}},c=(n(600),n(63)),component=Object(c.a)(l,(function(){var e=this,t=e._self._c;return t("div",{class:{"col-12 pb-3 pt-3 c-a":!0,"submit-button":e.properties.sticky}},[e.properties.alternatives?t("b-button-group",[t("b-button",{staticClass:"animateSize",attrs:{type:"submit",variant:"primary",disabled:e.sending}},[e.sending?t("b-spinner",{staticClass:"spinner",attrs:{small:""}}):e._e(),e._v(e._s(e.currentTitle)+"\n    ")],1),e._v(" "),t("b-dropdown",{attrs:{right:"",variant:"primary"}},[t("b-dropdown-item",{on:{click:function(t){return e.setType("default",e.properties.title)}}},[e._v(e._s(e.properties.title))]),e._v(" "),e._l(e.properties.alternatives,(function(n,o){return t("b-dropdown-item",{key:o,on:{click:function(t){return e.setType(o,n)}}},[e._v(e._s(n))])}))],2)],1):t("b-button",{staticClass:"animateSize",attrs:{type:"submit",variant:"primary",disabled:e.sending}},[e.sending?t("b-spinner",{staticClass:"spinner",attrs:{small:""}}):e._e(),e._v(e._s(e.properties.title)+"\n  ")],1)],1)}),[],!1,null,"36a02ebe",null);t.default=component.exports},function(e,t,n){"use strict";n.r(t);n(403),n(174),n(50),n(17),n(16),n(13),n(18),n(14),n(19);var o=n(2),r=n(57),l=(n(28),n(146),n(43),n(54),n(10),n(66),n(68),n(546),n(205),n(33),n(542)),c=n.n(l),d=n(553),h=n(554);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={components:{draggable:c.a,ContextMenu:d.default,ContextMenuItem:h.default},props:{properties:{type:Object,default:function(){}}},data:function(){return{search:"",disableDraggable:!1,currentPage:1,numberOfRecordsPerPage:25,numberOfRecordsOptions:[],currentSorting:{internal:"",ascending:!0}}},mounted:function(){var e,t,n,o,r=this.$route.query;this.numberOfRecordsPerPage=null!==(e=r.pitems)&&void 0!==e?e:this.numberOfRecordsPerPage,this.currentPage=null!==(t=r.page)&&void 0!==t?t:this.currentPage,this.search=null!==(n=r.search)&&void 0!==n?n:this.search,this.currentSorting.internal=null!==(o=r.sort)&&void 0!==o?o:this.currentSorting.internal,r.asc&&(this.currentSorting.ascending="true"===r.asc),this.properties.totalItems>this.numberOfRecordsPerPage&&this.numberOfRecordsOptions.push(this.numberOfRecordsPerPage),this.properties.totalItems>2*this.numberOfRecordsPerPage&&this.numberOfRecordsOptions.push(2*this.numberOfRecordsPerPage),this.properties.totalItems>10*this.numberOfRecordsPerPage&&this.numberOfRecordsOptions.push(10*this.numberOfRecordsPerPage)},computed:{pagingOptions:function(){return this.numberOfRecordsOptions.map((function(option){return{text:option,value:option}}))},headers:function(){var e=[];return this.properties.sort&&e.push({key:"index",title:""}),this.properties.edit&&e.push({key:"edit",title:""}),e.push.apply(e,Object(r.a)(this.properties.headers)),this.properties.delete&&e.push({key:"remove",title:""}),e},getUrlWithoutLocale:function(){return this.$route.path.replace("/".concat(this.$i18n.locale,"/"),"/")},editIcon:function(){var e,t;return null!==(e=null===(t=this.properties)||void 0===t?void 0:t.editIcon)&&void 0!==e?e:"edit"}},watch:{},methods:{setSearchQuery:function(){this.$router.push({query:f(f({},this.$route.query),{},{search:this.search})})},sortByColumn:function(e){var t;null!==(t=e.properties)&&void 0!==t&&t.sortable&&(this.currentSorting.internal===e.internal?this.currentSorting.ascending=!this.currentSorting.ascending:(this.currentSorting.internal=e.internal,this.currentSorting.ascending=!0),this.$router.push({query:f(f({},this.$route.query),{},{sort:e.internal,asc:this.currentSorting.ascending})}))},currentSortByColumn:function(e){var t;return null!==(t=e.properties)&&void 0!==t&&t.sortable?this.currentSorting.internal===e.internal?this.currentSorting.ascending?"ascending":"descending":"none":null},clearSearch:function(){this.search="",this.setSearchQuery()},editRow:function(link){this.properties.edit&&this.$router.push(this.localePath(link))},actionColumnClick:function(e){var t=this;e.properties.toggleEndPoint&&this.$axios({url:e.properties.toggleEndPoint,method:"POST"}).then((function(n){n.data.error?t.$sbToast.error(n.data.error):(n.data.message&&t.$sbToast.success(n.data.message),e.value=n.data.value)})).catch((function(e){t.$sbToast.error("Error loading")}))},downloadDocument:function(e){var t=this;this.$axios({url:e.action,method:"GET"}).then((function(e){if(e.data.message)t.$sbToast.error(e.data.message);else{var n=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=n,o.setAttribute("download","report.csv"),document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(o)}})).catch((function(e){t.$sbToast.error("Error loading")}))},onChange:function(e){var t,n=this;this.disableDraggable=!0;var o=e.moved.element.id;if(e.moved.newIndex!==e.moved.oldIndex){var r;r=e.moved.newIndex<e.moved.oldIndex?this.properties.rows[e.moved.newIndex+1].id:this.properties.rows[e.moved.newIndex-1].id;var l=this.getUrlWithoutLocale,c=null!==(t=this.properties.moveEndpoint)&&void 0!==t?t:"".concat(l.replace(/\/$/,""),"/move/");this.$axios.put(c,{recordId:o,replacedRecordId:r}).then((function(){n.$nuxt.refresh()})).catch((function(e){n.$sbToast.error(e.response.data.message)})).finally((function(){n.disableDraggable=!1}))}else this.disableDraggable=!1},deleteRecord:function(e){var t=this,n=this.getUrlWithoutLocale,o=this.properties.deleteEndpoint?this.properties.deleteEndpoint+e:"".concat(n.replace(/\/$/,""),"/").concat(e,"/");this.$sbConfirm({message:this.$t("table.deleteConfirm"),callback:function(e){e&&t.$axios.delete(o).then((function(){t.$sbToast.success(t.$t("table.recordDeleted"))})).catch((function(e){t.$sbToast.error(e.response.data.message)})).finally((function(){t.$nuxt.refresh()}))}})}}},y=(n(601),n(63)),component=Object(y.a)(v,(function(){var e=this,t=e._self._c;return t("b-col",{ref:"container",attrs:{cols:"12 table-responsive mb-0"}},[t("ContextMenu",{ref:"menu",scopedSlots:e._u([{key:"default",fn:function(n){var o=n.contextData;return o?[o.columns?t("ContextMenuItem",{nativeOn:{click:function(t){return e.$refs.menu.close.apply(null,arguments)}}},[t("router-link",{attrs:{to:o.link}},[e._v("Bewerk "+e._s(o.columns[0].value))])],1):e._e()]:void 0}}],null,!0)}),e._v(" "),t("table",{staticClass:"table table-sm b-table"},[t("thead",[t("tr",e._l(e.headers,(function(n,o){return t("th",{key:o,attrs:{"aria-sort":e.currentSortByColumn(n)},on:{click:function(t){return e.sortByColumn(n)}}},[e._v("\n          "+e._s(n.title)+"\n        ")])})),0)]),e._v(" "),t("draggable",e._b({staticClass:"simple-body",attrs:{list:e.properties.rows,tag:"tbody",sort:!0,animation:"200",handle:".drag-anchor"},on:{change:e.onChange}},"draggable",{disabled:e.disableDraggable},!1),e._l(e.properties.rows,(function(n){return t("tr",{key:n.id,on:{dblclick:function(t){return e.editRow(n.link)},contextmenu:function(t){return t.preventDefault(),e.$refs.menu.open(t,n)}}},[e.properties.sort?t("td",{attrs:{width:"50"}},[t("div",{staticClass:"d-flex drag-anchor",class:{draggable:!e.disableDraggable}},[t("Icon",{attrs:{icon:"bars"}})],1)]):e._e(),e._v(" "),e.properties.edit?t("td",{staticClass:"column-type-checkbox"},[t("div",{staticClass:"d-flex",attrs:{"data-recordid":n.id,"data-index":1}},[t("NuxtLink",{staticClass:"td-title-link",attrs:{to:n.link}},[t("Icon",{attrs:{icon:e.editIcon}})],1)],1)]):e._e(),e._v(" "),e._l(n.columns,(function(n,o){var r,l,c;return t("td",{key:o,class:"column-type-".concat(n.type)},["checkbox"==n.type||"InputCheckbox"==n.type?t("div",{class:n.properties.toggleEndPoint?"column-toggle":"",on:{click:function(t){return e.actionColumnClick(n)}}},[1==n.value?t("Icon",{staticClass:"color-true",attrs:{icon:"check"}}):t("Icon",{staticClass:"color-false",attrs:{icon:"close"}})],1):"Image"==n.type?t("div",[t("img",{staticClass:"preview-overview-image",attrs:{src:n.value,alt:""}})]):"InputButton"==n.type?t("div",[n.properties.action?t("b-button",{attrs:{variant:"secondary",size:"sm"},on:{click:function(t){return e.downloadDocument(n.properties)}}},[e._v("\n              "+e._s(null!==(r=n.properties.name)&&void 0!==r?r:n.value)+"\n            ")]):0==n.properties.external?t("b-button",{attrs:{variant:"secondary",size:"sm",to:e.localePath(n.properties.link)}},[t("Icon",{attrs:{icon:"up-right-from-square"}}),e._v("\n              "+e._s(null!==(l=n.properties.name)&&void 0!==l?l:n.value)+"\n            ")],1):t("b-button",{attrs:{variant:"secondary",size:"sm",target:"_blank",href:n.properties.link}},[e._v(e._s(null!==(c=n.properties.name)&&void 0!==c?c:n.value)+"\n            ")])],1):t("div",{staticClass:"notSelectable"},[e._v("\n            "+e._s(n.value)+"\n          ")])])})),e._v(" "),e.properties.delete?t("td",[t("a",{staticClass:"d-flex justify-content-end align-items-center pr-2",attrs:{role:"button"},on:{click:function(t){return e.deleteRecord(n.id)}}},[t("Icon",{attrs:{icon:"trash"}})],1)]):e._e()],2)})),0)],1)],1)}),[],!1,null,"0b0c333b",null);t.default=component.exports;installComponents(component,{ContextMenuItem:n(554).default,ContextMenu:n(553).default})},function(e,t,n){"use strict";n.r(t);n(403);var o={props:{properties:{type:Object,default:function(){}}}},r=n(63),component=Object(r.a)(o,(function(){var e=this;return(0,e._self._c)("router-link",{staticClass:"btn btn-primary",attrs:{to:e.localePath(e.properties.link)}},[e._v("\n  "+e._s(e.properties.title)+"\n")])}),[],!1,null,"5833ee67",null);t.default=component.exports},function(e,t,n){"use strict";n.r(t);n(403);var o={props:{properties:{type:Object,default:function(){}}}},r=n(63),component=Object(r.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-12 breadcrumbs-animation"},[t("b-breadcrumb",e._l(e.properties.items,(function(n,o){return t("b-breadcrumb-item",{key:o,attrs:{active:null==n.link,to:e.localePath(n.link)}},[e._v("\n      "+e._s(n.title)+"\n    ")])})),1)],1)}),[],!1,null,null,null);t.default=component.exports},function(e,t,n){"use strict";n.r(t);n(403),n(33);var o={props:{properties:{type:Object,default:function(){}}},methods:{runAction:function(){if("addNew"===this.properties.action)this.actionNew();else alert("Action unknown ".concat(this.properties.action))},actionNew:function(){var e=this,t=this.$route.params.slug;this.$axios.post("/table/".concat(t,"/")).then((function(n){e.$router.push(e.localePath("/table/".concat(t,"/").concat(n.data.id,"/")))})).catch((function(t){e.$sbToast.error("Er ging iets mis. Probeer het opnieuw.")}))}}},r=n(63),component=Object(r.a)(o,(function(){var e=this,t=e._self._c;return e.properties.action?t("b-button",{staticClass:"mx-3",attrs:{size:"sm"},on:{click:function(t){return e.runAction()}}},[e.properties.icon?t("Icon",{attrs:{icon:e.properties.icon}}):t("span",[e._v(" "+e._s(e.properties.text))])],1):t("b-button",{staticClass:"mx-3",attrs:{to:e.localePath(e.properties.link),size:"sm"}},[e.properties.icon?t("Icon",{attrs:{icon:e.properties.icon}}):t("span",[e._v(" "+e._s(e.properties.text))])],1)}),[],!1,null,null,null);t.default=component.exports},function(e,t,n){"use strict";n.r(t);n(17),n(16),n(13),n(10),n(18),n(14),n(19);var o=n(2);function r(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?r(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):r(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var c={components:{},props:{properties:{type:Object,default:function(){}}},data:function(){return{currentPage:1}},methods:{changePage:function(e){this.$router.push({query:l(l({},this.$route.query),{},{page:e})})}},mounted:function(){var e,t,n=this.$route.query;this.itemsPerPage=null!==(e=n.pitems)&&void 0!==e?e:this.itemsPerPage,this.currentPage=null!==(t=n.page)&&void 0!==t?t:this.currentPage}},d=n(63),component=Object(d.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"col"},[e.properties.totalItems>e.properties.itemsPerPage?t("b-pagination",{staticClass:"mb-0 col",attrs:{size:"sm","total-rows":e.properties.totalItems,"per-page":e.properties.itemsPerPage,"first-number":"","last-number":""},on:{change:e.changePage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}):e._e()],1)}),[],!1,null,null,null);t.default=component.exports},function(e,t,n){"use strict";n.r(t);n(28),n(146);var o=n(2);n(17),n(16),n(13),n(10),n(18),n(14),n(19);function r(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?r(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):r(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var c={data:function(){return{search:""}},mounted:function(){var e,t=this.$route.query;this.search=null!==(e=t.search)&&void 0!==e?e:""},methods:{clearSearch:function(){this.search="",this.setSearchQuery()},setSearchQuery:function(){this.$router.push({query:l(l({},this.$route.query),{},{search:this.search,page:1})})}},props:{properties:{type:Object,default:function(){}}}},d=(n(602),n(63)),component=Object(d.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"col search-box"},[t("div",{staticClass:"table-search"},[t("b-form",{on:{submit:function(t){return t.preventDefault(),e.setSearchQuery.apply(null,arguments)}}},[t("b-form-input",{attrs:{placeholder:e.properties.placeholder,type:"search",size:"sm",autofocus:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),t("div",{staticClass:"buttons"},[""!==e.search?t("button",{staticClass:"clear",attrs:{type:"reset"},on:{click:function(t){return e.clearSearch()}}},[t("Icon",{attrs:{icon:"times"}})],1):e._e(),e._v(" "),t("button",{staticClass:"search",attrs:{type:"submit",size:"sm"}},[t("Icon",{attrs:{icon:"magnifying-glass"}})],1)])],1)],1)])}),[],!1,null,"69b71bc6",null);t.default=component.exports},function(e,t,n){"use strict";n.r(t);n(28),n(146);var o={data:function(){return{numberOfRecordsPerPage:10,search:"",numberOfRecordsOptions:[10,25,50,100]}},components:{BFormSelect:n(231).a},props:{properties:{type:Object,default:function(){}}}},r=n(63),component=Object(r.a)(o,(function(){var e=this,t=e._self._c;return t("b-col",{staticClass:"px-3 py-2 backgrond-gray",attrs:{cols:"12"}},[t("b-row",[t("b-col",{attrs:{cols:"6"}},[e.numberOfRecordsOptions.length>0?t("div",[e._v("\n        "+e._s(e.$t("table.records"))+"\n        "),t("b-form-select",{staticClass:"ml-1",staticStyle:{width:"110px"},attrs:{options:e.pagingOptions},model:{value:e.numberOfRecordsPerPage,callback:function(t){e.numberOfRecordsPerPage=t},expression:"numberOfRecordsPerPage"}}),e._v(" "),e.properties.create?t("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-2 mr-2",attrs:{variant:"primary",title:"Nieuw"},on:{click:e.newRecord}},[e._v("\n          "+e._s(e.$t("table.new"))+"\n        ")]):e._e()],1):e._e()]),e._v(" "),t("b-col",{attrs:{cols:"6"}},[t("div",{staticClass:"table-search"},[t("b-form-input",{attrs:{type:"search",size:"sm"},on:{change:e.setSearchQuery},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),t("div",{staticClass:"buttons"},[""!==e.search?t("button",{staticClass:"clear",on:{click:function(t){return e.clearSearch()}}},[t("Icon",{attrs:{icon:"times"}})],1):e._e(),e._v(" "),t("button",{staticClass:"search",attrs:{size:"sm"}},[t("Icon",{attrs:{icon:"magnifying-glass"}})],1)])],1)])],1)],1)}),[],!1,null,null,null);t.default=component.exports},function(e,t,n){"use strict";n.r(t);n(403);var o={props:{properties:{type:Object,default:function(){}}}},r=n(63),component=Object(r.a)(o,(function(){var e=this;return(0,e._self._c)("b-nav-item",{attrs:{to:e.localePath(e.properties.link)}},[e._v("\n  "+e._s(e.properties.title)+"\n")])}),[],!1,null,null,null);t.default=component.exports},function(e,t,n){"use strict";n.r(t);var o={components:{BAlert:n(707).a},props:{properties:{type:Object,default:function(){}}}},r=n(63),component=Object(r.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-12"},[t("b-alert",{attrs:{show:"",variant:e.properties.type}},[t("strong",[e._v(e._s(e.properties.intro))]),e._v(" "+e._s(e.properties.text)+"\n  ")])],1)}),[],!1,null,null,null);t.default=component.exports},function(e,t,n){"use strict";n.r(t);n(28),n(54);var o={props:{properties:{type:Object,default:function(){}}},computed:{productName:function(){return this.$store.state.settings.productName},version:function(){return this.$store.state.version.replace(/"/g,"")}}},r=n(63),component=Object(r.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-12"},["version"==e.properties.feature?t("div",[e._v("\n    "+e._s(e.productName)+" client "+e._s(e.version)+" (based on SiteBossÂ®)\n  ")]):e._e(),e._v(" "),t("div",[e._v(e._s(e.properties.text))])])}),[],!1,null,null,null);t.default=component.exports},function(e,t,n){"use strict";n.r(t);var o=n(9),r={props:{internal:{type:String,required:!0},properties:{type:Object,default:function(){}},data:{type:Object,default:function(){}},bus:{type:o.default,required:!0}},data:function(){return{value:null,onTouched:!0,valid:!0}},computed:{},beforeMount:function(){this.data&&(this.value=this.data.value)},mounted:function(){this.$emit("updateValues",{field:this.internal,valid:!0,value:this.value})}},l=(n(596),n(63)),component=Object(l.a)(r,undefined,undefined,!1,null,"dd31c1d4",null);t.default=component.exports},function(e,t,n){"use strict";n.r(t);var o=n(63),component=Object(o.a)({},(function(){return(0,this._self._c)("div",{staticClass:"border-top pt-3 m-3"})}),[],!1,null,null,null);t.default=component.exports},function(e,t,n){n(673)},function(e,t,n){n(674)},function(e,t,n){n(675)},function(e,t,n){n(676)},function(e,t,n){n(677)},function(e,t,n){n(678)},function(e,t,n){n(679)},function(e,t,n){n(680)},function(e,t,n){n(681)},function(e,t,n){n(682)},function(e,t,n){n(683)},function(e,t,n){n(684)},function(e,t,n){n(685)},function(e,t,n){n(686)},function(e,t,n){n(687)},function(e,t,n){n(688)},function(e,t,n){n(689)},function(e,t,n){n(690)},function(e,t,n){n(691)},function(e,t,n){n(692)},function(e,t,n){n(693)},function(e,t,n){n(694)},function(e,t,n){n(695)},function(e,t,n){n(696)},function(e,t,n){n(697)},function(e,t,n){n(698)},function(e,t,n){n(699)},function(e,t,n){"use strict";n(569)},function(e,t,n){"use strict";n(570)},function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return A}));var o=n(4),r=n(3),l=n(1),c=n(32),d=n(6),h=n(39),m=n(23),f=n(0),v=n(22),y=n(26),w=Object(f.d)({animated:Object(f.c)(l.g,null),label:Object(f.c)(l.t),labelHtml:Object(f.c)(l.t),max:Object(f.c)(l.o,null),precision:Object(f.c)(l.o,null),showProgress:Object(f.c)(l.g,null),showValue:Object(f.c)(l.g,null),striped:Object(f.c)(l.g,null),value:Object(f.c)(l.o,0),variant:Object(f.c)(l.t)},r.Cb),A=Object(o.c)({name:r.Cb,mixins:[y.a],inject:{getBvProgress:{default:function(){return function(){return{}}}}},props:w,computed:{bvProgress:function(){return this.getBvProgress()},progressBarClasses:function(){var e=this.computedAnimated,t=this.computedVariant;return[t?"bg-".concat(t):"",this.computedStriped||e?"progress-bar-striped":"",e?"progress-bar-animated":""]},progressBarStyles:function(){return{width:this.computedValue/this.computedMax*100+"%"}},computedValue:function(){return Object(m.b)(this.value,0)},computedMax:function(){var e=Object(m.b)(this.max)||Object(m.b)(this.bvProgress.max,0);return e>0?e:100},computedPrecision:function(){return Object(h.c)(Object(m.c)(this.precision,Object(m.c)(this.bvProgress.precision,0)),0)},computedProgress:function(){var e=this.computedPrecision,p=Object(h.e)(10,e);return Object(m.a)(100*p*this.computedValue/this.computedMax/p,e)},computedVariant:function(){return this.variant||this.bvProgress.variant},computedStriped:function(){return Object(d.b)(this.striped)?this.striped:this.bvProgress.striped||!1},computedAnimated:function(){return Object(d.b)(this.animated)?this.animated:this.bvProgress.animated||!1},computedShowProgress:function(){return Object(d.b)(this.showProgress)?this.showProgress:this.bvProgress.showProgress||!1},computedShowValue:function(){return Object(d.b)(this.showValue)?this.showValue:this.bvProgress.showValue||!1}},render:function(e){var t,label=this.label,n=this.labelHtml,o=this.computedValue,r=this.computedPrecision,l={};return this.hasNormalizedSlot()?t=this.normalizeSlot():label||n?l=Object(c.a)(n,label):this.computedShowProgress?t=this.computedProgress:this.computedShowValue&&(t=Object(m.a)(o,r)),e("div",{staticClass:"progress-bar",class:this.progressBarClasses,style:this.progressBarStyles,attrs:{role:"progressbar","aria-valuemin":"0","aria-valuemax":Object(v.g)(this.computedMax),"aria-valuenow":Object(m.a)(o,r)},domProps:l},t)}})},function(e,t,n){"use strict";n(571)},function(e,t,n){"use strict";n(572)},function(e,t,n){"use strict";n(573)},function(e,t,n){"use strict";n.r(t);var o=n(38),r=n(47),l=(n(98),n(10),n(66),n(68),n(28),n(54),n(546),n(205),n(14),n(175),n(33),n(403),n(707)),progress=n(712),c=n(708),d=n(9),h={components:{BAlert:l.a,BProgress:progress.a,BSpinner:c.a,AutoLayout:function(){return Promise.all([n.e(1),n.e(2),n.e(3),n.e(6),n.e(129)]).then(n.bind(null,700))}},props:{items:{type:Array,default:function(){return[]}},properties:{type:Object,default:function(){}}},data:function(){return{fields:{},bus:new d.default,error:!1,errorMessage:"",errorContext:"",fullError:!1,progress:0,errorTitle:"Error",validated:!1,options:{}}},methods:{setFullError:function(){this.fullError=!this.fullError},downloadFile:function(e){var t=this,n="report.csv";this.$axios({url:e,method:"GET"}).then((function(e){if(e.data.message)t.$sbToast.error(e.data.message);else{var o=e.headers["content-disposition"];if(o&&-1!==o.indexOf("attachment")){var r=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(o);null!=r&&r[1]&&(n=r[1].replace(/['"]/g,""))}var l=window.URL.createObjectURL(new Blob([e.data])),c=document.createElement("a");c.href=l,c.setAttribute("download",n),document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(c)}})).error((function(e){t.$sbToast.error("Download mislukt")})).catch((function(e){t.$sbToast.error("Er ging iets mis. Probeer het opnieuw.")}))},setFormOption:function(option,e){this.$set(this.options,option,e)},updateValues:function(e){var t=this;this.$set(this.fields,e.field,e),this.validated=!0,Object.entries(this.fields).forEach((function(e){!1!==e[1].valid&&0!==e[1].valid||(t.validated=!1)}))},submitHandler:function(e){if(!this.validated)return this.$sbToast.error(this.$t("autolayout.form_error")),this.bus.$emit("setStatus",{active:!0}),void this.$nextTick((function(){var e=document.getElementsByClassName("is-invalid");e&&e.length&&e[0].scrollIntoView({behavior:"smooth",block:"center"})}));this.error=!1,this.bus.$emit("setStatus",{active:!1});var t=[],data={};Object.entries(this.fields).forEach((function(e){var n=Object(r.a)(e,2),o=n[0],l=n[1];l.files&&(t=t.concat(l.files)),data[o]=l.value})),data.siteboss_formOptions=this.options,this.properties.onSubmit?this.properties.onSubmit(e,data,t):this.sendFormData(data,t)},sendFormData:function(data,e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=new FormData,r=e.length>0,o.append("payload",JSON.stringify(data)),e.forEach((function(e){o.append(e.id,e.file)})),n.next=6,t.$axios.post(t.properties.url,o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){t.progress=parseInt(Math.round(100*e.loaded/e.total),10),r&&t.$bvModal.show("progressModal")}}).then((function(e){"ok"===e.data.status?(void 0!==e.data.actions&&t.runActions(e.data.actions),void 0!==e.data.ui&&t.showUIElements(e.data.ui)):t.$sbToast.error(t.$t("autolayout.api_error"))})).catch((function(e){var n,o,r,l;t.error=!0,t.errorMessage=t.setErrorMessage(e),t.errorContext=null!==(n=null===(o=e.response)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.message)&&void 0!==n?n:"",t.$sbToast.error(null!==(l=t.errorMessage)&&void 0!==l?l:t.$t("autolayout.api_error"))})).finally((function(){t.bus.$emit("setStatus",{active:!0}),t.$bvModal.hide("progressModal")}));case 6:case"end":return n.stop()}}),n)})))()},setErrorMessage:function(e){var t;return e.response?"".concat(e.response.statusText," (").concat(e.response.status,")"):e.request?"".concat(e.request.statusText," (").concat(e.request.status,")"):null!==(t=e.message)&&void 0!==t?t:this.$t("error.fallback")},showUIElements:function(e){"Page"===e[0].type&&this.$nuxt.$emit("siteboss-load-ui",e[0])},runActions:function(e){var t=this;e.forEach((function(e){switch(e.type){case"Toast":"ok"===e.data.status?t.$sbToast.success(e.data.message):t.$sbToast.error(e.data.message);break;case"Modal":break;case"Redirect":t.$nuxt.$router.push(t.localePath({path:e.data.target}));break;case"Download":t.downloadFile(e.data.link);break;default:console.log("Unknown action",e)}}))}}},m=(n(662),n(63)),component=Object(m.a)(h,(function(){var e=this,t=e._self._c;return t("b-form",{staticClass:"w-100 c-2",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.submitHandler.apply(null,arguments)}}},[t("b-alert",{staticClass:"m-3 c-a sticky-error",attrs:{show:e.error,variant:"danger",dismissible:""}},[t("strong",[e._v(e._s(e.errorMessage))]),e._v(" "),t("div",{staticClass:"error-context",class:{full:e.fullError,short:e.errorContext.length<300},on:{click:function(t){!(e.errorContext.length<300)&&(e.fullError=!e.fullError)}}},[e._v("\n      "+e._s(e.errorContext)+"\n    ")])]),e._v(" "),t("AutoLayout",{attrs:{elements:e.items,bus:e.bus,toplevel:!1},on:{updateValues:e.updateValues,setFormOption:e.setFormOption}}),e._v(" "),t("b-modal",{attrs:{id:"progressModal",title:"Momentje...","hide-header-close":!0,"cancel-only":""},scopedSlots:e._u([{key:"modal-footer",fn:function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),[t("b-spinner")]}}])},[e._v(" "),t("b-progress",{attrs:{value:e.progress,max:100,animated:""}})],1),e._v(" "),t("b-modal",{attrs:{id:"modalPopover",title:e.errorTitle,"ok-only":""}},[t("p",[e._v("\n      "+e._s(e.errorMessage)+"\n    ")])])],1)}),[],!1,null,null,null);t.default=component.exports},function(e,t,n){"use strict";n.r(t);n(16),n(80),n(50);var o=n(47),r=(n(10),n(66),n(68),n(56),n(91),n(114),n(206),n(107),n(43),n(14),n(568),n(175),n(147),n(33),n(9)),l=n(542),c={components:{draggable:n.n(l).a,AutoLayout:function(){return Promise.all([n.e(0),n.e(2),n.e(3),n.e(6),n.e(128)]).then(n.bind(null,700))}},fetch:function(){var e,t,n,o,r=this,l=Array.isArray(null===(e=this.properties)||void 0===e?void 0:e.allowedBlocks)?null===(t=this.properties)||void 0===t||null===(n=t.allowedBlocks)||void 0===n?void 0:n.join(","):null===(o=this.properties)||void 0===o?void 0:o.allowedBlocks;this.$axios.get("/contentblocks/".concat(l)).then((function(e){r.availableBlocks=e.data}))},props:{internal:{type:String,required:!0},properties:{type:Object,default:function(){}},data:{type:Object,default:function(){}},bus:{type:r.default,required:!0}},data:function(){return{dragging:!1,availableBlocks:[],minimizedBlocks:[],blockTemplates:[],files:[]}},mounted:function(){var e;null!==(e=this.data)&&void 0!==e&&e.value&&(this.blockTemplates=this.data.value)},watch:{dragging:function(e){var t;e&&!0===this.properties.allowCollapse&&(null===(t=document.getElementById("active-drag-".concat(this.internal)))||void 0===t||t.scrollIntoView())}},methods:{toggleExpanded:function(e){this.minimizedBlocks.includes(e)?this.minimizedBlocks.splice(this.minimizedBlocks.indexOf(e),1):this.minimizedBlocks.push(e)},setDragging:function(e,t){this.dragging=t,!1!==t||e.item.classList.contains("collapsed-content-block")||setTimeout((function(){return e.item.scrollIntoView({behavior:"smooth",block:"center"})}),100)},isMinimized:function(e){return this.dragging&&!0===this.properties.allowCollapse||this.minimizedBlocks.includes(e)},toggleAllExpanded:function(e){var t=this;this.minimizedBlocks.includes(e)?this.minimizedBlocks=[]:this.minimizedBlocks=this.blockTemplates.map((function(e){return t.getUniqueBlockId(e)}))},reorder:function(e,t,n){this.$root.$emit("bv::hide::tooltip"),this.blockTemplates.splice(t,0,this.blockTemplates.splice(e,1)[0]),this.blockTemplates.forEach((function(e,t){e.order=t})),this.triggerUpdate(),this.minimizedBlocks.includes(n)||setTimeout((function(){return document.getElementById("block-".concat(n)).scrollIntoView({behavior:"smooth",block:"center"})}),100)},updateValues:function(e,t){var n=this;this.blockTemplates[t].values||(this.blockTemplates[t].values={}),this.$set(this.blockTemplates[t].values,e.field,e),void 0!==(null==e?void 0:e.files)&&e.files.length>0&&e.files.forEach((function(e){var t=n.files.findIndex((function(t){return t.id===e.id}));-1===t?n.files.push(e):n.files.splice(t,1,e)})),this.triggerUpdate()},triggerUpdate:function(){var e=!0,t=this.blockTemplates.map((function(t,n){var r,l={};return t.values&&Object.entries(t.values).forEach((function(n){var r=Object(o.a)(n,2),c=(r[0],r[1]);t.deleted&&(e=!0),c.valid||!0===t.deleted||(e=!1),l[c.field]=c.value})),{items:l,tableId:t.table_id,recordId:t.record_id,deleted:null!==(r=t.deleted)&&void 0!==r&&r,order:n+1}}));this.$emit("updateValues",{field:this.internal,valid:e,value:t,files:this.files})},getNewBlockItems:function(e){var t=this.availableBlocks.find((function(t){return t.name===e})),n=JSON.parse(JSON.stringify(t));n.table_id=t.id,n.record_id="new".concat(this.blockTemplates.length),this.blockTemplates.push(n)},getTableName:function(e){var table=this.availableBlocks.find((function(t){return t.id===parseInt(e,10)}));return null==table?void 0:table.name},remove:function(e){var t=!this.blockTemplates[e].deleted;this.$set(this.blockTemplates[e],"deleted",t),this.triggerUpdate()},getBlockName:function(e){var t,n,o,r=null===(t=null!==(n=e.values.name)&&void 0!==n?n:e.values.title)||void 0===t?void 0:t.value;return null!==(o=r.length>0?r:null)&&void 0!==o?o:"".concat(this.getTableName(e.table_id)," (").concat(e.record_id,")")},getUniqueBlockId:function(e){return"".concat(e.record_id,"_").concat(e.table_id)}}},d=(n(659),n(63)),component=Object(d.a)(c,(function(){var e=this,t=e._self._c;return t("CommonAutolayoutLabelWrapper",{staticClass:"c-a",attrs:{label:e.properties.title,description:e.properties.description,required:e.properties.required,internal:e.internal}},[t("draggable",{attrs:{id:"active-drag-".concat(e.internal),handle:".drag-handle"},on:{change:e.triggerUpdate,start:function(t){return e.setDragging(t,!0)},end:function(t){return e.setDragging(t,!1)}},model:{value:e.blockTemplates,callback:function(t){e.blockTemplates=t},expression:"blockTemplates"}},e._l(e.blockTemplates,(function(n,o){return t("div",{key:e.getUniqueBlockId(n),staticClass:"contentblock",class:{deleted:n.deleted,"collapsed-content-block":e.isMinimized(e.getUniqueBlockId(n))},attrs:{id:"block-".concat(e.getUniqueBlockId(n))}},[t("div",{staticClass:"badges left"},[e.isMinimized(e.getUniqueBlockId(n))?t("b-badge",{staticClass:"name",attrs:{variant:"primary"}},[e._v("\n          "+e._s(e.getBlockName(n))+"\n        ")]):t("b-badge",{staticClass:"name",attrs:{variant:"primary"}},[e._v("\n          "+e._s(e.getTableName(n.table_id))+"\n        ")])],1),e._v(" "),t("div",{staticClass:"badges right"},[e.isMinimized(e.getUniqueBlockId(n))?e._e():t("b-badge",{staticClass:"click badge-trash-icon",attrs:{id:"expander-badge"},on:{click:function(t){return e.remove(o)}}},[n.deleted?t("Icon",{attrs:{icon:"arrow-rotate-left"}}):t("Icon",{attrs:{icon:"trash"}})],1),e._v(" "),n.deleted?e._e():t("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"click",attrs:{title:e.$t("contentBlocks.holdShiftToToggleAll")},on:{click:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),void e.toggleExpanded(e.getUniqueBlockId(n)))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?null:t.shiftKey?"button"in t&&0!==t.button||t.ctrlKey||t.altKey||t.metaKey?null:(t.preventDefault(),void e.toggleAllExpanded(e.getUniqueBlockId(n))):null}]}},[e.isMinimized(e.getUniqueBlockId(n))?t("Icon",{attrs:{icon:"expand"}}):t("Icon",{attrs:{icon:"window-minimize"}})],1),e._v(" "),n.deleted?e._e():t("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"click drag-handle",attrs:{title:e.$t("contentBlocks.dragToReorder")}},[t("Icon",{attrs:{icon:"up-down-left-right"}})],1),e._v(" "),!n.delete&&e.blockTemplates.length>1?t("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"click",attrs:{disabled:o===e.blockTemplates.length-1,title:e.$t("contentBlocks.moveDown")},on:{click:function(t){e.reorder(o,o+1,e.getUniqueBlockId(n))}}},[t("Icon",{attrs:{icon:"chevron-down"}})],1):e._e(),e._v(" "),!n.deleted&&e.blockTemplates.length>1?t("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"click",attrs:{disabled:0===o,title:e.$t("contentBlocks.moveUp")},on:{click:function(t){e.reorder(o,o-1,e.getUniqueBlockId(n))}}},[t("Icon",{attrs:{icon:"chevron-up"}})],1):e._e()],1),e._v(" "),t("AutoLayout",{attrs:{elements:n.items,bus:e.bus},on:{updateValues:function(t){return e.updateValues(t,o)}}})],1)})),0),e._v(" "),t("b-row",[t("b-col",[e.availableBlocks.length>1?t("b-button-group",{attrs:{size:"sm"}},[t("b-dropdown",{attrs:{right:"",text:e.$t("common.addNew"),size:"sm"}},e._l(e.availableBlocks,(function(n,o){return t("b-dropdown-item",{key:o,on:{click:function(t){return e.getNewBlockItems(n.name)}}},[e._v("\n            "+e._s(n.name)+"\n          ")])})),1)],1):t("b-button-group",{attrs:{size:"sm"}},e._l(e.availableBlocks,(function(n,o){return t("b-button",{key:o,attrs:{variant:"secondary"},on:{click:function(t){return e.getNewBlockItems(n.name)}}},[t("Icon",{attrs:{icon:"plus",size:"sm"}}),e._v(" "+e._s(n.name)+"\n        ")],1)})),1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CommonAutolayoutLabelWrapper:n(541).default})},function(e,t,n){"use strict";n.r(t);n(16),n(80),n(18),n(14),n(19);var o=n(2),r=(n(10),n(66),n(68),n(43),n(288),n(17),n(406),n(33),n(568),n(13),n(74),n(9)),l=n(542);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={components:{draggable:n.n(l).a,AutoLayout:function(){return Promise.all([n.e(0),n.e(2),n.e(3),n.e(6),n.e(127)]).then(n.bind(null,700))}},props:{internal:{type:String,required:!0},properties:{type:Object,default:function(){}},data:{type:Object,default:function(){}},bus:{type:r.default,required:!0}},data:function(){return{value:[],invalids:[],onTouched:!0,valid:!0,currentIndex:0}},created:function(){var e=this;this.bus.$on("setStatus",(function(t){e.onTouched=!1}))},mounted:function(){var e,t=this;null!==(e=this.data)&&void 0!==e&&e.value&&(this.value=this.data.value.map((function(element){return t.currentIndex+=1,element.index=t.currentIndex,element}))),this.triggerUpdate()},methods:{changeOrder:function(e){var t=e.moved;this.invalids=this.invalids.map((function(e){return e.index===t.oldIndex?d(d({},e),{},{index:t.newIndex}):e})),this.triggerUpdate()},elementsWithValue:function(e){var t=this,n=structuredClone(this.properties.template);return this.value[e]?n.map((function(n){return n.data&&!n.data.value&&(n.data.value=t.value[e][n.internal]),n})):this.properties.template},updateValues:function(e,t){if(this.$set(this.value[t],e.field,e.value),e.valid){var n=this.invalids.findIndex((function(n){return n.index===t&&n.field===e.field}));-1!==n&&(this.invalids=this.invalids.filter((function(e,t){return t!==n})))}else this.invalids=this.invalids.concat([{index:t,field:e.field}]);this.value[t]||(this.value[t]={}),this.triggerUpdate()},triggerUpdate:function(){var e=this,t=this.value.filter((function(e){return!e.deleted})),n=this.properties.showDeleted?this.value:t,o=!this.properties.required||t.length>0,r=this.invalids.filter((function(t){return!!e.properties.showDeleted||!e.value[t.index].deleted})).length;this.valid=o,this.$emit("updateValues",{field:this.internal,valid:!r&&o,value:n})},addNewItem:function(){this.currentIndex+=1,this.value.push({deleted:!1,new:!0,index:this.currentIndex}),this.triggerUpdate()},remove:function(e){var t=!this.value[e].deleted;this.$set(this.value[e],"deleted",t),this.triggerUpdate()},getUniqueBlockId:function(e){return Math.random().toString(36).substr(2,9)}}},m=(n(660),n(63)),component=Object(m.a)(h,(function(){var e=this,t=e._self._c;return t("CommonAutolayoutLabelWrapper",{staticClass:"c-a",attrs:{label:e.properties.title,description:e.properties.description,required:e.properties.required,internal:e.internal}},[e.valid||e.onTouched?e._e():t("div",{staticClass:"input-feedback",attrs:{id:"input-".concat(e.internal,"-feedback")}},[e._v("\n    "+e._s(e.$t("common.required"))+"\n  ")]),e._v(" "),t("draggable",{class:e.valid||e.onTouched?"":"is-invalid",attrs:{handle:".drag-handle"},on:{change:e.changeOrder},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.value,(function(n,o){return t("div",{key:n.index,staticClass:"repeatable",class:{deleted:n.deleted,"deleted-shown":e.properties.showDeleted}},[t("div",{staticClass:"badges right"},[t("b-badge",{staticClass:"click badge-trash-icon",attrs:{id:"expander-badge"},on:{click:function(t){return e.remove(o)}}},[n.deleted?t("Icon",{attrs:{icon:"arrow-rotate-left"}}):t("Icon",{attrs:{icon:"trash"}})],1),e._v(" "),n.deleted?e._e():t("b-badge",{staticClass:"click drag-handle"},[t("Icon",{attrs:{icon:"up-down-left-right"}})],1)],1),e._v(" "),t("AutoLayout",{attrs:{elements:e.elementsWithValue(o),bus:e.bus},on:{updateValues:function(t){return e.updateValues(t,o)}}})],1)})),0),e._v(" "),t("b-row",[t("b-col",[t("b-button-group",{attrs:{size:"sm"}},[t("b-button",{attrs:{variant:"secondary"},on:{click:function(t){return e.addNewItem()}}},[t("Icon",{attrs:{icon:"plus",size:"sm"}}),e._v(" Add new item\n        ")],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CommonAutolayoutLabelWrapper:n(541).default})},,function(e,t,n){"use strict";n.r(t);n(10),n(66),n(68);var o={components:{AutoLayout:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(123)]).then(n.bind(null,700))}},props:{items:{type:Array,default:function(){return[]}},properties:{type:Object,default:function(){}}}},r=n(63),component=Object(r.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"w-100"},[t("h2",{staticClass:"header"},[e._v(e._s(e.properties.title))]),e._v(" "),t("AutoLayout",{staticClass:"row",attrs:{elements:e.items,toplevel:!1}})],1)}),[],!1,null,null,null);t.default=component.exports},function(e,t,n){"use strict";n.r(t);n(10),n(66),n(68);var o={components:{AutoLayout:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(122)]).then(n.bind(null,700))}},props:{items:{type:Array,default:function(){return[]}},properties:{type:Object,default:function(){}}}},r=n(63),component=Object(r.a)(o,(function(){var e=this._self._c;return e("div",{staticClass:"col"},[e("AutoLayout",{staticClass:"row",attrs:{elements:this.items,toplevel:!1}})],1)}),[],!1,null,null,null);t.default=component.exports},function(e,t,n){"use strict";n.r(t);n(10),n(66),n(68);var o={components:{AutoLayout:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(126)]).then(n.bind(null,700))}},props:{items:{type:Array,default:function(){return[]}},properties:{type:Object,default:function(){}}}},r=(n(663),n(63)),component=Object(r.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex flex-row justify-content-around",class:{"remove-padding":e.properties.removePadding,"col-12":!e.properties.removePadding}},[t("AutoLayout",{staticClass:"d-flex w-100 layout-bar",class:{"no-background":e.properties.noBackground},attrs:{elements:e.items,toplevel:!1}})],1)}),[],!1,null,null,null);t.default=component.exports},function(e,t,n){"use strict";n.r(t);n(10),n(66),n(68);var o={components:{AutoLayout:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(125)]).then(n.bind(null,700))}},props:{items:{type:Array,default:function(){return[]}},properties:{type:Object,default:function(){}}}},r=(n(664),n(63)),component=Object(r.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"tabs col-12",class:{"tabs-with-padding":e.properties.padding}},[t("b-nav",{class:{"tab-bar":!0,"with-padding":e.properties.padding},attrs:{tabs:"",card:""}},[t("AutoLayout",{staticClass:"d-flex flex-row",attrs:{elements:e.items,toplevel:!1}})],1)],1)}),[],!1,null,"d55590c0",null);t.default=component.exports},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.ModelManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(l=String).prototype,o.isPrototypeOf(n)||(null===(c=r.constructor)||void 0===c?void 0:c.name)===l.name)?"string":t;var n,o;var r,l,c})(t)===e,n=e=>t=>typeof t===e,o=e=>a=>e===a,r=t("string"),l=t("object"),c=t("array"),d=o(null),h=n("boolean"),m=o(void 0),f=a=>!(a=>null==a)(a),v=n("function"),y=n("number"),w=()=>{},A=e=>()=>e,x=e=>e,O=(a,b)=>a===b;function C(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const _=e=>t=>!e(t),S=e=>e(),k=A(!1),T=A(!0);class j{constructor(e,t){this.tag=e,this.value=t}static some(e){return new j(!0,e)}static none(){return j.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?j.some(e(this.value)):j.none()}bind(e){return this.tag?e(this.value):j.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:j.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return f(e)?j.some(e):j.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}j.singletonNone=new j(!1);const E=Array.prototype.slice,D=Array.prototype.indexOf,I=Array.prototype.push,R=(e,t)=>{return n=e,o=t,D.call(n,o)>-1;var n,o},B=(e,t)=>{for(let i=0,n=e.length;i<n;i++){if(t(e[i],i))return!0}return!1},M=(e,t)=>{const n=[];for(let i=0;i<e;i++)n.push(t(i));return n},P=(e,t)=>{const n=e.length,o=new Array(n);for(let i=0;i<n;i++){const n=e[i];o[i]=t(n,i)}return o},L=(e,t)=>{for(let i=0,n=e.length;i<n;i++){t(e[i],i)}},N=(e,t)=>{const n=[],o=[];for(let i=0,r=e.length;i<r;i++){const r=e[i];(t(r,i)?n:o).push(r)}return{pass:n,fail:o}},$=(e,t)=>{const n=[];for(let i=0,o=e.length;i<o;i++){const o=e[i];t(o,i)&&n.push(o)}return n},z=(e,t,n)=>(((e,t)=>{for(let i=e.length-1;i>=0;i--)t(e[i],i)})(e,((e,i)=>{n=t(n,e,i)})),n),F=(e,t,n)=>(L(e,((e,i)=>{n=t(n,e,i)})),n),V=(e,t)=>((e,t,n)=>{for(let i=0,o=e.length;i<o;i++){const o=e[i];if(t(o,i))return j.some(o);if(n(o,i))break}return j.none()})(e,t,k),H=(e,t)=>{for(let i=0,n=e.length;i<n;i++){if(t(e[i],i))return j.some(i)}return j.none()},W=e=>{const t=[];for(let i=0,n=e.length;i<n;++i){if(!c(e[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+e);I.apply(t,e[i])}return t},Q=(e,t)=>W(P(e,t)),U=(e,t)=>{for(let i=0,n=e.length;i<n;++i){if(!0!==t(e[i],i))return!1}return!0},Y=(e,t)=>{const n={};for(let i=0,o=e.length;i<o;i++){const o=e[i];n[String(o)]=t(o,i)}return n},G=(e,i)=>i>=0&&i<e.length?j.some(e[i]):j.none(),head=e=>G(e,0),K=e=>G(e,e.length-1),X=(e,t)=>{for(let i=0;i<e.length;i++){const n=t(e[i],i);if(n.isSome())return n}return j.none()},Z=Object.keys,J=Object.hasOwnProperty,ee=(e,t)=>{const n=Z(e);for(let o=0,r=n.length;o<r;o++){const i=n[o];t(e[i],i)}},map=(e,t)=>te(e,((e,i)=>({k:i,v:t(e,i)}))),te=(e,t)=>{const n={};return ee(e,((e,i)=>{const o=t(e,i);n[o.k]=o.v})),n},ne=(e,t)=>{const n={};return((e,t,n,o)=>{ee(e,((e,i)=>{(t(e,i)?n:o)(e,i)}))})(e,t,(e=>(t,i)=>{e[i]=t})(n),w),n},oe=(e,t)=>{const n=[];return ee(e,((e,o)=>{n.push(t(e,o))})),n},re=e=>oe(e,x),ie=(e,t)=>J.call(e,t),se="undefined"!=typeof window?window:Function("return this;")(),ae=(p,e)=>((e,t)=>{let n=null!=t?t:se;for(let i=0;i<e.length&&null!=n;++i)n=n[e[i]];return n})(p.split("."),e),le=(e,t)=>{const n=((e,t)=>ae(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},ce=Object.getPrototypeOf,ue=e=>{const t=ae("ownerDocument.defaultView",e);return l(e)&&((e=>le("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(ce(e).constructor.name))},de=element=>element.dom.nodeName.toLowerCase(),he=element=>element.dom.nodeType,pe=e=>element=>he(element)===e,me=element=>8===he(element)||"#comment"===de(element),fe=element=>ge(element)&&ue(element.dom),ge=pe(1),be=pe(3),ve=pe(9),ye=pe(11),we=e=>t=>ge(t)&&de(t)===e,Ae=(e,t,n)=>{if(!(r(n)||h(n)||y(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},xe=(element,e,t)=>{Ae(element.dom,e,t)},Oe=(element,e)=>{const t=element.dom;ee(e,((e,n)=>{Ae(t,n,e)}))},Ce=(element,e)=>{const t=element.dom.getAttribute(e);return null===t?void 0:t},_e=(element,e)=>j.from(Ce(element,e)),Se=(element,e)=>{element.dom.removeAttribute(e)},ke=element=>F(element.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),Te=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},je={fromHtml:(html,e)=>{const div=(e||document).createElement("div");if(div.innerHTML=html,!div.hasChildNodes()||div.childNodes.length>1){const e="HTML does not have a single root node";throw console.error(e,html),new Error(e)}return Te(div.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return Te(n)},fromText:(text,e)=>{const t=(e||document).createTextNode(text);return Te(t)},fromDom:Te,fromPoint:(e,t,n)=>j.from(e.dom.elementFromPoint(t,n)).map(Te)},Ee=(element,e)=>{const t=element.dom;if(1!==t.nodeType)return!1;{const n=t;if(void 0!==n.matches)return n.matches(e);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(e);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(e);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")}},De=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Ie=(e,t)=>{const base=void 0===t?document:t.dom;return De(base)?j.none():j.from(base.querySelector(e)).map(je.fromDom)},Re=(e,t)=>e.dom===t.dom,Be=(e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)},Me=Ee,Pe=element=>je.fromDom(element.dom.ownerDocument),Le=e=>ve(e)?e:Pe(e),Ne=element=>j.from(element.dom.parentNode).map(je.fromDom),$e=element=>j.from(element.dom.parentElement).map(je.fromDom),ze=(element,e)=>{const t=v(e)?e:k;let n=element.dom;const o=[];for(;null!==n.parentNode&&void 0!==n.parentNode;){const e=n.parentNode,p=je.fromDom(e);if(o.push(p),!0===t(p))break;n=e}return o},Fe=element=>j.from(element.dom.previousSibling).map(je.fromDom),Ve=element=>j.from(element.dom.nextSibling).map(je.fromDom),He=element=>P(element.dom.childNodes,je.fromDom),qe=(element,e)=>{const t=element.dom.childNodes;return j.from(t[e]).map(je.fromDom)},We=(marker,element)=>{Ne(marker).each((e=>{e.dom.insertBefore(element.dom,marker.dom)}))},Qe=(marker,element)=>{Ve(marker).fold((()=>{Ne(marker).each((e=>{Ye(e,element)}))}),(e=>{We(e,element)}))},Ue=(e,element)=>{const t=(element=>qe(element,0))(e);t.fold((()=>{Ye(e,element)}),(t=>{e.dom.insertBefore(element.dom,t.dom)}))},Ye=(e,element)=>{e.dom.appendChild(element.dom)},Ge=(element,e)=>{We(element,e),Ye(e,element)},Ke=(marker,e)=>{L(e,((t,i)=>{const n=0===i?marker:e[i-1];Qe(n,t)}))},Xe=(e,t)=>{L(t,(t=>{Ye(e,t)}))},Ze=element=>{element.dom.textContent="",L(He(element),(e=>{Je(e)}))},Je=element=>{const e=element.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},et=e=>{const t=He(e);t.length>0&&Ke(e,t),Je(e)},tt=(e,t)=>je.fromDom(e.dom.cloneNode(t)),nt=e=>tt(e,!1),ot=e=>tt(e,!0),it=(e,t)=>{const n=je.fromTag(t),o=ke(e);return Oe(n,o),n},st=["tfoot","thead","tbody","colgroup"],at=(element,e,t)=>({element:element,rowspan:e,colspan:t}),lt=(element,e,section)=>({element:element,cells:e,section:section}),ct=(element,e,t)=>({element:element,isNew:e,isLocked:t}),ut=(element,e,section,t)=>({element:element,cells:e,section:section,isNew:t}),ht=v(Element.prototype.attachShadow)&&v(Node.prototype.getRootNode),pt=A(ht),mt=ht?e=>je.fromDom(e.dom.getRootNode()):Le,ft=e=>{const t=mt(e);return ye(n=t)&&f(n.dom.host)?j.some(t):j.none();var n},gt=e=>je.fromDom(e.dom.host),bt=element=>f(element.dom.shadowRoot),vt=element=>{const e=be(element)?element.dom.parentNode:element.dom;if(null==e||null===e.ownerDocument)return!1;const t=e.ownerDocument;return ft(je.fromDom(e)).fold((()=>t.body.contains(e)),(n=vt,o=gt,a=>n(o(a))));var n,o},yt=e=>{const b=e.dom.body;if(null==b)throw new Error("Body is not available yet");return je.fromDom(b)},wt=(e,t)=>{let n=[];return L(He(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(wt(e,t))})),n},At=(e,t,n)=>((e,t,n)=>$(ze(e,n),t))(e,(e=>Ee(e,t)),n),xt=(e,t)=>((e,t)=>$(He(e),t))(e,(e=>Ee(e,t))),Ot=(e,t)=>((e,t)=>{const base=void 0===t?document:t.dom;return De(base)?[]:P(base.querySelectorAll(e),je.fromDom)})(t,e);var Ct=(e,t,n,a,o)=>e(n,a)?j.some(n):v(o)&&o(n)?j.none():t(n,a,o);const _t=(e,t,n)=>{let element=e.dom;const o=v(n)?n:k;for(;element.parentNode;){element=element.parentNode;const e=je.fromDom(element);if(t(e))return j.some(e);if(o(e))break}return j.none()},St=(e,t,n)=>Ct(((s,e)=>e(s)),_t,e,t,n),kt=(e,t,n)=>_t(e,(e=>Ee(e,t)),n),Tt=(e,t)=>((e,t)=>V(e.dom.childNodes,(e=>t(je.fromDom(e)))).map(je.fromDom))(e,(e=>Ee(e,t))),jt=(e,t)=>Ie(t,e),Et=(e,t,n)=>Ct(((element,e)=>Ee(element,e)),kt,e,t,n),Dt=(e,t,n=O)=>e.exists((e=>n(e,t))),It=e=>{const t=[],n=e=>{t.push(e)};for(let i=0;i<e.length;i++)e[i].each(n);return t},Rt=(b,a)=>b?j.some(a):j.none(),Bt=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,Mt=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!m(o)||r+t.length<=o)},Pt=(e,t)=>Bt(e,t,0),Lt=(e,t)=>Bt(e,t,e.length-t.length),Nt=(e=>s=>s.replace(e,""))(/^\s+|\s+$/g),$t=s=>s.length>0,zt=e=>void 0!==e.style&&v(e.style.getPropertyValue),Ft=(e,t,n)=>{if(!r(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);zt(e)&&e.style.setProperty(t,n)},Vt=(element,e,t)=>{const n=element.dom;Ft(n,e,t)},Ht=(element,e)=>{const t=element.dom;ee(e,((e,n)=>{Ft(t,n,e)}))},qt=(element,e)=>{const t=element.dom,n=window.getComputedStyle(t).getPropertyValue(e);return""!==n||vt(element)?n:Wt(t,e)},Wt=(e,t)=>zt(e)?e.style.getPropertyValue(t):"",Qt=(element,e)=>{const t=element.dom,n=Wt(t,e);return j.from(n).filter((e=>e.length>0))},Ut=(element,e)=>{((e,t)=>{zt(e)&&e.style.removeProperty(t)})(element.dom,e),Dt(_e(element,"style").map(Nt),"")&&Se(element,"style")},Yt=(e,t,n=0)=>_e(e,t).map((e=>parseInt(e,10))).getOr(n),Gt=(e,t)=>Yt(e,t,1),Kt=e=>we("col")(e)?Yt(e,"span",1)>1:Gt(e,"colspan")>1,Xt=e=>Gt(e,"rowspan")>1,Zt=(element,e)=>parseInt(qt(element,e),10),Jt=A(10),en=A(10),tn=(e,t)=>nn(e,t,T),nn=(e,t,n)=>Q(He(e),(e=>Ee(e,t)?n(e)?[e]:[]:nn(e,t,n))),on=(element,e)=>((e,element,t=k)=>t(element)?j.none():R(e,de(element))?j.some(element):kt(element,e.join(","),(e=>Ee(e,"table")||t(e))))(["td","th"],element,e),rn=e=>tn(e,"th,td"),sn=e=>Ee(e,"colgroup")?xt(e,"col"):Q(ln(e),(e=>xt(e,"col"))),table=(element,e)=>Et(element,"table",e),an=e=>tn(e,"tr"),ln=e=>table(e).fold(A([]),(table=>xt(table,"colgroup"))),cn=(e,t)=>P(e,(e=>{if("colgroup"===de(e)){const t=P(sn(e),(e=>{const t=Yt(e,"span",1);return at(e,1,t)}));return lt(e,t,"colgroup")}{const n=P(rn(e),(e=>{const t=Yt(e,"rowspan",1),n=Yt(e,"colspan",1);return at(e,t,n)}));return lt(e,n,t(e))}})),un=e=>Ne(e).map((e=>{const t=de(e);return(e=>R(st,e))(t)?t:"tbody"})).getOr("tbody"),dn=table=>{const e=an(table),t=[...ln(table),...e];return cn(t,un)},hn=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},pn=()=>mn(0,0),mn=(e,t)=>({major:e,minor:t}),fn={nu:mn,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?pn():((e,t)=>{const n=((e,s)=>{for(let i=0;i<e.length;i++){const t=e[i];if(t.test(s))return t}})(e,t);if(!n)return{major:0,minor:0};const o=i=>Number(t.replace(n,"$"+i));return mn(o(1),o(2))})(e,n)},unknown:pn},gn=(e,t)=>{const n=String(t).toLowerCase();return V(e,(e=>e.search(n)))},bn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,vn=e=>t=>Mt(t,e),yn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Mt(e,"edge/")&&Mt(e,"chrome")&&Mt(e,"safari")&&Mt(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,bn],search:e=>Mt(e,"chrome")&&!Mt(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Mt(e,"msie")||Mt(e,"trident")},{name:"Opera",versionRegexes:[bn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:vn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:vn("firefox")},{name:"Safari",versionRegexes:[bn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Mt(e,"safari")||Mt(e,"mobile/"))&&Mt(e,"applewebkit")}],wn=[{name:"Windows",search:vn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Mt(e,"iphone")||Mt(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:vn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:vn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:vn("linux"),versionRegexes:[]},{name:"Solaris",search:vn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:vn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:vn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],An={browsers:A(yn),oses:A(wn)},xn="Edge",On="Chromium",Cn="Opera",_n="Firefox",Sn="Safari",kn=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(xn),isChromium:o(On),isIE:o("IE"),isOpera:o(Cn),isFirefox:o(_n),isSafari:o(Sn)}},Tn={unknown:()=>kn({current:void 0,version:fn.unknown()}),nu:kn,edge:A(xn),chromium:A(On),ie:A("IE"),opera:A(Cn),firefox:A(_n),safari:A(Sn)},jn="Windows",En="Android",Dn="Linux",In="macOS",Rn="Solaris",Bn="FreeBSD",Mn="ChromeOS",Pn=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(jn),isiOS:o("iOS"),isAndroid:o(En),isMacOS:o(In),isLinux:o(Dn),isSolaris:o(Rn),isFreeBSD:o(Bn),isChromeOS:o(Mn)}},Ln={unknown:()=>Pn({current:void 0,version:fn.unknown()}),nu:Pn,windows:A(jn),ios:A("iOS"),android:A(En),linux:A(Dn),macos:A(In),solaris:A(Rn),freebsd:A(Bn),chromeos:A(Mn)},Nn=(e,t,n)=>{const o=An.browsers(),r=An.oses(),l=t.bind((e=>((e,t)=>X(t.brands,(t=>{const n=t.brand.toLowerCase();return V(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:fn.nu(parseInt(t.version,10),0)})))})))(o,e))).orThunk((()=>((e,t)=>gn(e,t).map((e=>{const n=fn.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e))).fold(Tn.unknown,Tn.nu),c=((e,t)=>gn(e,t).map((e=>{const n=fn.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(r,e).fold(Ln.unknown,Ln.nu),d=((e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),l=e.isiOS()&&!r,c=e.isiOS()||e.isAndroid(),d=c||o("(pointer:coarse)"),h=r||!l&&c&&o("(min-device-width:768px)"),m=l||c&&!h,f=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),v=!m&&!h&&!f;return{isiPad:A(r),isiPhone:A(l),isTablet:A(h),isPhone:A(m),isTouch:A(d),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:A(f),isDesktop:A(v)}})(c,l,e,n);return{browser:l,os:c,deviceType:d}},$n=e=>window.matchMedia(e).matches;let zn=hn((()=>Nn(navigator.userAgent,j.from(navigator.userAgentData),$n)));const Fn=()=>zn(),Vn=(e,t)=>{const n=element=>{const n=t(element);if(n<=0||null===n){const t=qt(element,e);return parseFloat(t)||0}return n},o=(element,e)=>F(e,((e,t)=>{const n=qt(element,t),o=void 0===n?0:parseInt(n,10);return isNaN(o)?e:e+o}),0);return{set:(element,t)=>{if(!y(t)&&!t.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+t);const n=element.dom;zt(n)&&(n.style[e]=t+"px")},get:n,getOuter:n,aggregate:o,max:(element,e,t)=>{const n=o(element,t);return e>n?e-n:0}}},Hn=(e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?j.none():j.some(t)})(e).getOr(t),qn=(element,e,t)=>Hn(qt(element,e),t),Wn=(element,e)=>{const t=element.dom,n=t.getBoundingClientRect().width||t.offsetWidth;return"border-box"===e?n:((element,e,t,n)=>e-qn(element,`padding-${t}`,0)-qn(element,`padding-${n}`,0)-qn(element,`border-${t}-width`,0)-qn(element,`border-${n}-width`,0))(element,n,"left","right")},Qn=Vn("width",(element=>element.dom.offsetWidth)),Un=element=>Qn.get(element),Yn=element=>Qn.getOuter(element),Gn=element=>Wn(element,"content-box"),Kn=element=>qn(element,"width",element.dom.offsetWidth),Xn=(e,t,n)=>{const o=e.cells,r=o.slice(0,t),l=o.slice(t),c=r.concat(n).concat(l);return eo(e,c)},Zn=(e,t,n)=>Xn(e,t,[n]),Jn=(e,t,n)=>{e.cells[t]=n},eo=(e,t)=>ut(e.element,t,e.section,e.isNew),to=(e,t)=>e.cells[t],no=(e,t)=>to(e,t).element,oo=e=>e.cells.length,ro=e=>{const t=N(e,(e=>"colgroup"===e.section));return{rows:t.fail,cols:t.pass}},io=(e,t,n)=>{const o=P(e.cells,n);return ut(t(e.element),o,e.section,!0)},so="data-snooker-locked-cols",ao=table=>_e(table,so).bind((e=>j.from(e.match(/\d+/g)))).map((e=>Y(e,T))),lo=e=>{const t=F(ro(e).rows,((e,t)=>(L(t.cells,((t,n)=>{t.isLocked&&(e[n]=!0)})),e)),{}),n=oe(t,((e,t)=>parseInt(t,10)));return((e,t)=>{const n=E.call(e,0);return n.sort(t),n})(n)},co=(e,t)=>e+","+t,uo=(e,t)=>{const n=Q(e.all,(e=>e.cells));return $(n,t)},ho=e=>{const t={},n=[],o=head(e).map((e=>e.element)).bind(table).bind(ao).getOr({});let r=0,l=0,c=0;const{pass:d,fail:h}=N(e,(e=>"colgroup"===e.section));L(h,(e=>{const d=[];L(e.cells,(e=>{let n=0;for(;void 0!==t[co(c,n)];)n++;const r=((e,t)=>ie(e,t)&&void 0!==e[t]&&null!==e[t])(o,n.toString()),h=((element,e,t,n,o,r)=>({element:element,rowspan:e,colspan:t,row:n,column:o,isLocked:r}))(e.element,e.rowspan,e.colspan,c,n,r);for(let o=0;o<e.colspan;o++)for(let r=0;r<e.rowspan;r++){const e=n+o,d=co(c+r,e);t[d]=h,l=Math.max(l,e+1)}d.push(h)})),r++,n.push(lt(e.element,d,e.section)),c++}));const{columns:m,colgroups:f}=K(d).map((e=>{const t=(e=>{const t={};let n=0;return L(e.cells,(e=>{const o=e.colspan;M(o,(r=>{const l=n+r;t[l]=((element,e,t)=>({element:element,colspan:e,column:t}))(e.element,o,l)})),n+=o})),t})(e),n=((element,e)=>({element:element,columns:e}))(e.element,re(t));return{colgroups:[n],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),v=((e,t)=>({rows:e,columns:t}))(r,l);return{grid:v,access:t,all:n,columns:m,colgroups:f}},po={fromTable:table=>{const e=dn(table);return ho(e)},generate:ho,getAt:(e,t,n)=>j.from(e.access[co(t,n)]),findItem:(e,t,n)=>{const o=uo(e,(e=>n(t,e.element)));return o.length>0?j.some(o[0]):j.none()},filterItems:uo,justCells:e=>Q(e.all,(e=>e.cells)),justColumns:e=>re(e.columns),hasColumns:e=>Z(e.columns).length>0,getColumnAt:(e,t)=>j.from(e.columns[t])},mo=(e,t=T)=>{const n=e.grid,o=M(n.columns,x),r=M(n.rows,x);return P(o,(col=>fo((()=>Q(r,(t=>po.getAt(e,t,col).filter((e=>e.column===col)).toArray()))),(e=>1===e.colspan&&t(e.element)),(()=>po.getAt(e,0,col)))))},fo=(e,t,n)=>{const o=e();return V(o,t).orThunk((()=>j.from(o[0]).orThunk(n))).map((e=>e.element))},go=e=>{const t=e.grid,n=M(t.rows,x),o=M(t.columns,x);return P(n,(t=>fo((()=>Q(o,(n=>po.getAt(e,t,n).filter((e=>e.row===t)).fold(A([]),(e=>[e]))))),(e=>1===e.rowspan),(()=>po.getAt(e,t,0)))))},bo=(e,t)=>{if(t<0||t>=e.length-1)return j.none();const n=e[t].fold((()=>{const n=(e=>{const t=E.call(e,0);return t.reverse(),t})(e.slice(0,t));return X(n,((a,i)=>a.map((e=>({value:e,delta:i+1})))))}),(e=>j.some({value:e,delta:0}))),o=e[t+1].fold((()=>{const n=e.slice(t+1);return X(n,((a,i)=>a.map((e=>({value:e,delta:i+1})))))}),(e=>j.some({value:e,delta:1})));return n.bind((e=>o.map((t=>{const n=t.delta+e.delta;return Math.abs(t.value-e.value)/n}))))},vo=(e,t)=>element=>"rtl"===yo(element)?t:e,yo=element=>"rtl"===qt(element,"direction")?"rtl":"ltr",wo=Vn("height",(element=>{const e=element.dom;return vt(element)?e.getBoundingClientRect().height:e.offsetHeight})),Ao=element=>wo.get(element),xo=element=>wo.getOuter(element),Oo=element=>qn(element,"height",element.dom.offsetHeight),Co=(e,t)=>({left:e,top:t,translate:(n,o)=>Co(e+n,t+o)}),_o=Co,So=(a,b)=>void 0!==a?a:void 0!==b?b:0,ko=element=>{const e=element.dom.ownerDocument,body=e.body,t=e.defaultView,html=e.documentElement;if(body===element.dom)return _o(body.offsetLeft,body.offsetTop);const n=So(null==t?void 0:t.pageYOffset,html.scrollTop),o=So(null==t?void 0:t.pageXOffset,html.scrollLeft),r=So(html.clientTop,body.clientTop),l=So(html.clientLeft,body.clientLeft);return To(element).translate(o-l,n-r)},To=element=>{const e=element.dom,body=e.ownerDocument.body;return body===e?_o(body.offsetLeft,body.offsetTop):vt(element)?(e=>{const t=e.getBoundingClientRect();return _o(t.left,t.top)})(e):_o(0,0)},jo=(e,t)=>({row:e,y:t}),Eo=(col,e)=>({col:col,x:e}),Do=e=>ko(e).left+Yn(e),Io=e=>ko(e).left,Ro=(e,t)=>Eo(e,Io(t)),Bo=(e,t)=>Eo(e,Do(t)),Mo=e=>ko(e).top,Po=(e,t)=>jo(e,Mo(t)),Lo=(e,t)=>jo(e,Mo(t)+xo(t)),No=(e,t,n)=>{if(0===n.length)return[];const o=P(n.slice(1),((t,n)=>t.map((t=>e(n,t))))),r=n[n.length-1].map((e=>t(n.length-1,e)));return o.concat([r])},$o={delta:x,positions:e=>No(Po,Lo,e),edge:Mo},zo=vo({delta:x,edge:Io,positions:e=>No(Ro,Bo,e)},{delta:e=>-e,edge:Do,positions:e=>No(Bo,Ro,e)}),Fo={delta:(e,table)=>zo(table).delta(e,table),positions:(e,table)=>zo(table).positions(e,table),edge:e=>zo(e).edge(e)},Vo={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},pattern=(()=>{const e="[0-9]+",t="[eE]"+("[+-]?"+e),n=input=>`(?:${input})?`,o=["Infinity",e+"\\."+n(e)+n(t),"\\."+e+n(t),e+n(t)].join("|");return new RegExp(`^(${`[+-]?(?:${o})`})(.*)$`)})(),Ho=(input,e)=>j.from(pattern.exec(input)).bind((t=>{const n=Number(t[1]),o=t[2];return((e,t)=>B(t,(t=>B(Vo[t],(t=>e===t)))))(o,e)?j.some({value:n,unit:o}):j.none()})),qo=/(\d+(\.\d+)?)%/,Wo=/(\d+(\.\d+)?)px|em/,Qo=we("col"),Uo=(e,t,n)=>{const o=$e(e).getOrThunk((()=>yt(Pe(e))));return t(e)/n(o)*100},Yo=(e,t)=>{Vt(e,"width",t+"px")},Go=(e,t)=>{Vt(e,"width",t+"%")},Ko=(e,t)=>{Vt(e,"height",t+"px")},Xo=(e,t,n,o)=>{const r=parseFloat(e);return Lt(e,"%")&&"table"!==de(t)?((e,t,n,o)=>{const r=table(e).map((table=>{const e=n(table);return Math.floor(t/100*e)})).getOr(t);return o(e,r),r})(t,r,n,o):r},Zo=e=>{const t=(e=>Oo(e)+"px")(e);return t?Xo(t,e,Ao,Ko):Ao(e)},Jo=(element,e)=>Qt(element,e).orThunk((()=>_e(element,e).map((e=>e+"px")))),er=element=>Jo(element,"width"),nr=e=>Uo(e,Un,Gn),or=e=>Qo(e)?Un(e):Kn(e),rr=e=>((e,t,n)=>n(e)/Gt(e,t))(e,"rowspan",Zo),ir=(e,t,n)=>{Vt(e,"width",t+n)},sr=table=>Uo(table,Un,Gn)+"%",ar=A(qo),lr=we("col"),cr=e=>er(e).getOrThunk((()=>or(e)+"px")),ur=e=>{return(element=e,Jo(element,"height")).getOrThunk((()=>rr(e)+"px"));var element},dr=(e,t,n,filter,o,r)=>e.filter(filter).fold((()=>r(bo(n,t))),(e=>o(e))),pr=(e,table,t,n)=>{const o=mo(e),r=po.hasColumns(e)?(e=>P(po.justColumns(e),(e=>j.from(e.element))))(e):o,l=[j.some(Fo.edge(table))].concat(P(Fo.positions(o,table),(e=>e.map((p=>p.x))))),c=_(Kt);return P(r,((e,r)=>dr(e,r,l,c,(e=>{if((e=>{const t=Fn().browser,n=t.isChromium()||t.isFirefox();return!lr(e)||n})(e))return t(e);{const e=(a=o[r],d=x,null!=a?d(a):j.none());return dr(e,r,l,c,(e=>n(j.some(Un(e)))),n)}var a,d}),n)))},mr=e=>e.map((e=>e+"px")).getOr(""),fr=(e,table,t)=>pr(e,table,or,(e=>e.getOrThunk(t.minCellWidth))),gr=(e,table,t,n,o)=>{const r=go(e),l=[j.some(t.edge(table))].concat(P(t.positions(r,table),(e=>e.map((p=>p.y)))));return P(r,((e,t)=>dr(e,t,l,_(Xt),n,o)))},vr=(table,e)=>()=>vt(table)?e(table):parseFloat(Qt(table,"width").getOr("0")),yr=table=>{const e=vr(table,Un),t=A(0);return{width:e,pixelWidth:e,getWidths:(e,t)=>fr(e,table,t),getCellDelta:t,singleColumnWidth:A([0]),minCellWidth:t,setElementWidth:w,adjustTableWidth:w,isRelative:!0,label:"none"}},wr=table=>{const e=vr(table,(e=>parseFloat(sr(e)))),t=vr(table,Un);return{width:e,pixelWidth:t,getWidths:(e,t)=>((e,table,t)=>pr(e,table,nr,(e=>e.fold((()=>t.minCellWidth()),(e=>e/t.pixelWidth()*100)))))(e,table,t),getCellDelta:e=>e/t()*100,singleColumnWidth:(e,t)=>[100-e],minCellWidth:()=>Jt()/t()*100,setElementWidth:Go,adjustTableWidth:t=>{const n=e();Go(table,n+t/100*n)},isRelative:!0,label:"percent"}},Ar=table=>{const e=vr(table,Un);return{width:e,pixelWidth:e,getWidths:(e,t)=>fr(e,table,t),getCellDelta:x,singleColumnWidth:(e,t)=>[Math.max(Jt(),e+t)-e],minCellWidth:Jt,setElementWidth:Yo,adjustTableWidth:t=>{const n=e()+t;Yo(table,n)},isRelative:!1,label:"pixel"}},xr=table=>er(table).fold((()=>yr(table)),(e=>((element,e)=>null!==ar().exec(e)?wr(element):Ar(element))(table,e))),Or=Ar,Cr=wr,_r=(e,t,n)=>{const o=e[n].element,td=je.fromTag("td");Ye(td,je.fromTag("br"));(t?Ye:Ue)(o,td)},Sr=(table,e)=>{const t=t=>Ee(t.element,e),n=ot(table),o=dn(n),r=xr(table),l=po.generate(o),c=((e,t)=>{const n=e.grid.columns;let o=e.grid.rows,r=n,l=0,c=0;const d=[],h=[];return ee(e.access,(e=>{if(d.push(e),t(e)){h.push(e);const t=e.row,n=t+e.rowspan-1,d=e.column,m=d+e.colspan-1;t<o?o=t:n>l&&(l=n),d<r?r=d:m>c&&(c=m)}})),((e,t,n,o,r,l)=>({minRow:e,minCol:t,maxRow:n,maxCol:o,allCells:r,selectedCells:l}))(o,r,l,c,d,h)})(l,t),d="th:not("+e+"),td:not("+e+")",h=nn(n,"th,td",(e=>Ee(e,d)));L(h,Je),((e,t,n,o)=>{const r=$(e,(e=>"colgroup"!==e.section)),l=t.grid.columns,c=t.grid.rows;for(let i=0;i<c;i++){let e=!1;for(let c=0;c<l;c++)i<n.minRow||i>n.maxRow||c<n.minCol||c>n.maxCol||(po.getAt(t,i,c).filter(o).isNone()?_r(r,e,i):e=!0)}})(o,l,c,t);const m=((table,e,t,n)=>{if(0===n.minCol&&e.grid.columns===n.maxCol+1)return 0;const o=fr(e,table,t),r=F(o,((e,t)=>e+t),0),l=F(o.slice(n.minCol,n.maxCol+1),((e,t)=>e+t),0),c=l/r*t.pixelWidth()-t.pixelWidth();return t.getCellDelta(c)})(table,po.fromTable(table),r,c);return((e,t,n,o)=>{ee(n.columns,(col=>{(col.column<t.minCol||col.column>t.maxCol)&&Je(col.element)}));const r=$(tn(e,"tr"),(e=>0===e.dom.childElementCount));L(r,Je),t.minCol!==t.maxCol&&t.minRow!==t.maxRow||L(tn(e,"th,td"),(e=>{Se(e,"rowspan"),Se(e,"colspan")})),Se(e,so),Se(e,"data-snooker-col-series"),xr(e).adjustTableWidth(o)})(n,c,l,m),n},kr=((e,t)=>{const n=element=>e(element)?j.from(element.dom.nodeValue):j.none();return{get:element=>{if(!e(element))throw new Error("Can only get "+t+" value of a "+t+" node");return n(element).getOr("")},getOption:n,set:(element,n)=>{if(!e(element))throw new Error("Can only set raw "+t+" value of a "+t+" node");element.dom.nodeValue=n}}})(be,"text"),Tr=element=>kr.get(element),jr=element=>kr.getOption(element),Er=(element,e)=>kr.set(element,e),Dr=element=>"img"===de(element)?1:jr(element).fold((()=>He(element).length),(e=>e.length)),Ir=["img","br"],Rr=e=>jr(e).filter((text=>0!==text.trim().length||text.indexOf("Â ")>-1)).isSome()||R(Ir,de(e))||(e=>fe(e)&&"false"===Ce(e,"contenteditable"))(e),Br=element=>((e,t)=>{const n=e=>{for(let i=0;i<e.childNodes.length;i++){const o=je.fromDom(e.childNodes[i]);if(t(o))return j.some(o);const r=n(e.childNodes[i]);if(r.isSome())return r}return j.none()};return n(e.dom)})(element,Rr),Mr=element=>Pr(element,Rr),Pr=(e,t)=>{const n=element=>{const e=He(element);for(let i=e.length-1;i>=0;i--){const o=e[i];if(t(o))return j.some(o);const r=n(o);if(r.isSome())return r}return j.none()};return n(e)},Lr={scope:["row","col"]},Nr=e=>()=>{const td=je.fromTag("td",e.dom);return Ye(td,je.fromTag("br",e.dom)),td},$r=e=>()=>je.fromTag("col",e.dom),zr=e=>()=>je.fromTag("colgroup",e.dom),Fr=e=>()=>je.fromTag("tr",e.dom),Vr=(e,t,n)=>{const o=((e,t)=>{const n=it(e,t),o=He(ot(e));return Xe(n,o),n})(e,t);return ee(n,((e,t)=>{null===e?Se(o,t):xe(o,t,e)})),o},Hr=e=>e,qr=(e,t,n)=>{const o=(e,t)=>{((source,e)=>{const t=source.dom,n=e.dom;zt(t)&&zt(n)&&(n.style.cssText=t.style.cssText)})(e.element,t),Ut(t,"height"),1!==e.colspan&&Ut(t,"width")};return{col:n=>{const col=je.fromTag(de(n.element),t.dom);return o(n,col),e(n.element,col),col},colgroup:zr(t),row:Fr(t),cell:r=>{const td=je.fromTag(de(r.element),t.dom),l=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),c=l.length>0?((e,t,n)=>Br(e).map((o=>{const r=n.join(","),l=At(o,r,(element=>Re(element,e)));return z(l,((e,t)=>{const n=nt(t);return Ye(e,n),n}),t)})).getOr(t))(r.element,td,l):td;return Ye(c,je.fromTag("br")),o(r,td),((e,t)=>{ee(Lr,((n,o)=>_e(e,o).filter((e=>R(n,e))).each((e=>xe(t,o,e)))))})(r.element,td),e(r.element,td),td},replace:Vr,colGap:$r(t),gap:Nr(t)}},Wr=e=>({col:$r(e),colgroup:zr(e),row:Fr(e),cell:Nr(e),replace:Hr,colGap:$r(e),gap:Nr(e)}),option=e=>t=>t.options.get(e),Qr="100%",Ur=e=>{var t;const n=e.dom,o=null!==(t=n.getParent(e.selection.getStart(),n.isBlock))&&void 0!==t?t:e.getBody();return Gn(je.fromDom(o))+"px"},Yr=e=>j.from(e.options.get("table_clone_elements")),Gr=option("table_header_type"),Kr=option("table_column_resizing"),Xr=e=>"preservetable"===Kr(e),Zr=e=>"resizetable"===Kr(e),Jr=option("table_sizing_mode"),ei=e=>"relative"===Jr(e),ti=e=>"fixed"===Jr(e),ni=e=>"responsive"===Jr(e),oi=option("table_resize_bars"),ri=option("table_style_by_css"),ii=option("table_merge_content_on_paste"),si=e=>{const t=e.options,n=t.get("table_default_attributes");return t.isSet("table_default_attributes")?n:((e,t)=>ni(e)||ri(e)?t:ti(e)?{...t,width:Ur(e)}:{...t,width:Qr})(e,n)},ai=e=>{const t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:((e,t)=>ni(e)||!ri(e)?t:ti(e)?{...t,width:Ur(e)}:{...t,width:Qr})(e,n)},ci=option("table_use_colgroups"),ui=e=>Et(e,"[contenteditable]"),di=(element,e=!1)=>vt(element)?element.dom.isContentEditable:ui(element).fold(A(e),(e=>"true"===hi(e))),hi=element=>element.dom.contentEditable,pi=e=>je.fromDom(e.getBody()),mi=e=>element=>Re(element,pi(e)),fi=table=>{Se(table,"data-mce-style");const e=element=>Se(element,"data-mce-style");L(rn(table),e),L(sn(table),e),L(an(table),e)},gi=e=>je.fromDom(e.selection.getStart()),bi=e=>e.getBoundingClientRect().width,vi=e=>e.getBoundingClientRect().height,yi=e=>St(e,we("table")).exists(di),wi=(e,t)=>{const n=t.column,o=t.column+t.colspan-1,r=t.row,l=t.row+t.rowspan-1;return n<=e.finishCol&&o>=e.startCol&&r<=e.finishRow&&l>=e.startRow},Ai=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,xi=(e,t,n)=>{const o=po.findItem(e,t,Re),r=po.findItem(e,n,Re);return o.bind((e=>r.map((t=>{return n=e,o=t,r=Math.min(n.row,o.row),l=Math.min(n.column,o.column),c=Math.max(n.row+n.rowspan-1,o.row+o.rowspan-1),d=Math.max(n.column+n.colspan-1,o.column+o.colspan-1),{startRow:r,startCol:l,finishRow:c,finishCol:d};var n,o,r,l,c,d}))))},Oi=(e,t,n)=>xi(e,t,n).bind((t=>((e,t)=>{let n=!0;const o=C(Ai,t);for(let i=t.startRow;i<=t.finishRow;i++)for(let r=t.startCol;r<=t.finishCol;r++)n=n&&po.getAt(e,i,r).exists(o);return n?j.some(t):j.none()})(e,t))),Ci=(e,t,n)=>xi(e,t,n).map((t=>{const n=po.filterItems(e,C(wi,t));return P(n,(e=>e.element))})),_i=(e,t)=>po.findItem(e,t,((e,t)=>Be(t,e))).map((e=>e.element)),Si=(e,t,n)=>table(e).bind((table=>((e,t,n,o)=>po.findItem(e,t,Re).bind((t=>{const r=n>0?t.row+t.rowspan-1:t.row,l=o>0?t.column+t.colspan-1:t.column;return po.getAt(e,r+n,l+o).map((e=>e.element))})))(ji(table),e,t,n))),ki=(table,e,t)=>{const n=ji(table);return Ci(n,e,t)},Ti=(table,e,t,n,o)=>{const r=ji(table),l=Re(table,t)?j.some(e):_i(r,e),c=Re(table,o)?j.some(n):_i(r,n);return l.bind((e=>c.bind((t=>Ci(r,e,t)))))},ji=po.fromTable;var Ei=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Di=()=>({up:A({selector:kt,closest:Et,predicate:_t,all:ze}),down:A({selector:Ot,predicate:wt}),styles:A({get:qt,getRaw:Qt,set:Vt,remove:Ut}),attrs:A({get:Ce,set:xe,remove:Se,copyTo:(source,e)=>{const t=ke(source);Oe(e,t)}}),insert:A({before:We,after:Qe,afterAll:Ke,append:Ye,appendAll:Xe,prepend:Ue,wrap:Ge}),remove:A({unwrap:et,remove:Je}),create:A({nu:je.fromTag,clone:element=>je.fromDom(element.dom.cloneNode(!1)),text:je.fromText}),query:A({comparePosition:(element,e)=>element.dom.compareDocumentPosition(e.dom),prevSibling:Fe,nextSibling:Ve}),property:A({children:He,name:de,parent:Ne,document:element=>Le(element).dom,isText:be,isComment:me,isElement:ge,isSpecial:element=>{const e=de(element);return R(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],e)},getLanguage:element=>ge(element)?_e(element,"lang"):j.none(),getText:Tr,setText:Er,isBoundary:element=>!!ge(element)&&("body"===de(element)||R(Ei,de(element))),isEmptyTag:element=>!!ge(element)&&R(["br","img","hr","input"],de(element)),isNonEditable:element=>ge(element)&&"false"===Ce(element,"contenteditable")}),eq:Re,is:Me});const Ii=(e,t,head,n)=>{const o=t(e,head);return z(n,((b,a)=>{const n=t(e,a);return Ri(e,b,n)}),o)},Ri=(e,t,n)=>t.bind((s=>n.filter(C(e.eq,s)))),Bi=(e,t,n)=>n.length>0?((e,t,n,o)=>o(e,t,n[0],n.slice(1)))(e,t,n,Ii):j.none(),Mi=(e,t,n,o=k)=>{const r=[t].concat(e.up().all(t)),l=[n].concat(e.up().all(n)),c=path=>H(path,o).fold((()=>path),(e=>path.slice(0,e+1))),d=c(r),h=c(l),m=V(d,(t=>B(h,((e,t)=>C(e.eq,t))(e,t))));return{firstpath:d,secondpath:h,shared:m}},Pi=Di(),Li=(e,t)=>Bi(Pi,((t,element)=>e(element)),t),Ni=e=>kt(e,"table"),$i=(e,t,n)=>{const o=e=>element=>void 0!==n&&n(element)||Re(element,e);return Re(e,t)?j.some({boxes:j.some([e]),start:e,finish:t}):Ni(e).bind((r=>Ni(t).bind((l=>{if(Re(r,l))return j.some({boxes:ki(r,e,t),start:e,finish:t});if(Be(r,l)){const n=At(t,"td,th",o(r)),c=n.length>0?n[n.length-1]:t;return j.some({boxes:Ti(r,e,r,t,l),start:e,finish:c})}if(Be(l,r)){const n=At(e,"td,th",o(l)),c=n.length>0?n[n.length-1]:e;return j.some({boxes:Ti(l,e,r,t,l),start:e,finish:c})}return((e,t,n)=>Mi(Pi,e,t,n))(e,t).shared.bind((c=>Et(c,"table",n).bind((n=>{const c=At(t,"td,th",o(n)),d=c.length>0?c[c.length-1]:t,h=At(e,"td,th",o(n)),m=h.length>0?h[h.length-1]:e;return j.some({boxes:Ti(n,e,r,t,l),start:m,finish:d})}))))}))))},zi=(e,t)=>{const n=Ot(e,t);return n.length>0?j.some(n):j.none()},Fi=(e,t,n)=>jt(e,t).bind((t=>jt(e,n).bind((e=>Li(Ni,[t,e]).map((table=>({first:t,last:e,table:table}))))))),Vi=(e,t,n,o,r)=>((e,t)=>V(e,(e=>Ee(e,t))))(e,r).bind((e=>Si(e,t,n).bind((e=>((e,t)=>kt(e,"table").bind((table=>jt(table,t).bind((t=>$i(t,e).bind((e=>e.boxes.map((t=>({boxes:t,start:e.start,finish:e.finish}))))))))))(e,o))))),Hi=(e,t)=>zi(e,t),qi=(e,t,n)=>Fi(e,t,n).bind((t=>{const n=t=>Re(e,t),o="thead,tfoot,tbody,table",r=kt(t.first,o,n),l=kt(t.last,o,n);return r.bind((e=>l.bind((n=>Re(e,n)?((table,e,t)=>{const n=ji(table);return Oi(n,e,t)})(t.table,t.first,t.last):j.none()))))})),Wi=x,Qi=e=>{const t=(e,t)=>_e(e,t).exists((span=>parseInt(span,10)>1));return e.length>0&&U(e,(e=>t(e,"rowspan")||t(e,"colspan")))?j.some(e):j.none()},Ui=(table,e,t)=>e.length<=1?j.none():qi(table,t.firstSelectedSelector,t.lastSelectedSelector).map((t=>({bounds:t,cells:e}))),Yi="data-mce-selected",Gi="td["+Yi+"],th["+Yi+"]",Ki="["+Yi+"]",Xi="data-mce-first-selected",Zi="td["+Xi+"],th["+Xi+"]",Ji="data-mce-last-selected",es="td["+Ji+"],th["+Ji+"]",ts=Ki,ns={selected:Yi,selectedSelector:Gi,firstSelected:Xi,firstSelectedSelector:Zi,lastSelected:Ji,lastSelectedSelector:es},os=(e,table,t)=>({element:t,mergable:Ui(table,e,ns),unmergable:Qi(e),selection:Wi(e)}),rs=e=>(t,n)=>{const o=de(t),r="col"===o||"colgroup"===o?table(element=t).bind((table=>Hi(table,ns.firstSelectedSelector))).fold(A(element),(e=>e[0])):t;var element;return Et(r,e,n)},is=rs("th,td,caption"),ss=rs("th,td"),as=e=>{return t=e.model.table.getSelectedCells(),P(t,je.fromDom);var t},ls=(e,t)=>{e.on("BeforeGetContent",(t=>{const n=n=>{t.preventDefault(),(e=>table(e[0]).map((table=>{const e=Sr(table,ts);return fi(e),[e]})))(n).each((n=>{t.content="text"===t.format?(e=>P(e,(element=>element.dom.innerText)).join(""))(n):((e,t)=>P(t,(t=>e.selection.serializer.serialize(t.dom,{}))).join(""))(e,n)}))};if(!0===t.selection){const t=(e=>$(as(e),(e=>Ee(e,ns.selectedSelector))))(e);t.length>=1&&n(t)}})),e.on("BeforeSetContent",(n=>{if(!0===n.selection&&!0===n.paste){const o=as(e);head(o).each((o=>{table(o).each((table=>{const r=$(((html,e)=>{const div=(e||document).createElement("div");return div.innerHTML=html,He(je.fromDom(div))})(n.content),(content=>"meta"!==de(content))),l=we("table");if(ii(e)&&1===r.length&&l(r[0])){n.preventDefault();const l=je.fromDom(e.getDoc()),c=Wr(l),d=((element,e,t)=>({element:element,clipboard:e,generators:t}))(o,r[0],c);t.pasteCells(table,d).each((()=>{e.focus()}))}}))}))}}))},cs=(element,e)=>({element:element,offset:e}),us=(e,element,t)=>e.property().isText(element)&&0===e.property().getText(element).trim().length||e.property().isComment(element)?t(element).bind((n=>us(e,n,t).orThunk((()=>j.some(n))))):j.none(),ds=(e,element)=>{if(e.property().isText(element))return e.property().getText(element).length;return e.property().children(element).length},hs=(e,element)=>{const t=us(e,element,e.query().prevSibling).getOr(element);if(e.property().isText(t))return cs(t,ds(e,t));const n=e.property().children(t);return n.length>0?hs(e,n[n.length-1]):cs(t,ds(e,t))},ps=hs,ms=Di(),fs=(main,e)=>{if(!Kt(main)){const t=(e=>er(e).bind((e=>Ho(e,["fixed","relative","empty"]))))(main);t.each((t=>{const n=t.value/2;ir(main,n,t.unit),ir(e,n,t.unit)}))}},gs=e=>P(e,A(0)),bs=(e,t,n,o,r)=>r(e.slice(0,t)).concat(o).concat(r(e.slice(n))),vs=e=>(t,n,o,r)=>{if(e(o)){const e=Math.max(r,t[n]-Math.abs(o)),l=Math.abs(e-t[n]);return o>=0?l:-l}return o},ys=vs((e=>e<0)),ws=vs(T),As=()=>{const e=(e,t,n,o)=>{const r=(100+n)/100,l=Math.max(o,(e[t]+n)/r);return P(e,((e,n)=>(n===t?l:e/r)-e))},t=(t,n,o,r,l,c)=>c?e(t,n,r,l):((e,t,n,o,r)=>{const l=ys(e,t,o,r);return bs(e,t,n+1,[l,0],gs)})(t,n,o,r,l);return{resizeTable:(e,t)=>e(t),clampTableDelta:ys,calcLeftEdgeDeltas:t,calcMiddleDeltas:(e,n,o,r,l,c,d)=>t(e,o,r,l,c,d),calcRightEdgeDeltas:(t,n,o,r,l,c)=>{if(c)return e(t,o,r,l);{const e=ys(t,o,r,l);return gs(t.slice(0,o)).concat([e])}},calcRedestributedWidths:(e,t,n,o)=>{if(o){const o=(t+n)/t,r=P(e,(e=>e/o));return{delta:100*o-100,newSizes:r}}return{delta:n,newSizes:e}}}},xs=()=>{const e=(e,t,n,o,r)=>{const l=ws(e,o>=0?n:t,o,r);return bs(e,t,n+1,[l,-l],gs)};return{resizeTable:(e,t,n)=>{n&&e(t)},clampTableDelta:(e,t,n,o,r)=>{if(r){if(n>=0)return n;{const t=F(e,((a,b)=>a+b-o),0);return Math.max(-t,n)}}return ys(e,t,n,o)},calcLeftEdgeDeltas:e,calcMiddleDeltas:(t,n,o,r,l,c)=>e(t,o,r,l,c),calcRightEdgeDeltas:(e,t,n,o,r,l)=>{if(l)return gs(e);{const t=o/e.length;return P(e,A(t))}},calcRedestributedWidths:(e,t,n,o)=>({delta:0,newSizes:e})}},Os=table=>po.fromTable(table).grid,Cs=we("th"),_s=e=>U(e,(e=>Cs(e.element))),Ss=(e,t)=>e&&t?"sectionCells":e?"section":"cells",ks=e=>{const t="thead"===e.section,n=Dt(Ts(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:Ss(t,n)}:{type:"body"}},Ts=e=>{const t=$(e,(e=>Cs(e.element)));return 0===t.length?j.some("td"):t.length===e.length?j.some("th"):j.none()},js=(e,t,n)=>ct(n(e.element,t),!0,e.isLocked),Es=(e,section)=>e.section!==section?ut(e.element,e.cells,section,e.isNew):e,section=()=>({transformRow:Es,transformCell:(e,t,n)=>{const o=n(e.element,t),r="td"!==de(o)?((e,t)=>{const n=it(e,t);Qe(e,n);const o=He(e);return Xe(n,o),Je(e),n})(o,"td"):o;return ct(r,e.isNew,e.isLocked)}}),Ds=()=>({transformRow:Es,transformCell:js}),Is=()=>({transformRow:(e,section)=>Es(e,"thead"===section?"tbody":section),transformCell:js}),Rs=(table,e)=>{const t=(e=>X(e.all,(e=>{const t=ks(e);return"header"===t.type?j.from(t.subType):j.none()})))(po.fromTable(table)).getOr(e);switch(t){case"section":return section();case"sectionCells":return Ds();case"cells":return Is()}},Bs=section,Ms=Ds,Ps=Is,Ls=()=>({transformRow:x,transformCell:js}),Ns=(element,e,t,n)=>{t===n?Se(element,e):xe(element,e,t)},$s=(table,e,element)=>{K(xt(table,e)).fold((()=>Ue(table,element)),(e=>Qe(e,element)))},zs=(table,e)=>{const t=[],n=[],o=e=>P(e,(e=>{e.isNew&&t.push(e.element);const tr=e.element;return Ze(tr),L(e.cells,(e=>{e.isNew&&n.push(e.element),Ns(e.element,"colspan",e.colspan,1),Ns(e.element,"rowspan",e.rowspan,1),Ye(tr,e.element)})),tr})),r=e=>Q(e,(e=>P(e.cells,(col=>(Ns(col.element,"span",col.colspan,1),col.element))))),l=(e,t)=>{const section=((table,e)=>{const section=Tt(table,e).getOrThunk((()=>{const t=je.fromTag(e,Pe(table).dom);return"thead"===e?$s(table,"caption,colgroup",t):"colgroup"===e?$s(table,"caption",t):Ye(table,t),t}));return Ze(section),section})(table,t),n=("colgroup"===t?r:o)(e);Xe(section,n)},c=(e,t)=>{e.length>0?l(e,t):(e=>{Tt(table,e).each(Je)})(t)},d=[],h=[],m=[],f=[];return L(e,(e=>{switch(e.section){case"thead":d.push(e);break;case"tbody":h.push(e);break;case"tfoot":m.push(e);break;case"colgroup":f.push(e)}})),c(f,"colgroup"),c(d,"thead"),c(h,"tbody"),c(m,"tfoot"),{newRows:t,newCells:n}},Fs=(e,t)=>{if(0===e.length)return 0;const n=e[0];return H(e,(e=>!t(n.element,e.element))).getOr(e.length)},Vs=(e,t,n,o)=>{const r=((e,t)=>e[t])(e,t),l="colgroup"===r.section,c=Fs(r.cells.slice(n),o),d=l?1:Fs(((e,t)=>P(e,(e=>to(e,t))))(e.slice(t),n),o);return{colspan:c,rowspan:d}},Hs=(e,t)=>{const n=P(e,(e=>P(e.cells,k)));return P(e,((o,r)=>{const details=Q(o.cells,((o,l)=>{if(!1===n[r][l]){const m=Vs(e,r,l,t);return((e,t,o,r)=>{for(let l=e;l<e+o;l++)for(let e=t;e<t+r;e++)n[l][e]=!0})(r,l,m.rowspan,m.colspan),[(element=o.element,c=m.rowspan,d=m.colspan,h=o.isNew,{element:element,rowspan:c,colspan:d,isNew:h})]}return[];var element,c,d,h}));return((element,e,section,t)=>({element:element,cells:e,section:section,isNew:t}))(o.element,details,o.section,o.isNew)}))},qs=(e,t,n)=>{const o=[];L(e.colgroups,(colgroup=>{const r=[];for(let o=0;o<e.grid.columns;o++){const element=po.getColumnAt(e,o).map((e=>ct(e.element,n,!1))).getOrThunk((()=>ct(t.colGap(),!0,!1)));r.push(element)}o.push(ut(colgroup.element,r,"colgroup",n))}));for(let r=0;r<e.grid.rows;r++){const l=[];for(let o=0;o<e.grid.columns;o++){const element=po.getAt(e,r,o).map((e=>ct(e.element,n,e.isLocked))).getOrThunk((()=>ct(t.gap(),!0,!1)));l.push(element)}const c=e.all[r],d=ut(c.element,l,c.section,n);o.push(d)}return o},Ws=e=>Hs(e,Re),Qs=(e,element)=>X(e.all,(e=>V(e.cells,(e=>Re(element,e.element))))),Us=(e,t,n)=>{const details=P(t.selection,(t=>on(t).bind((t=>Qs(e,t))).filter(n))),o=It(details);return Rt(o.length>0,o)},Ys=(e,t,n,o,r)=>(table,l,c,d)=>{const h=po.fromTable(table),m=j.from(null==d?void 0:d.section).getOrThunk(Ls);return t(h,l).map((t=>{const n=((e,t)=>qs(e,t,!1))(h,c),o=e(n,t,Re,r(c),m),l=lo(o.grid);return{info:t,grid:Ws(o.grid),cursor:o.cursor,lockedColumns:l}})).bind((e=>{const t=zs(table,e.grid),r=j.from(null==d?void 0:d.sizing).getOrThunk((()=>xr(table))),l=j.from(null==d?void 0:d.resize).getOrThunk(xs);return n(table,e.grid,e.info,{sizing:r,resize:l,section:m}),o(table),Se(table,so),e.lockedColumns.length>0&&xe(table,so,e.lockedColumns.join(",")),j.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))},Gs=(e,t)=>Us(e,t,T).map((e=>({cells:e,generators:t.generators,clipboard:t.clipboard}))),Ks=(e,t)=>Us(e,t,T),Xs=(e,t)=>Us(e,t,(e=>!e.isLocked)),Zs=(e,t)=>U(t,(t=>((e,t)=>Qs(e,t).exists((e=>!e.isLocked)))(e,t))),Js=(e,t,n,o)=>{const r=ro(e).rows;let l=!0;for(let i=0;i<r.length;i++)for(let e=0;e<oo(r[0]);e++){const c=r[i],d=to(c,e),h=n(d.element,t);h&&!l?Jn(c,e,ct(o(),!0,d.isLocked)):h&&(l=!1)}return e},ea=(e,t,n,o)=>{const r=ro(e).rows;if(t>0&&t<r.length){const e=((e,t)=>F(e,((e,n)=>B(e,(e=>t(e.element,n.element)))?e:e.concat([n])),[]))(r[t-1].cells,n);L(e,(e=>{let l=j.none();for(let i=t;i<r.length;i++)for(let t=0;t<oo(r[0]);t++){const c=r[i],d=to(c,t);n(d.element,e.element)&&(l.isNone()&&(l=j.some(o())),l.each((sub=>{Jn(c,t,ct(sub,!0,d.isLocked))})))}}))}return e},ta=e=>{const t=t=>t(e),n=A(e),o=()=>output,output={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:T,isError:k,map:t=>oa.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:t=>{t(e)},toOptional:()=>j.some(e)};return output},na=e=>{const t=()=>output,output={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:k,isError:T,map:t,mapError:t=>oa.error(t(e)),bind:t,exists:k,forall:T,getOr:x,or:x,getOrThunk:S,orThunk:S,getOrDie:(n=String(e),()=>{throw new Error(n)}),each:w,toOptional:j.none};var n;return output},oa={value:ta,error:na,fromOption:(e,t)=>e.fold((()=>na(t)),ta)},ra=(e,t)=>({rowDelta:0,colDelta:oo(e[0])-oo(t[0])}),ia=(e,t)=>({rowDelta:e.length-t.length,colDelta:0}),sa=(e,t,n,o)=>{const r="colgroup"===t.section?n.col:n.cell;return M(e,(e=>ct(r(),!0,o(e))))},aa=(e,t,n,o)=>{const r=e[e.length-1];return e.concat(M(t,(()=>{const e="colgroup"===r.section?n.colgroup:n.row,t=io(r,e,x),l=sa(t.cells.length,t,n,(e=>ie(o,e.toString())));return eo(t,l)})))},la=(e,t,n,o)=>P(e,(e=>{const r=sa(t,e,n,k);return Xn(e,o,r)})),ca=(e,t,n)=>{const o=t.colDelta<0?la:x,r=t.rowDelta<0?aa:x,l=lo(e),c=oo(e[0]),d=B(l,(e=>e===c-1)),h=o(e,Math.abs(t.colDelta),n,d?c-1:c),m=lo(h);return r(h,Math.abs(t.rowDelta),n,Y(m,T))},ua=(e,t,col,n)=>{const o=C(n,to(e[t],col).element),r=e[t];return e.length>1&&oo(r)>1&&(col>0&&o(no(r,col-1))||col<r.cells.length-1&&o(no(r,col+1))||t>0&&o(no(e[t-1],col))||t<e.length-1&&o(no(e[t+1],col)))},da=(e,t,n)=>$(n,(n=>n>=e.column&&n<=oo(t[0])+e.column)),ha=(e,t,n,o,r)=>{const l=lo(t),c=((e,t,n)=>{const o=oo(t[0]),r=ro(t).cols.length+e.row,l=M(o-e.column,(t=>t+e.column)),c=V(l,(e=>U(n,(col=>col!==e)))).getOr(o-1);return{row:r,column:c}})(e,t,l),d=ro(n).rows,h=da(c,d,l),m=((e,t,n)=>{if(e.row>=t.length||e.column>oo(t[0]))return oa.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column);const o=t.slice(e.row),r=o[0].cells.slice(e.column),l=oo(n[0]),c=n.length;return oa.value({rowDelta:o.length-c,colDelta:r.length-l})})(c,t,d);return m.map((e=>{const n={...e,colDelta:e.colDelta-h.length},l=ca(t,n,o),m=lo(l),f=da(c,d,m);return((e,t,n,o,r,l)=>{const c=e.row,d=e.column,h=c+n.length,m=d+oo(n[0])+l.length,f=Y(l,T);for(let e=c;e<h;e++){let l=0;for(let h=d;h<m;h++){if(f[h]){l++;continue}ua(t,e,h,r)&&Js(t,no(t[e],h),r,o.cell);const m=h-d-l,v=to(n[e-c],m),y=v.element,w=o.replace(y);Jn(t[e],h,ct(w,!0,v.isLocked))}}return t})(c,l,d,o,r,f)}))},pa=(e,t,n,o,r)=>{((e,t,n,o)=>{t>0&&t<e[0].cells.length&&L(e,(e=>{const r=e.cells[t-1];let l=0;const c=o();for(;e.cells.length>t+l&&n(r.element,e.cells[t+l].element);)Jn(e,t+l,ct(c,!0,e.cells[t+l].isLocked)),l++}))})(t,e,r,o.cell);const l=ia(n,t),c=ca(n,l,o),d=ia(t,c),h=ca(t,d,o);return P(h,((t,i)=>Xn(t,e,c[i].cells)))},ma=(e,t,n,o,r)=>{ea(t,e,r,o.cell);const l=lo(t),c=ra(t,n),d={...c,colDelta:c.colDelta-l.length},h=ca(t,d,o),{cols:m,rows:f}=ro(h),v=lo(h),y=ra(n,t),w={...y,colDelta:y.colDelta+v.length},A=((e,t,n)=>P(e,(e=>F(n,((n,o)=>{const r=sa(1,e,t,T)[0];return Zn(n,o,r)}),e))))(n,o,v),x=ca(A,w,o);return[...m,...f.slice(0,e),...x,...f.slice(e,f.length)]},fa=(e,t,n,o,r)=>{const{rows:l,cols:c}=ro(e),d=l.slice(0,t),h=l.slice(t),m=((e,t,n,o)=>io(e,(e=>o(e,n)),t))(l[n],((e,n)=>t>0&&t<l.length&&o(no(l[t-1],n),no(l[t],n))?to(l[t],n):ct(r(e.element,o),!0,e.isLocked)),o,r);return[...c,...d,m,...h]},ga=(e,t,n,o,r)=>P(e,(e=>{const l=t>0&&t<oo(e)&&o(no(e,t-1),no(e,t)),sub=((e,t,section,n,o,r,l)=>{if("colgroup"!==section&&n)return to(e,t);{const t=to(e,o);return ct(l(t.element,r),!0,!1)}})(e,t,e.section,l,n,o,r);return Zn(e,t,sub)})),ba=(e,t,n,o)=>((e,t,n,o)=>void 0!==no(e[t],n)&&t>0&&o(no(e[t-1],n),no(e[t],n)))(e,t,n,o)||((e,t,n)=>t>0&&n(no(e,t-1),no(e,t)))(e[t],n,o),va=(e,t,n,o)=>{const r=e=>(e=>"row"===e?Xt(t):Kt(t))(e)?`${e}group`:e;if(e)return Cs(t)?r(n):null;if(o&&Cs(t)){return r("row"===n?"col":"row")}return null},ya=(e,t,n)=>ct(n(e.element,t),!0,e.isLocked),wa=(e,t,n,o,r,l,c)=>P(e,((e,d)=>((e,t)=>{const n=e.cells,o=P(n,t);return ut(e.element,o,e.section,e.isNew)})(e,((e,h)=>{if((e=>B(t,(t=>n(e.element,t.element))))(e)){const t=c(e,d,h)?r(e,n,o):e;return l(t,d,h).each((e=>{var element,n;element=t.element,n={scope:j.from(e)},ee(n,((e,t)=>{e.fold((()=>{Se(element,t)}),(e=>{Ae(element.dom,t,e)}))}))})),t}return e})))),Aa=(e,t,n)=>Q(e,((o,i)=>ba(e,i,t,n)?[]:[to(o,t)])),xa=(e,t,n,o,r)=>{const l=ro(e).rows,c=Q(t,(e=>Aa(l,e,o))),d=P(l,(e=>_s(e.cells))),h=((e,t)=>U(t,x)&&_s(e)?T:(e,n,o)=>!("th"===de(e.element)&&t[n]))(c,d),m=((e,t)=>(n,o)=>j.some(va(e,n.element,"row",t[o])))(n,d);return wa(e,c,o,r,ya,m,h)},Oa=(e,t,section,n,o,r,l)=>{const{cols:c,rows:d}=ro(e),h=d[t[0]],m=Q(t,(e=>((e,t,n)=>{const o=e[t];return Q(o.cells,((o,i)=>ba(e,t,i,n)?[]:[o]))})(d,e,o))),f=P(h.cells,((e,t)=>_s(Aa(d,t,o)))),v=[...d];L(t,(e=>{v[e]=l.transformRow(d[e],section)}));const y=[...c,...v],w=((e,t)=>U(t,x)&&_s(e.cells)?T:(e,n,o)=>!("th"===de(e.element)&&t[o]))(h,f),A=((e,t)=>(n,o,r)=>j.some(va(e,n.element,"col",t[r])))(n,f);return wa(y,m,o,r,l.transformCell,A,w)},Ca=(e,details,t,n)=>{const o=ro(e).rows,r=P(details,(e=>to(o[e.row],e.column)));return wa(e,r,t,n,ya,j.none,T)},_a=e=>{if(!c(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return L(e,((o,r)=>{const l=Z(o);if(1!==l.length)throw new Error("one and only one name per case");const d=l[0],h=o[d];if(void 0!==n[d])throw new Error("duplicate key detected:"+d);if("cata"===d)throw new Error("cannot have a case named cata (sorry)");if(!c(h))throw new Error("case arguments must be an array");t.push(d),n[d]=(...n)=>{const o=n.length;if(o!==h.length)throw new Error("Wrong number of arguments to case "+d+". Expected "+h.length+" ("+h+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[r].apply(null,n)},match:e=>{const o=Z(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!U(t,(e=>R(o,e))))throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[d].apply(null,n)},log:label=>{console.log(label,{constructors:t,constructor:d,params:n})}}}})),n},Sa={..._a([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},ka=(input,e,t,n,o)=>{const r=input.slice(0),l=((input,e)=>0===input.length?Sa.none():1===input.length?Sa.only(0):0===e?Sa.left(0,1):e===input.length-1?Sa.right(e-1,e):e>0&&e<input.length-1?Sa.middle(e-1,e,e+1):Sa.none())(input,e),c=A(P(r,A(0)));return l.fold(c,(e=>n.singleColumnWidth(r[e],t)),((e,l)=>o.calcLeftEdgeDeltas(r,e,l,t,n.minCellWidth(),n.isRelative)),((e,l,c)=>o.calcMiddleDeltas(r,e,l,c,t,n.minCellWidth(),n.isRelative)),((e,l)=>o.calcRightEdgeDeltas(r,e,l,t,n.minCellWidth(),n.isRelative)))},Ta=(e,t,n)=>{let o=0;for(let i=e;i<t;i++)o+=void 0!==n[i]?n[i]:0;return o},ja=(e,t)=>{const n=po.justCells(e);return P(n,(e=>{const n=Ta(e.row,e.row+e.rowspan,t);return{element:e.element,height:n,rowspan:e.rowspan}}))},Ea=(e,t)=>po.hasColumns(e)?((e,t)=>{const n=po.justColumns(e);return P(n,((e,n)=>({element:e.element,width:t[n],colspan:e.colspan})))})(e,t):((e,t)=>{const n=po.justCells(e);return P(n,(e=>{const n=Ta(e.column,e.column+e.colspan,t);return{element:e.element,width:n,colspan:e.colspan}}))})(e,t),Da=(e,t,n)=>{const o=Ea(e,t);L(o,(e=>{n.setElementWidth(e.element,e.width)}))},Ia=(table,e,t,n,o)=>{const r=po.fromTable(table),l=o.getCellDelta(e),c=o.getWidths(r,o),d=t===r.grid.columns-1,h=n.clampTableDelta(c,t,l,o.minCellWidth(),d),m=ka(c,t,h,o,n),f=P(m,((e,i)=>e+c[i]));Da(r,f,o),n.resizeTable(o.adjustTableWidth,h,d)},Ra=(table,e,t,n)=>{const o=po.fromTable(table),r=((e,table,t)=>gr(e,table,t,rr,(e=>e.getOrThunk(en))))(o,table,n),l=P(r,((n,i)=>t===i?Math.max(e+n,en()):n)),c=ja(o,l),d=((e,t)=>P(e.all,((e,i)=>({element:e.element,height:t[i]}))))(o,l);L(d,(e=>{Ko(e.element,e.height)})),L(c,(e=>{Ko(e.element,e.height)}));const h=z(l,((b,a)=>b+a),0);Ko(table,h)},Ba=details=>F(details,((e,t)=>B(e,(e=>e.column===t.column))?e:e.concat([t])),[]).sort(((e,t)=>e.column-t.column)),Ma=we("col"),Pa=we("colgroup"),La=element=>"tr"===de(element)||Pa(element),Na=element=>({element:element,colspan:Yt(element,"colspan",1),rowspan:Yt(element,"rowspan",1)}),$a=e=>_e(e,"scope").map((e=>e.substr(0,3))),za=(e,t=Na)=>{const n=element=>{if(La(element))return Pa((data={element:element}).element)?e.colgroup(data):e.row(data);{const n=element,r=(data=>Ma(data.element)?e.col(data):e.cell(data))(t(n));return o=j.some({item:n,replacement:r}),r}var data};let o=j.none();return{getOrInit:(element,e)=>o.fold((()=>n(element)),(p=>e(element,p.item)?p.replacement:n(element)))}},Fa=e=>t=>{const n=[],o=element=>{const o="td"===e?{scope:null}:{},r=t.replace(element,e,o);return n.push({item:element,sub:r}),r};return{replaceOrInit:(element,e)=>{if(La(element)||Ma(element))return element;{const t=element;return((element,e)=>V(n,(t=>e(t.item,element))))(t,e).fold((()=>o(t)),(p=>e(element,p.item)?p.sub:o(t)))}}}},Va=e=>({unmerge:t=>{const n=$a(t);return n.each((e=>xe(t,"scope",e))),()=>{const o=e.cell({element:t,colspan:1,rowspan:1});return Ut(o,"width"),Ut(t,"width"),n.each((e=>xe(o,"scope",e))),o}},merge:e=>(Ut(e[0],"width"),(()=>{const t=It(P(e,$a));if(0===t.length)return j.none();{const e=t[0],n=["row","col"];return B(t,(t=>t!==e&&R(n,t)))?j.none():j.from(e)}})().fold((()=>Se(e[0],"scope")),(t=>xe(e[0],"scope",t+"group"))),A(e[0]))}),Ha=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],qa=Di(),Wa=element=>((e,t)=>{const n=e.property().name(t);return R(Ha,n)})(qa,element),Qa=element=>((e,t)=>{const n=e.property().name(t);return R(["ol","ul"],n)})(qa,element),Ua=element=>((e,t)=>R(["br","img","hr","input"],e.property().name(t)))(qa,element),Ya=e=>{const t=we("br"),n=e=>Mr(e).bind((n=>{const o=Ve(n).map((e=>!!Wa(e)||!!Ua(e)&&"img"!==de(e))).getOr(!1);return Ne(n).map((r=>!0===o||(e=>"li"===de(e)||_t(e,Qa).isSome())(r)||t(n)||Wa(r)&&!Re(e,r)?[]:[je.fromTag("br")]))})).getOr([]),o=(()=>{const content=Q(e,(e=>{const o=He(e);return(e=>U(e,(e=>t(e)||be(e)&&0===Tr(e).trim().length)))(o)?[]:o.concat(n(e))}));return 0===content.length?[je.fromTag("br")]:content})();Ze(e[0]),Xe(e[0],o)},Ga=e=>di(e,!0),Ka=table=>{0===rn(table).length&&Je(table)},Xa=(e,cursor)=>({grid:e,cursor:cursor}),Za=(e,t,n)=>{var o,r;const l=ro(e).rows;return j.from(null===(r=null===(o=l[t])||void 0===o?void 0:o.cells[n])||void 0===r?void 0:r.element).filter(Ga).orThunk((()=>(e=>X(e,(e=>X(e.cells,(e=>{const t=e.element;return Rt(Ga(t),t)})))))(l)))},Ja=(e,t,n)=>{const o=Za(e,t,n);return Xa(e,o)},el=details=>F(details,((e,t)=>B(e,(e=>e.row===t.row))?e:e.concat([t])),[]).sort(((e,t)=>e.row-t.row)),tl=(section,e)=>(t,details,n,o,r)=>{const l=el(details),c=P(l,(e=>e.row)),d=Oa(t,c,section,e,n,o.replaceOrInit,r);return Ja(d,details[0].row,details[0].column)},nl=tl("thead",!0),rl=tl("tbody",!1),il=tl("tfoot",!1),sl=(e,t,n)=>{const o=((e,section)=>cn(e,(()=>section)))(e,n.section),r=po.generate(o);return qs(r,t,!0)},al=(table,e,details,t)=>((e,t,n,o)=>{const r=po.generate(t),l=o.getWidths(r,o);Da(r,l,o)})(0,e,0,t.sizing),ll=(table,e,details,t)=>((e,t,details,n,o)=>{const r=po.generate(t),l=n.getWidths(r,n),c=n.pixelWidth(),{newSizes:d,delta:h}=o.calcRedestributedWidths(l,c,details.pixelDelta,n.isRelative);Da(r,d,n),n.adjustTableWidth(h)})(0,e,details,t.sizing,t.resize),cl=(e,details)=>B(details,(e=>0===e.column&&e.isLocked)),hl=(e,details)=>B(details,(t=>t.column+t.colspan>=e.grid.columns&&t.isLocked)),pl=(e,details)=>{const t=mo(e),n=Ba(details);return F(n,((e,n)=>e+t[n.column].map(Yn).getOr(0)),0)},ml=e=>(t,n)=>Ks(t,n).filter((details=>!(e?cl:hl)(t,details))).map((details=>({details:details,pixelDelta:pl(t,details)}))),fl=e=>(t,n)=>Gs(t,n).filter((details=>!(e?cl:hl)(t,details.cells))),gl=Fa("th"),bl=Fa("td"),vl=Ys(((e,details,t,n)=>{const o=details[0].row,r=el(details),l=z(r,((e,r)=>({grid:fa(e.grid,o,r.row+e.delta,t,n.getOrInit),delta:e.delta+1})),{grid:e,delta:0}).grid;return Ja(l,o,details[0].column)}),Ks,w,w,za),yl=Ys(((e,details,t,n)=>{const o=el(details),r=o[o.length-1],l=r.row+r.rowspan,c=z(o,((e,o)=>fa(e,l,o.row,t,n.getOrInit)),e);return Ja(c,l,details[0].column)}),Ks,w,w,za),wl=Ys(((e,t,n,o)=>{const details=t.details,r=Ba(details),l=r[0].column,c=z(r,((e,col)=>({grid:ga(e.grid,l,col.column+e.delta,n,o.getOrInit),delta:e.delta+1})),{grid:e,delta:0}).grid;return Ja(c,details[0].row,l)}),ml(!0),ll,w,za),Al=Ys(((e,t,n,o)=>{const details=t.details,r=details[details.length-1],l=r.column+r.colspan,c=Ba(details),d=z(c,((e,col)=>ga(e,l,col.column,n,o.getOrInit)),e);return Ja(d,details[0].row,l)}),ml(!1),ll,w,za),xl=Ys(((e,t,n,o)=>{const r=Ba(t.details),l=((e,t)=>Q(e,(e=>{const n=e.cells,o=z(t,((e,t)=>t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e),n);return o.length>0?[ut(e.element,o,e.section,e.isNew)]:[]})))(e,P(r,(e=>e.column))),c=l.length>0?l[0].cells.length-1:0;return Ja(l,r[0].row,Math.min(r[0].column,c))}),((e,t)=>Xs(e,t).map((details=>({details:details,pixelDelta:-pl(e,details)})))),ll,Ka,za),Ol=Ys(((e,details,t,n)=>{const o=el(details),r=((e,t,n)=>{const{rows:o,cols:r}=ro(e);return[...r,...o.slice(0,t),...o.slice(n+1)]})(e,o[0].row,o[o.length-1].row),l=r.length>0?r.length-1:0;return Ja(r,Math.min(details[0].row,l),details[0].column)}),Ks,w,Ka,za),Cl=Ys(((e,details,t,n)=>{const o=Ba(details),r=P(o,(e=>e.column)),l=xa(e,r,!0,t,n.replaceOrInit);return Ja(l,details[0].row,details[0].column)}),Xs,w,w,gl),_l=Ys(((e,details,t,n)=>{const o=Ba(details),r=P(o,(e=>e.column)),l=xa(e,r,!1,t,n.replaceOrInit);return Ja(l,details[0].row,details[0].column)}),Xs,w,w,bl),Sl=Ys(nl,Xs,w,w,gl),kl=Ys(rl,Xs,w,w,bl),Tl=Ys(il,Xs,w,w,bl),jl=Ys(((e,details,t,n)=>{const o=Ca(e,details,t,n.replaceOrInit);return Ja(o,details[0].row,details[0].column)}),Xs,w,w,gl),El=Ys(((e,details,t,n)=>{const o=Ca(e,details,t,n.replaceOrInit);return Ja(o,details[0].row,details[0].column)}),Xs,w,w,bl),Dl=Ys(((e,t,n,o)=>{const r=t.cells;Ya(r);const l=((e,t,n,o)=>{const r=ro(e).rows;if(0===r.length)return e;for(let i=t.startRow;i<=t.finishRow;i++)for(let e=t.startCol;e<=t.finishCol;e++){const t=r[i],n=to(t,e).isLocked;Jn(t,e,ct(o(),!1,n))}return e})(e,t.bounds,0,o.merge(r));return Xa(l,j.from(r[0]))}),((e,t)=>((e,t)=>t.mergable)(0,t).filter((t=>Zs(e,t.cells)))),al,w,Va),Il=Ys(((e,t,n,o)=>{const r=z(t,((b,e)=>Js(b,e,n,o.unmerge(e))),e);return Xa(r,j.from(t[0]))}),((e,t)=>((e,t)=>t.unmergable)(0,t).filter((t=>Zs(e,t)))),al,w,Va),Rl=Ys(((e,t,n,o)=>{const r=((table,e)=>{const t=po.fromTable(table);return qs(t,e,!0)})(t.clipboard,t.generators),l=((e,t)=>({row:e,column:t}))(t.row,t.column);return ha(l,e,r,t.generators,n).fold((()=>Xa(e,j.some(t.element))),(e=>Ja(e,t.row,t.column)))}),((e,t)=>on(t.element).bind((n=>Qs(e,n).map((details=>({...details,generators:t.generators,clipboard:t.clipboard})))))),al,w,za),Bl=Ys(((e,t,n,o)=>{const r=ro(e).rows,l=t.cells[0].column,c=r[t.cells[0].row],d=sl(t.clipboard,t.generators,c),h=pa(l,e,d,t.generators,n);return Ja(h,t.cells[0].row,t.cells[0].column)}),fl(!0),w,w,za),Ml=Ys(((e,t,n,o)=>{const r=ro(e).rows,l=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,c=r[t.cells[0].row],d=sl(t.clipboard,t.generators,c),h=pa(l,e,d,t.generators,n);return Ja(h,t.cells[0].row,t.cells[0].column)}),fl(!1),w,w,za),Pl=Ys(((e,t,n,o)=>{const r=ro(e).rows,l=t.cells[0].row,c=r[l],d=sl(t.clipboard,t.generators,c),h=ma(l,e,d,t.generators,n);return Ja(h,t.cells[0].row,t.cells[0].column)}),Gs,w,w,za),Ll=Ys(((e,t,n,o)=>{const r=ro(e).rows,l=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,c=r[t.cells[0].row],d=sl(t.clipboard,t.generators,c),h=ma(l,e,d,t.generators,n);return Ja(h,t.cells[0].row,t.cells[0].column)}),Gs,w,w,za),Nl=(table,e)=>{const t=po.fromTable(table);return Ks(t,e).bind((e=>{const n=e[e.length-1],o=e[0].column,r=n.column+n.colspan,l=W(P(t.all,(e=>$(e.cells,(e=>e.column>=o&&e.column<r)))));return Ts(l)})).getOr("")},$l=(table,e)=>{const t=po.fromTable(table);return Ks(t,e).bind(Ts).getOr("")},zl=(table,e)=>{const t=po.fromTable(table);return Ks(t,e).bind((e=>{const n=e[e.length-1],o=e[0].row,r=n.row+n.rowspan;return(e=>{const t=P(e,(e=>ks(e).type)),n=R(t,"header"),o=R(t,"footer");if(n||o){const e=R(t,"body");return!n||e||o?n||e||!o?j.none():j.some("footer"):j.some("header")}return j.some("body")})(t.all.slice(o,r))})).getOr("")},Fl=(e,t)=>e.dispatch("NewRow",{node:t}),Vl=(e,t)=>e.dispatch("NewCell",{node:t}),Hl=(e,table,data)=>{e.dispatch("TableModified",{...data,table:table})},ql={structure:!1,style:!0},Wl={structure:!0,style:!1},Ql={structure:!0,style:!0},Ul=(e,table)=>ei(e)?Cr(table):ti(e)?Or(table):xr(table),Yl=(e,t,n)=>{const o=e=>"table"===de(pi(e)),r=Yr(e),l=Zr(e)?w:fs,c=table=>{switch(Gr(e)){case"section":return Bs();case"sectionCells":return Ms();case"cells":return Ps();default:return Rs(table,"section")}},d=(table,t)=>t.cursor.fold((()=>{const t=rn(table);return head(t).filter(vt).map((t=>{n.clearSelectedCells(table.dom);const o=e.dom.createRng();return o.selectNode(t.dom),e.selection.setRng(o),xe(t,"data-mce-selected","1"),o}))}),(t=>{const o=ps(ms,t);const r=e.dom.createRng();return r.setStart(o.element.dom,o.offset),r.setEnd(o.element.dom,o.offset),e.selection.setRng(r),n.clearSelectedCells(table.dom),j.some(r)})),h=(n,o,l,h)=>(table,m,f=!1)=>{fi(table);const v=je.fromDom(e.getDoc()),y=qr(l,v,r),w={sizing:Ul(e,table),resize:Zr(e)?As():xs(),section:c(table)};return o(table)?n(table,m,y,w).bind((n=>{t.refresh(table.dom),L(n.newRows,(t=>{Fl(e,t.dom)})),L(n.newCells,(t=>{Vl(e,t.dom)}));const o=d(table,n);return vt(table)&&(fi(table),f||Hl(e,table.dom,h)),o.map((e=>({rng:e,effect:h})))})):j.none()},m=h(Ol,(table=>!o(e)||Os(table).rows>1),w,Wl),f=h(xl,(table=>!o(e)||Os(table).columns>1),w,Wl);return{deleteRow:m,deleteColumn:f,insertRowsBefore:h(vl,T,w,Wl),insertRowsAfter:h(yl,T,w,Wl),insertColumnsBefore:h(wl,T,l,Wl),insertColumnsAfter:h(Al,T,l,Wl),mergeCells:h(Dl,T,w,Wl),unmergeCells:h(Il,T,w,Wl),pasteColsBefore:h(Bl,T,w,Wl),pasteColsAfter:h(Ml,T,w,Wl),pasteRowsBefore:h(Pl,T,w,Wl),pasteRowsAfter:h(Ll,T,w,Wl),pasteCells:h(Rl,T,w,Ql),makeCellsHeader:h(jl,T,w,Wl),unmakeCellsHeader:h(El,T,w,Wl),makeColumnsHeader:h(Cl,T,w,Wl),unmakeColumnsHeader:h(_l,T,w,Wl),makeRowsHeader:h(Sl,T,w,Wl),makeRowsBody:h(kl,T,w,Wl),makeRowsFooter:h(Tl,T,w,Wl),getTableRowType:zl,getTableCellType:$l,getTableColType:Nl}},Gl=(element,e,t)=>{const n=Yt(element,e,1);1===t||n<=1?Se(element,e):xe(element,e,Math.min(t,n))},Kl=(e,t)=>n=>{const o=n.column+n.colspan-1,r=n.column;return o>=e&&r<t},Xl=(table,e)=>{const t=po.fromTable(table);return Xs(t,e).map((e=>{const n=e[e.length-1],o=e[0].column,r=n.column+n.colspan,l=((e,t,n)=>{if(po.hasColumns(e)){const o=$(po.justColumns(e),Kl(t,n)),r=P(o,(e=>{const o=ot(e.element);return Gl(o,"span",n-t),o})),l=je.fromTag("colgroup");return Xe(l,r),[l]}return[]})(t,o,r),c=((e,t,n)=>P(e.all,(e=>{const o=$(e.cells,Kl(t,n)),r=P(o,(e=>{const o=ot(e.element);return Gl(o,"colspan",n-t),o})),l=je.fromTag("tr");return Xe(l,r),l})))(t,o,r);return[...l,...c]}))},Zl=(table,e,t)=>{const n=po.fromTable(table);return Ks(n,e).bind((e=>{const o=qs(n,t,!1),r=ro(o).rows.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),l=Q(r,(e=>{const t=$(e.cells,(e=>!e.isLocked));return t.length>0?[{...e,cells:t}]:[]})),c=Ws(l);return Rt(c.length>0,c)})).map((e=>(e=>P(e,(e=>{const tr=nt(e.element);return L(e.cells,(e=>{const t=ot(e.element);Ns(t,"colspan",e.colspan,1),Ns(t,"rowspan",e.rowspan,1),Ye(tr,t)})),tr})))(e)))},Jl=_a([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),ec=(e,t,n)=>{const o=n.substring(0,n.length-e.length),r=parseFloat(o);return o===r.toString()?t(r):Jl.invalid(n)},tc={...Jl,from:e=>Lt(e,"%")?ec("%",Jl.percent,e):Lt(e,"px")?ec("px",Jl.pixels,e):Jl.invalid(e)},nc=(e,t,n)=>e.fold((()=>t),(e=>((e,t,n)=>{const o=n/t;return P(e,(e=>tc.from(e).fold((()=>e),(e=>e*o+"px"),(e=>e/100*n+"px"))))})(t,n,e)),(e=>((e,t)=>P(e,(e=>tc.from(e).fold((()=>e),(e=>e/t*100+"%"),(e=>e+"%")))))(t,n))),oc=(e,t,n)=>{const o=tc.from(n),r=U(e,(s=>"0px"===s))?((e,t)=>{const n=e.fold((()=>A("")),(e=>A(e/t+"px")),(()=>A(100/t+"%")));return M(t,n)})(o,e.length):nc(o,e,t);return sc(r)},rc=(e,t)=>0===e.length?t:z(e,((e,t)=>tc.from(t).fold(A(0),x,x)+e),0),ic=(e,t)=>tc.from(e).fold(A(e),(e=>e+t+"px"),(e=>e+t+"%")),sc=e=>{if(0===e.length)return e;const t=z(e,((e,t)=>{const n=tc.from(t).fold((()=>({value:t,remainder:0})),(e=>((e,t)=>{const n=Math.floor(e);return{value:n+t,remainder:e-n}})(e,"px")),(e=>({value:e+"%",remainder:0})));return{output:[n.value].concat(e.output),remainder:e.remainder+n.remainder}}),{output:[],remainder:0}),n=t.output;return n.slice(0,n.length-1).concat([ic(n[n.length-1],Math.round(t.remainder))])},ac=tc.from,lc=e=>ac(e).fold(A("px"),A("px"),A("%")),cc=(table,e,t)=>{const n=po.fromTable(table),o=n.all,r=po.justCells(n),l=po.justColumns(n);e.each((e=>{const t=lc(e),o=Un(table),c=((e,table)=>pr(e,table,cr,mr))(n,table),d=oc(c,o,e);po.hasColumns(n)?((e,t,n)=>{L(t,((t,o)=>{const r=rc([e[o]],Jt());Vt(t.element,"width",r+n)}))})(d,l,t):((e,t,n)=>{L(t,(t=>{const o=e.slice(t.column,t.colspan+t.column),r=rc(o,Jt());Vt(t.element,"width",r+n)}))})(d,r,t),Vt(table,"width",e)})),t.each((e=>{const t=lc(e),l=Ao(table),c=((e,table,t)=>gr(e,table,t,ur,mr))(n,table,$o);((e,t,n,o)=>{L(n,(t=>{const n=e.slice(t.row,t.rowspan+t.row),r=rc(n,en());Vt(t.element,"height",r+o)})),L(t,((t,i)=>{Vt(t.element,"height",e[i])}))})(oc(c,l,e),o,r,t),Vt(table,"height",e)}))},uc=table=>er(table).exists((e=>qo.test(e))),dc=table=>er(table).exists((e=>Wo.test(e))),hc=table=>er(table).isNone(),pc=element=>{Se(element,"width")},mc=table=>{const e=sr(table);cc(table,j.some(e),j.none()),pc(table)},fc=table=>{const e=(table=>Un(table)+"px")(table);cc(table,j.some(e),j.none()),pc(table)},gc=table=>{Ut(table,"width");const e=sn(table),t=e.length>0?e:rn(table);L(t,(e=>{Ut(e,"width"),pc(e)})),pc(table)},bc={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},vc=e=>{const t=je.fromTag("colgroup");return M(e,(()=>Ye(t,je.fromTag("col")))),t},yc=(e,t,n,o)=>M(e,(e=>((e,t,n,o)=>{const tr=je.fromTag("tr");for(let r=0;r<e;r++){const td=o<t||r<n?je.fromTag("th"):je.fromTag("td");r<n&&xe(td,"scope","row"),o<t&&xe(td,"scope","col"),Ye(td,je.fromTag("br")),Ye(tr,td)}return tr})(t,n,o,e))),wc=(e,t)=>{e.selection.select(t.dom,!0),e.selection.collapse(!0)},Ac=(e,t,n,o,l)=>{const c=ai(e),d={styles:c,attributes:si(e),colGroups:ci(e)};return e.undoManager.ignore((()=>{const table=((e,t,n,o,r,l=bc)=>{const table=je.fromTag("table"),c="cells"!==r;Ht(table,l.styles),Oe(table,l.attributes),l.colGroups&&Ye(table,vc(t));const d=Math.min(e,n);if(c&&n>0){const thead=je.fromTag("thead");Ye(table,thead);const e=yc(n,t,"sectionCells"===r?d:0,o);Xe(thead,e)}const tbody=je.fromTag("tbody");Ye(table,tbody);const h=yc(c?e-d:e,t,c?0:n,o);return Xe(tbody,h),table})(n,t,l,o,Gr(e),d);xe(table,"data-mce-id","__mce");const html=(element=>{const e=je.fromTag("div"),t=je.fromDom(element.dom.cloneNode(!0));return Ye(e,t),(element=>element.dom.innerHTML)(e)})(table);e.insertContent(html),e.addVisual()})),jt(pi(e),'table[data-mce-id="__mce"]').map((table=>(ti(e)?fc(table):ni(e)?gc(table):(ei(e)||(e=>r(e)&&-1!==e.indexOf("%"))(c.width))&&mc(table),fi(table),Se(table,"data-mce-id"),((e,table)=>{L(Ot(table,"tr"),(t=>{Fl(e,t.dom),L(Ot(t,"th,td"),(t=>{Vl(e,t.dom)}))}))})(e,table),((e,t)=>{jt(t,"td,th").each(C(wc,e))})(e,table),table.dom))).getOrNull()};var xc=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Oc="x-tinymce/dom-table-",Cc=Oc+"rows",_c=Oc+"columns",Sc=e=>{const t=xc.FakeClipboardItem(e);xc.write([t])},kc=e=>{var t;const n=null!==(t=xc.read())&&void 0!==t?t:[];return X(n,(t=>j.from(t.getType(e))))},Tc=e=>{kc(e).isSome()&&xc.clear()},jc=e=>{e.fold(Dc,(e=>Sc({[Cc]:e})))},Ec=()=>kc(Cc),Dc=()=>Tc(Cc),Ic=e=>{e.fold(Bc,(e=>Sc({[_c]:e})))},Rc=()=>kc(_c),Bc=()=>Tc(_c),Mc=e=>is(gi(e),mi(e)).filter(yi),Pc=(e,t)=>{const n=mi(e),o=e=>table(e,n),c=t=>(e=>ss(gi(e),mi(e)).filter(yi))(e).bind((e=>o(e).map((table=>t(table,e))))),d=t=>{e.focus()},h=(t,n=!1)=>c(((table,o)=>{const r=os(as(e),table,o);t(table,r,n).each(d)})),m=()=>c(((table,t)=>{const n=os(as(e),table,t),o=qr(w,je.fromDom(e.getDoc()),j.none());return Zl(table,n,o)})),f=()=>c(((table,t)=>{const n=os(as(e),table,t);return Xl(table,n)})),v=(t,n)=>n().each((n=>{const o=P(n,(e=>ot(e)));c(((table,n)=>{const r=Wr(je.fromDom(e.getDoc())),l=((e,t,n,o)=>({selection:Wi(e),clipboard:n,generators:o}))(as(e),0,o,r);t(table,l).each(d)}))})),A=e=>(t,n)=>((e,t)=>ie(e,t)?j.from(e[t]):j.none())(n,"type").each((t=>{h(e(t),n.no_events)}));ee({mceTableSplitCells:()=>h(t.unmergeCells),mceTableMergeCells:()=>h(t.mergeCells),mceTableInsertRowBefore:()=>h(t.insertRowsBefore),mceTableInsertRowAfter:()=>h(t.insertRowsAfter),mceTableInsertColBefore:()=>h(t.insertColumnsBefore),mceTableInsertColAfter:()=>h(t.insertColumnsAfter),mceTableDeleteCol:()=>h(t.deleteColumn),mceTableDeleteRow:()=>h(t.deleteRow),mceTableCutCol:()=>f().each((e=>{Ic(e),h(t.deleteColumn)})),mceTableCutRow:()=>m().each((e=>{jc(e),h(t.deleteRow)})),mceTableCopyCol:()=>f().each((e=>Ic(e))),mceTableCopyRow:()=>m().each((e=>jc(e))),mceTablePasteColBefore:()=>v(t.pasteColsBefore,Rc),mceTablePasteColAfter:()=>v(t.pasteColsAfter,Rc),mceTablePasteRowBefore:()=>v(t.pasteRowsBefore,Ec),mceTablePasteRowAfter:()=>v(t.pasteRowsAfter,Ec),mceTableDelete:()=>Mc(e).each((t=>{table(t,n).filter(_(n)).each((table=>{const cursor=je.fromText("");if(Qe(table,cursor),Je(table),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{const t=e.dom.createRng();t.setStart(cursor.dom,0),t.setEnd(cursor.dom,0),e.selection.setRng(t),e.nodeChanged()}}))})),mceTableCellToggleClass:(t,n)=>{c((table=>{const t=as(e),o=U(t,(t=>e.formatter.match("tablecellclass",{value:n},t.dom))),r=o?e.formatter.remove:e.formatter.apply;L(t,(e=>r("tablecellclass",{value:n},e.dom))),Hl(e,table.dom,ql)}))},mceTableToggleClass:(t,n)=>{c((table=>{e.formatter.toggle("tableclass",{value:n},table.dom),Hl(e,table.dom,ql)}))},mceTableToggleCaption:()=>{Mc(e).each((t=>{table(t,n).each((table=>{Tt(table,"caption").fold((()=>{const caption=je.fromTag("caption");Ye(caption,je.fromText("Caption")),((e,element,t)=>{qe(e,t).fold((()=>{Ye(e,element)}),(e=>{We(e,element)}))})(table,caption,0),e.selection.setCursorLocation(caption.dom,0)}),(caption=>{we("caption")(t)&&Ie("td",table).each((td=>e.selection.setCursorLocation(td.dom,0))),Je(caption)})),Hl(e,table.dom,Wl)}))}))},mceTableSizingMode:(t,o)=>(t=>Mc(e).each((o=>{ni(e)||ti(e)||ei(e)||table(o,n).each((table=>{"relative"!==t||uc(table)?"fixed"!==t||dc(table)?"responsive"!==t||hc(table)||gc(table):fc(table):mc(table),fi(table),Hl(e,table.dom,Wl)}))})))(o),mceTableCellType:A((e=>"th"===e?t.makeCellsHeader:t.unmakeCellsHeader)),mceTableColType:A((e=>"th"===e?t.makeColumnsHeader:t.unmakeColumnsHeader)),mceTableRowType:A((e=>{switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}}))},((t,n)=>e.addCommand(n,t))),e.addCommand("mceInsertTable",((t,n)=>{((e,t,n,o={})=>{const r=e=>y(e)&&e>0;if(r(t)&&r(n)){const r=o.headerRows||0,l=o.headerColumns||0;return Ac(e,n,t,l,r)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(e,n.rows,n.columns,n.options)})),e.addCommand("mceTableApplyCellStyle",((t,n)=>{const c=style=>"tablecell"+style.toLowerCase().replace("-","");if(!l(n))return;const d=$(as(e),yi);if(0===d.length)return;const h=ne(n,((t,style)=>e.formatter.has(c(style))&&r(t)));(e=>{for(const t in e)if(J.call(e,t))return!1;return!0})(h)||(ee(h,((t,style)=>{const n=c(style);L(d,(o=>{""===t?e.formatter.remove(n,{value:null},o.dom,!0):e.formatter.apply(n,{value:t},o.dom)}))})),o(d[0]).each((table=>Hl(e,table.dom,ql))))}))},Lc=_a([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Nc={before:Lc.before,on:Lc.on,after:Lc.after,cata:(e,t,n,o)=>e.fold(t,n,o),getStart:e=>e.fold(x,x,x)},$c=(e,t)=>({selection:e,kill:t}),zc=(e,element)=>{const t=e.document.createRange();return t.selectNode(element.dom),t},Fc=(e,element)=>{const t=e.document.createRange();return Vc(t,element),t},Vc=(e,element)=>e.selectNodeContents(element.dom),Hc=(e,t,n)=>{const o=e.document.createRange();var r;return r=o,t.fold((e=>{r.setStartBefore(e.dom)}),((e,t)=>{r.setStart(e.dom,t)}),(e=>{r.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))})(o,n),o},qc=(e,t,n,o,r)=>{const l=e.document.createRange();return l.setStart(t.dom,n),l.setEnd(o.dom,r),l},Wc=rect=>({left:rect.left,top:rect.top,right:rect.right,bottom:rect.bottom,width:rect.width,height:rect.height}),Qc=_a([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Uc=(e,t,n)=>t(je.fromDom(n.startContainer),n.startOffset,je.fromDom(n.endContainer),n.endOffset),Yc=(e,t)=>{const n=((e,t)=>t.match({domRange:e=>({ltr:A(e),rtl:j.none}),relative:(t,n)=>({ltr:hn((()=>Hc(e,t,n))),rtl:hn((()=>j.some(Hc(e,n,t))))}),exact:(t,n,o,r)=>({ltr:hn((()=>qc(e,t,n,o,r))),rtl:hn((()=>j.some(qc(e,o,r,t,n))))})}))(e,t);return((e,t)=>{const n=t.ltr();if(n.collapsed)return t.rtl().filter((e=>!1===e.collapsed)).map((e=>Qc.rtl(je.fromDom(e.endContainer),e.endOffset,je.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>Uc(0,Qc.ltr,n)));return Uc(0,Qc.ltr,n)})(0,n)},Gc=(e,t)=>Yc(e,t).match({ltr:(t,n,o,r)=>{const l=e.document.createRange();return l.setStart(t.dom,n),l.setEnd(o.dom,r),l},rtl:(t,n,o,r)=>{const l=e.document.createRange();return l.setStart(o.dom,r),l.setEnd(t.dom,n),l}});Qc.ltr,Qc.rtl;const Kc=(e,t,n,o)=>({start:e,soffset:t,finish:n,foffset:o}),Xc=(e,t,n,o)=>({start:Nc.on(e,t),finish:Nc.on(n,o)}),Zc=(e,t)=>{const n=Gc(e,t);return Kc(je.fromDom(n.startContainer),n.startOffset,je.fromDom(n.endContainer),n.endOffset)},Jc=Xc,eu=(e,t,n,o,r)=>Re(n,o)?j.none():$i(n,o,t).bind((t=>{const o=t.boxes.getOr([]);return o.length>1?(r(e,o,t.start,t.finish),j.some($c(j.some(Jc(n,0,n,Dr(n))),!0))):j.none()})),tu=(e,t)=>({item:e,mode:t}),nu=(e,t,n,o=ou)=>e.property().parent(t).map((p=>tu(p,o))),ou=(e,t,n,o=ru)=>n.sibling(e,t).map((p=>tu(p,o))),ru=(e,t,n,o=ru)=>{const r=e.property().children(t);return n.first(r).map((e=>tu(e,o)))},iu=[{current:nu,next:ou,fallback:j.none()},{current:ou,next:ru,fallback:j.some(nu)},{current:ru,next:ru,fallback:j.some(ou)}],su=(e,t,n,o,r=iu)=>V(r,(e=>e.current===n)).bind((n=>n.current(e,t,o,n.next).orThunk((()=>n.fallback.bind((n=>su(e,t,n,o))))))),au=()=>({sibling:(e,t)=>e.query().prevSibling(t),first:e=>e.length>0?j.some(e[e.length-1]):j.none()}),lu=()=>({sibling:(e,t)=>e.query().nextSibling(t),first:e=>e.length>0?j.some(e[0]):j.none()}),cu=(e,t,n,o,r,l)=>su(e,t,o,r).bind((t=>l(t.item)?j.none():n(t.item)?j.some(t.item):cu(e,t.item,n,t.mode,r,l))),uu=e=>element=>0===e.property().children(element).length,du=(e,t,n,o)=>cu(e,t,n,ou,au(),o),hu=(e,t,n,o)=>cu(e,t,n,ou,lu(),o),pu=Di(),mu=(element,e)=>((e,t,n)=>du(e,t,uu(e),n))(pu,element,e),fu=(element,e)=>((e,t,n)=>hu(e,t,uu(e),n))(pu,element,e),gu=_a([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),bu=e=>Et(e,"tr"),vu={...gu,verify:(e,t,n,o,r,l,c)=>Et(o,"td,th",c).bind((n=>Et(t,"td,th",c).map((t=>Re(n,t)?Re(o,n)&&Dr(n)===r?l(t):gu.none("in same cell"):Li(bu,[n,t]).fold((()=>((e,t,n)=>{const o=e.getRect(t),r=e.getRect(n);return r.right>o.left&&r.left<o.right})(e,t,n)?gu.success():l(t)),(e=>l(t))))))).getOr(gu.none("default")),cata:(e,t,n,o,r)=>e.fold(t,n,o,r)},yu=(e,element)=>H(e,C(Re,element)),wu=we("br"),Au=(e,t,n)=>t(e,n).bind((e=>be(e)&&0===Tr(e).trim().length?Au(e,t,n):j.some(e))),xu=(e,element,t,n)=>((element,e)=>qe(element,e).filter(wu).orThunk((()=>qe(element,e-1).filter(wu))))(element,t).bind((br=>n.traverse(br).fold((()=>Au(br,n.gather,e).map(n.relative)),(e=>(element=>Ne(element).bind((e=>{const t=He(e);return yu(t,element).map((n=>((e,t,element,n)=>({parent:e,children:t,element:element,index:n}))(e,t,element,n)))})))(e).map((e=>Nc.on(e.parent,e.index))))))),Ou=(e,element,t,n)=>{const o=wu(element)?((e,element,t)=>t.traverse(element).orThunk((()=>Au(element,t.gather,e))).map(t.relative))(e,element,n):xu(e,element,t,n);return o.map((e=>({start:e,finish:e})))},Cu=(e,t)=>({left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}),_u=(e,t)=>({left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}),Su=(e,t,n)=>({left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n}),ku=rect=>({left:rect.left,top:rect.top,right:rect.right,bottom:rect.bottom}),Tu=(e,element)=>j.some(e.getRect(element)),ju=(e,element,t)=>ge(element)?Tu(e,element).map(ku):be(element)?((e,element,t)=>t>=0&&t<Dr(element)?e.getRangedRect(element,t,element,t+1):t>0?e.getRangedRect(element,t-1,element,t):j.none())(e,element,t).map(ku):j.none(),Eu=(e,element)=>ge(element)?Tu(e,element).map(ku):be(element)?e.getRangedRect(element,0,element,Dr(element)).map(ku):j.none(),Du=_a([{none:[]},{retry:["caret"]}]),Iu=(e,element,t)=>St(element,Wa).fold(k,(n=>Eu(e,n).exists((e=>((e,t)=>e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right)(t,e))))),Ru={point:e=>e.bottom,adjuster:(e,element,t,n,o)=>{const r=Cu(o,5);return Math.abs(t.bottom-n.bottom)<1||t.top>o.bottom?Du.retry(r):t.top===o.bottom?Du.retry(Cu(o,1)):Iu(e,element,o)?Du.retry(Su(r,5,0)):Du.none()},move:Cu,gather:fu},Bu=(e,t,n,o,r)=>0===r?j.some(o):((e,t,n)=>e.elementFromPoint(t,n).filter((e=>"table"===de(e))).isSome())(e,o.left,t.point(o))?((e,t,n,o,r)=>Bu(e,t,n,t.move(o,5),r))(e,t,n,o,r-1):e.situsFromPoint(o.left,t.point(o)).bind((l=>l.start.fold(j.none,(element=>Eu(e,element).bind((l=>t.adjuster(e,element,l,n,o).fold(j.none,(o=>Bu(e,t,n,o,r-1))))).orThunk((()=>j.some(o)))),j.none))),Mu=(e,t,n)=>{const o=e.move(n,5),r=Bu(t,e,n,o,100).getOr(o);return((e,t,n)=>e.point(t)>n.getInnerHeight()?j.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?j.some(-e.point(t)):j.none())(e,r,t).fold((()=>t.situsFromPoint(r.left,e.point(r))),(n=>(t.scrollBy(0,n),t.situsFromPoint(r.left,e.point(r)-n))))},Pu={tryUp:C(Mu,{point:e=>e.top,adjuster:(e,element,t,n,o)=>{const r=_u(o,5);return Math.abs(t.top-n.top)<1||t.bottom<o.top?Du.retry(r):t.bottom===o.top?Du.retry(_u(o,1)):Iu(e,element,o)?Du.retry(Su(r,5,0)):Du.none()},move:_u,gather:mu}),tryDown:C(Mu,Ru),getJumpSize:A(5)},Lu=(e,t,n)=>e.getSelection().bind((o=>Ou(t,o.finish,o.foffset,n).fold((()=>j.some(cs(o.finish,o.foffset))),(r=>{const l=e.fromSitus(r);return(e=>vu.cata(e,(e=>j.none()),(()=>j.none()),(e=>j.some(cs(e,0))),(e=>j.some(cs(e,Dr(e))))))(vu.verify(e,o.finish,o.foffset,l.finish,l.foffset,n.failure,t))})))),Nu=(e,t,element,n,o,r)=>0===r?j.none():Fu(e,t,element,n,o).bind((l=>{const c=e.fromSitus(l),d=vu.verify(e,element,n,c.finish,c.foffset,o.failure,t);return vu.cata(d,(()=>j.none()),(()=>j.some(l)),(l=>Re(element,l)&&0===n?$u(e,element,n,_u,o):Nu(e,t,l,0,o,r-1)),(l=>Re(element,l)&&n===Dr(l)?$u(e,element,n,Cu,o):Nu(e,t,l,Dr(l),o,r-1)))})),$u=(e,element,t,n,o)=>ju(e,element,t).bind((t=>zu(e,o,n(t,Pu.getJumpSize())))),zu=(e,t,n)=>{const o=Fn().browser;return o.isChromium()||o.isSafari()||o.isFirefox()?t.retry(e,n):j.none()},Fu=(e,t,element,n,o)=>ju(e,element,n).bind((t=>zu(e,o,t))),Vu=(e,table)=>{return _t(e,(e=>Ne(e).exists((p=>Re(p,table)))),t).isSome();var t},Hu=(e,t,n,o,r)=>Et(o,"td,th",t).bind((o=>Et(o,"table",t).bind((table=>Vu(r,table)?((e,t,n)=>Lu(e,t,n).bind((o=>Nu(e,t,o.element,o.offset,n,20).map(e.fromSitus))))(e,t,n).bind((e=>Et(e.finish,"td,th",t).map((t=>({start:o,finish:t,range:e}))))):j.none())))),qu=(e,t,n,o,r,l)=>l(o,t).orThunk((()=>Hu(e,t,n,o,r).map((e=>{const t=e.range;return $c(j.some(Jc(t.start,t.soffset,t.finish,t.foffset)),!0)})))),Wu=(e,t)=>Et(e,"tr",t).bind((e=>Et(e,"table",t).bind((table=>{const n=Ot(table,"tr");return Re(e,n[0])?((element,e,t)=>du(pu,element,e,t))(table,(element=>Mr(element).isSome()),t).map((e=>{const t=Dr(e);return $c(j.some(Jc(e,t,e,t)),!0)})):j.none()})))),Qu=(e,t)=>Et(e,"tr",t).bind((e=>Et(e,"table",t).bind((table=>{const n=Ot(table,"tr");return Re(e,n[n.length-1])?((element,e,t)=>hu(pu,element,e,t))(table,(element=>Br(element).isSome()),t).map((e=>$c(j.some(Jc(e,0,e,0)),!0))):j.none()})))),select=(e,t,n,o,r,l,c)=>Hu(e,n,o,r,l).bind((e=>eu(t,n,e.start,e.finish,c))),Uu=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Yu=()=>{const e=(e=>{const t=Uu(j.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(j.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:s=>{n(),t.set(j.some(s))}}})(w);return{...e,on:t=>e.get().each(t)}},Gu=(e,t)=>Et(e,"td,th",t),Ku=e=>$e(e).exists(di),Xu={traverse:Ve,gather:fu,relative:Nc.before,retry:Pu.tryDown,failure:vu.failedDown},Zu={traverse:Fe,gather:mu,relative:Nc.before,retry:Pu.tryUp,failure:vu.failedUp},Ju=e=>t=>t===e,ed=Ju(38),nd=Ju(40),od=e=>e>=37&&e<=40,rd={isBackward:Ju(37),isForward:Ju(39)},id={isBackward:Ju(39),isForward:Ju(37)},sd=_a([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ad={domRange:sd.domRange,relative:sd.relative,exact:sd.exact,exactFromRange:e=>sd.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>je.fromDom(e.startContainer),relative:(e,t)=>Nc.getStart(e),exact:(e,t,n,o)=>e}))(e);return element=t,je.fromDom(Le(element).dom.defaultView);var element},range:Kc},ld=(e,t,n)=>{var o,r;return j.from(null===(r=(o=e.dom).caretPositionFromPoint)||void 0===r?void 0:r.call(o,t,n)).bind((t=>{if(null===t.offsetNode)return j.none();const n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),j.some(n)}))},cd=(e,t,n)=>{var o,r;return j.from(null===(r=(o=e.dom).caretRangeFromPoint)||void 0===r?void 0:r.call(o,t,n))},ud=document.caretPositionFromPoint?ld:document.caretRangeFromPoint?cd:j.none,hd=(element,e)=>{const t=de(element);return"input"===t?Nc.after(element):R(["br","img"],t)?0===e?Nc.before(element):Nc.after(element):Nc.on(element,e)},pd=(e,t,n,o)=>{const r=((e,t,n,o)=>{const r=Pe(e).dom.createRange();return r.setStart(e.dom,t),r.setEnd(n.dom,o),r})(e,t,n,o),l=Re(e,n)&&t===o;return r.collapsed&&!l},md=e=>j.from(e.getSelection()),fd=(e,t)=>{md(e).each((e=>{e.removeAllRanges(),e.addRange(t)}))},gd=(e,t,n,o,r)=>{const l=qc(e,t,n,o,r);fd(e,l)},bd=(e,t)=>Yc(e,t).match({ltr:(t,n,o,r)=>{gd(e,t,n,o,r)},rtl:(t,n,o,r)=>{md(e).each((l=>{if(l.setBaseAndExtent)l.setBaseAndExtent(t.dom,n,o.dom,r);else if(l.extend)try{((e,t,n,o,r,l)=>{t.collapse(n.dom,o),t.extend(r.dom,l)})(0,l,t,n,o,r)}catch(l){gd(e,o,r,t,n)}else gd(e,o,r,t,n)}))}}),vd=(e,t,n,o,r)=>{const l=((e,t,n,o)=>{const r=hd(e,t),l=hd(n,o);return ad.relative(r,l)})(t,n,o,r);bd(e,l)},yd=(e,t,n)=>{const o=((e,t)=>{const n=e.fold(Nc.before,hd,Nc.after),o=t.fold(Nc.before,hd,Nc.after);return ad.relative(n,o)})(t,n);bd(e,o)},wd=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return j.some(Kc(je.fromDom(t.startContainer),t.startOffset,je.fromDom(n.endContainer),n.endOffset))}return j.none()},Ad=e=>{if(null===e.anchorNode||null===e.focusNode)return wd(e);{const t=je.fromDom(e.anchorNode),n=je.fromDom(e.focusNode);return pd(t,e.anchorOffset,n,e.focusOffset)?j.some(Kc(t,e.anchorOffset,n,e.focusOffset)):wd(e)}},xd=(e,element,t=!0)=>{const n=(t?Fc:zc)(e,element);fd(e,n)},Od=e=>(e=>md(e).filter((e=>e.rangeCount>0)).bind(Ad))(e).map((e=>ad.exact(e.start,e.soffset,e.finish,e.foffset))),Cd=(e,t)=>(e=>{const t=e.getClientRects(),rect=t.length>0?t[0]:e.getBoundingClientRect();return rect.width>0||rect.height>0?j.some(rect).map(Wc):j.none()})(Gc(e,t)),_d=(e,t,n)=>((e,t,n)=>{const o=je.fromDom(e.document);return ud(o,t,n).map((e=>Kc(je.fromDom(e.startContainer),e.startOffset,je.fromDom(e.endContainer),e.endOffset)))})(e,t,n),Sd=e=>({elementFromPoint:(t,n)=>je.fromPoint(je.fromDom(e.document),t,n),getRect:element=>element.dom.getBoundingClientRect(),getRangedRect:(t,n,o,r)=>{const l=ad.exact(t,n,o,r);return Cd(e,l)},getSelection:()=>Od(e).map((t=>Zc(e,t))),fromSitus:t=>{const n=ad.relative(t.start,t.finish);return Zc(e,n)},situsFromPoint:(t,n)=>_d(e,t,n).map((e=>Xc(e.start,e.soffset,e.finish,e.foffset))),clearSelection:()=>{(e=>{md(e).each((e=>e.removeAllRanges()))})(e)},collapseSelection:(t=!1)=>{Od(e).each((n=>n.fold((e=>e.collapse(t)),((n,o)=>{const r=t?n:o;yd(e,r,r)}),((n,o,r,l)=>{const c=t?n:r,d=t?o:l;vd(e,c,d,c,d)}))))},setSelection:t=>{vd(e,t.start,t.soffset,t.finish,t.foffset)},setRelativeSelection:(t,n)=>{yd(e,t,n)},selectNode:element=>{xd(e,element,!1)},selectContents:element=>{xd(e,element)},getInnerHeight:()=>e.innerHeight,getScrollY:()=>(e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return _o(n,o)})(je.fromDom(e.document)).top,scrollBy:(t,n)=>{((e,t,n)=>{const o=(void 0!==n?n.dom:document).defaultView;o&&o.scrollBy(e,t)})(t,n,je.fromDom(e.document))}}),kd=(e,t)=>({rows:e,cols:t}),Td=(e,t,n,o)=>{const r=((e,t,n,o)=>{const cursor=Yu(),r=cursor.clear,l=r=>{cursor.on((l=>{o.clearBeforeUpdate(t),Gu(r.target,n).each((c=>{$i(l,c,n).each((n=>{const l=n.boxes.getOr([]);if(1===l.length){const n=l[0],c="false"===hi(n),d=Dt(ui(r.target),n,Re);c&&d&&(o.selectRange(t,l,n,n),e.selectContents(n))}else l.length>1&&(o.selectRange(t,l,n.start,n.finish),e.selectContents(c))}))}))}))};return{clearstate:r,mousedown:e=>{o.clear(t),Gu(e.target,n).filter(Ku).each(cursor.set)},mouseover:e=>{l(e)},mouseup:e=>{l(e),r()}}})(Sd(e),t,n,o);return{clearstate:r.clearstate,mousedown:r.mousedown,mouseover:r.mouseover,mouseup:r.mouseup}},jd=e=>St(e,fe).exists(di),Ed=(e,t)=>jd(e)||jd(t),Dd=(e,t,n,o)=>{const r=Sd(e),l=()=>(o.clear(t),j.none());return{keydown:(e,c,d,h,m,f)=>{const v=e.raw,y=v.which,w=!0===v.shiftKey,A=zi(t,o.selectedSelector).fold((()=>(od(y)&&!w&&o.clearBeforeUpdate(t),od(y)&&w&&!Ed(c,h)?j.none:nd(y)&&w?C(select,r,t,n,Xu,h,c,o.selectRange):ed(y)&&w?C(select,r,t,n,Zu,h,c,o.selectRange):nd(y)?C(qu,r,n,Xu,h,c,Qu):ed(y)?C(qu,r,n,Zu,h,c,Wu):j.none)),(e=>{const n=n=>()=>{const l=X(n,(n=>((e,t,n,o,r)=>Vi(o,e,t,r.firstSelectedSelector,r.lastSelectedSelector).map((e=>(r.clearBeforeUpdate(n),r.selectRange(n,e.boxes,e.start,e.finish),e.boxes))))(n.rows,n.cols,t,e,o)));return l.fold((()=>Fi(t,o.firstSelectedSelector,o.lastSelectedSelector).map((e=>{const n=nd(y)||f.isForward(y)?Nc.after:Nc.before;return r.setRelativeSelection(Nc.on(e.first,0),n(e.table)),o.clear(t),$c(j.none(),!0)}))),(e=>j.some($c(j.none(),!0))))};return od(y)&&w&&!Ed(c,h)?j.none:nd(y)&&w?n([kd(1,0)]):ed(y)&&w?n([kd(-1,0)]):f.isBackward(y)&&w?n([kd(0,-1),kd(-1,0)]):f.isForward(y)&&w?n([kd(0,1),kd(1,0)]):od(y)&&!w?l:j.none}));return A()},keyup:(e,r,l,c,d)=>zi(t,o.selectedSelector).fold((()=>{const h=e.raw,m=h.which;return!0===h.shiftKey&&od(m)&&Ed(r,c)?((e,t,n,o,r,l,c)=>Re(n,r)&&o===l?j.none():Et(n,"td,th",t).bind((s=>Et(r,"td,th",t).bind((n=>eu(e,t,s,n,c))))))(t,n,r,l,c,d,o.selectRange):j.none()}),j.none)}},Id=(element,e)=>{const t=Ce(element,e);return void 0===t||""===t?[]:t.split(" ")},Rd=element=>void 0!==element.dom.classList,Bd=(element,e)=>((element,e,t)=>{const n=Id(element,e).concat([t]);return xe(element,e,n.join(" ")),!0})(element,"class",e),Md=(element,e)=>{Rd(element)?element.dom.classList.add(e):Bd(element,e)},Pd=(element,e)=>Rd(element)&&element.dom.classList.contains(e),Ld=(e,t,n)=>{const o=element=>{Se(element,e.selected),Se(element,e.firstSelected),Se(element,e.lastSelected)},r=element=>{xe(element,e.selected,"1")},l=e=>{c(e),n()},c=t=>{const n=Ot(t,`${e.selectedSelector},${e.firstSelectedSelector},${e.lastSelectedSelector}`);L(n,o)};return{clearBeforeUpdate:c,clear:l,selectRange:(n,o,c,d)=>{l(n),L(o,r),xe(c,e.firstSelected,"1"),xe(d,e.lastSelected,"1"),t(o,c,d)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},Nd=()=>({tag:"none"}),$d=e=>({tag:"multiple",elements:e}),zd=element=>({tag:"single",element:element}),Fd=(table,e,t)=>{const n=po.fromTable(table);return Ks(n,e).map((e=>{const o=qs(n,t,!1),{rows:r}=ro(o),l=((e,t)=>{const n=e.slice(0,t[t.length-1].row+1),o=Ws(n);return Q(o,(e=>{const n=e.cells.slice(0,t[t.length-1].column+1);return P(n,(e=>e.element))}))})(r,e),c=((e,t)=>{const n=e.slice(t[0].row+t[0].rowspan-1,e.length),o=Ws(n);return Q(o,(e=>{const n=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length);return P(n,(e=>e.element))}))})(r,e);return{upOrLeftCells:l,downOrRightCells:c}}))},Vd=e=>{const t=je.fromDom((e=>{if(pt()&&f(e.target)){const t=je.fromDom(e.target);if(ge(t)&&bt(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return head(t)}}return j.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=(l=o,c=n,(...e)=>l(c.apply(null,e)));var l,c;return((e,t,n,o,r,l,c)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:l,raw:c}))(t,e.clientX,e.clientY,n,o,r,e)},Hd=(element,e,filter,t,n)=>{const o=((filter,e)=>t=>{filter(t)&&e(Vd(t))})(filter,t);return element.dom.addEventListener(e,o,n),{unbind:C(qd,element,e,o,n)}},qd=(element,e,t,n)=>{element.dom.removeEventListener(e,t,n)},filter=T,Wd=(element,e,t)=>((element,e,filter,t)=>Hd(element,e,filter,t,!1))(element,e,filter,t),Qd=Vd,Ud=e=>!Pd(je.fromDom(e.target),"ephox-snooker-resizer-bar"),Yd=(e,t)=>{const n=((e,t,n)=>({get:()=>Hi(e(),n).fold((()=>t().fold(Nd,zd)),$d)}))((()=>je.fromDom(e.getBody())),(()=>ss(gi(e),mi(e))),ns.selectedSelector),o=Ld(ns,((t,n,o)=>{table(n).each((table=>{const r=Yr(e),l=qr(w,je.fromDom(e.getDoc()),r),c=as(e),d=Fd(table,{selection:c},l);((e,t,n,o,r)=>{e.dispatch("TableSelectionChange",{cells:t,start:n,finish:o,otherCells:r})})(e,t,n,o,d)}))}),(()=>(e=>{e.dispatch("TableSelectionClear")})(e)));e.on("init",(n=>{const r=e.getWin(),body=pi(e),l=mi(e),c=Td(r,body,l,o),d=Dd(r,body,l,o),h=((e,t,n,o)=>{const r=Sd(e);return(e,l)=>{o.clearBeforeUpdate(t),$i(e,l,n).each((e=>{const n=e.boxes.getOr([]);o.selectRange(t,n,e.start,e.finish),r.selectContents(l),r.collapseSelection()}))}})(r,body,l,o);e.on("TableSelectorChange",(e=>h(e.start,e.finish)));const m=(t,n)=>{(e=>!0===e.raw.shiftKey)(t)&&(n.kill&&t.kill(),n.selection.each((t=>{const n=ad.relative(t.start,t.finish),o=Gc(r,n);e.selection.setRng(o)})))},f=e=>0===e.button,v=(()=>{const e=Uu(je.fromDom(body)),t=Uu(0);return{touchEnd:n=>{const o=je.fromDom(n.target);if(we("td")(o)||we("th")(o)){const r=e.get(),l=t.get();Re(r,o)&&n.timeStamp-l<300&&(n.preventDefault(),h(o,o))}e.set(o),t.set(n.timeStamp)}}})();e.on("dragstart",(e=>{c.clearstate()})),e.on("mousedown",(e=>{f(e)&&Ud(e)&&c.mousedown(Qd(e))})),e.on("mouseover",(e=>{var t;void 0!==(t=e).buttons&&0==(1&t.buttons)||!Ud(e)||c.mouseover(Qd(e))})),e.on("mouseup",(e=>{f(e)&&Ud(e)&&c.mouseup(Qd(e))})),e.on("touchend",v.touchEnd),e.on("keyup",(t=>{const n=Qd(t);if(n.raw.shiftKey&&od(n.raw.which)){const t=e.selection.getRng(),o=je.fromDom(t.startContainer),r=je.fromDom(t.endContainer);d.keyup(n,o,t.startOffset,r,t.endOffset).each((e=>{m(n,e)}))}})),e.on("keydown",(n=>{const o=Qd(n);t.hide();const r=e.selection.getRng(),l=je.fromDom(r.startContainer),c=je.fromDom(r.endContainer),h=vo(rd,id)(je.fromDom(e.selection.getStart()));d.keydown(o,l,r.startOffset,c,r.endOffset,h).each((e=>{m(o,e)})),t.show()})),e.on("NodeChange",(()=>{const t=e.selection,n=je.fromDom(t.getStart()),r=je.fromDom(t.getEnd());Li(table,[n,r]).fold((()=>o.clear(body)),w)}))})),e.on("PreInit",(()=>{e.serializer.addTempAttr(ns.firstSelected),e.serializer.addTempAttr(ns.lastSelected)}));return{getSelectedCells:()=>((e,t,n,o)=>{switch(e.tag){case"none":return t();case"single":return o(e.element);case"multiple":return n(e.elements)}})(n.get(),A([]),(e=>P(e,(e=>e.dom))),(e=>[e.dom])),clearSelectedCells:e=>o.clear(je.fromDom(e))}},Gd=e=>{let t=[];return{bind:e=>{if(void 0===e)throw new Error("Event bind error: undefined handler");t.push(e)},unbind:e=>{t=$(t,(t=>t!==e))},trigger:(...n)=>{const o={};L(e,((e,i)=>{o[e]=n[i]})),L(t,(e=>{e(o)}))}}},Kd=e=>({registry:map(e,(e=>({bind:e.bind,unbind:e.unbind}))),trigger:map(e,(e=>e.trigger))}),Xd=e=>e.slice(0).sort(),Zd=(e,t,n)=>{if(0===t.length)throw new Error("You must specify at least one required field.");return((label,e)=>{if(!c(e))throw new Error("The "+label+" fields must be an array. Was: "+e+".");L(e,(a=>{if(!r(a))throw new Error("The value "+a+" in the "+label+" fields was not a string.")}))})("required",t),(e=>{const t=Xd(e);V(t,((s,i)=>i<t.length-1&&s===t[i+1])).each((e=>{throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))})(t),o=>{const r=Z(o);U(t,(e=>R(r,e)))||((e,t)=>{throw new Error("All required keys ("+Xd(e).join(", ")+") were not specified. Specified keys were: "+Xd(t).join(", ")+".")})(t,r),e(t,r);const l=$(t,(e=>!n.validate(o[e],e)));return l.length>0&&((e,t)=>{throw new Error("All values need to be of type: "+t+". Keys ("+Xd(e).join(", ")+") were not.")})(l,n.label),o}},Jd=(e,t)=>{const n=$(t,(t=>!R(e,t)));n.length>0&&(e=>{throw new Error("Unsupported keys for object: "+Xd(e).join(", "))})(n)},eh=e=>((e,t)=>Zd(e,t,{validate:v,label:"function"}))(Jd,e),nh=eh(["compare","extract","mutate","sink"]),oh=eh(["element","start","stop","destroy"]),rh=eh(["forceDrop","drop","move","delayDrop"]),ih=()=>{let e=j.none();const t=Kd({move:Gd(["info"])});return{onEvent:(n,o)=>{o.extract(n).each((data=>{const n=((t,n)=>{const o=e.map((e=>t.compare(e,n)));return e=j.some(n),o})(o,data);n.each((e=>{t.trigger.move(e)}))}))},reset:()=>{e=j.none()},events:t.registry}},sh=()=>{const e=(()=>{const e=Kd({move:Gd(["info"])});return{onEvent:w,reset:w,events:e.registry}})(),t=ih();let n=e;return{on:()=>{n.reset(),n=t},off:()=>{n.reset(),n=e},isOn:()=>n===t,onEvent:(e,t)=>{n.onEvent(e,t)},events:t.events}},ah=(e,t,n)=>{let o=!1;const r=Kd({start:Gd([]),stop:Gd([])}),l=sh(),c=()=>{f.stop(),l.isOn()&&(l.off(),r.trigger.stop())},h=((e,t)=>{let n=null;const o=()=>{d(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:(...r)=>{o(),n=setTimeout((()=>{n=null,e.apply(null,r)}),t)}}})(c,200);l.events.move.bind((n=>{t.mutate(e,n.info)}));const m=e=>(...t)=>{o&&e.apply(null,t)},f=t.sink(rh({forceDrop:c,drop:m(c),move:m((e=>{h.cancel(),l.onEvent(e,t)})),delayDrop:m(h.throttle)}),n);return{element:f.element,go:e=>{f.start(e),l.on(),r.trigger.start()},on:()=>{o=!0},off:()=>{o=!1},isActive:()=>o,destroy:()=>{f.destroy()},events:r.registry}},lh=e=>{const t=e.replace(/\./g,"-");return{resolve:e=>t+"-"+e}},ch=lh("ephox-dragster").resolve;var uh=nh({compare:(e,t)=>_o(t.left-e.left,t.top-e.top),extract:e=>j.some(_o(e.x,e.y)),sink:(e,t)=>{const n=(e=>{const t={layerClass:ch("blocker"),...e},div=je.fromTag("div");return xe(div,"role","presentation"),Ht(div,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Md(div,ch("blocker")),Md(div,t.layerClass),{element:A(div),destroy:()=>{Je(div)}}})(t),o=Wd(n.element(),"mousedown",e.forceDrop),r=Wd(n.element(),"mouseup",e.drop),l=Wd(n.element(),"mousemove",e.move),c=Wd(n.element(),"mouseout",e.delayDrop);return oh({element:n.element,start:e=>{Ye(e,n.element())},stop:()=>{Je(n.element())},destroy:()=>{n.destroy(),r.unbind(),l.unbind(),c.unbind(),o.unbind()}})},mutate:(e,t)=>{e.mutate(t.left,t.top)}});const dh=lh("ephox-snooker").resolve,hh=()=>{const e=Kd({drag:Gd(["xDelta","yDelta","target"])});let t=j.none();const n=(()=>{const e=Kd({drag:Gd(["xDelta","yDelta"])});return{mutate:(t,n)=>{e.trigger.drag(t,n)},events:e.registry}})();n.events.drag.bind((n=>{t.each((t=>{e.trigger.drag(n.xDelta,n.yDelta,t)}))}));return{assign:e=>{t=j.some(e)},get:()=>t,mutate:n.mutate,events:e.registry}},ph=dh("resizer-bar"),mh=dh("resizer-rows"),fh=dh("resizer-cols"),gh=e=>{const t=Ot(e.parent(),"."+ph);L(t,Je)},bh=(e,t,n)=>{const o=e.origin();L(t,(t=>{t.each((t=>{const r=n(o,t);Md(r,ph),Ye(e.parent(),r)}))}))},vh=(e,t,n,o)=>{bh(e,t,((e,t)=>{const r=((e,t,n,o,r)=>{const l=je.fromTag("div");return Ht(l,{position:"absolute",left:t-o/2+"px",top:n+"px",height:r+"px",width:o+"px"}),Oe(l,{"data-column":e,role:"presentation"}),l})(t.col,t.x-e.left,n.top-e.top,7,o);return Md(r,fh),r}))},yh=(e,t,n,o)=>{bh(e,t,((e,t)=>{const r=((e,t,n,o,r)=>{const l=je.fromTag("div");return Ht(l,{position:"absolute",left:t+"px",top:n-r/2+"px",height:r+"px",width:o+"px"}),Oe(l,{"data-row":e,role:"presentation"}),l})(t.row,n.left-e.left,t.y-e.top,o,7);return Md(r,mh),r}))},wh=(e,t,table,n,o)=>{const r=ko(table),l=t.isResizable,c=n.length>0?$o.positions(n,table):[],d=c.length>0?((e,t)=>Q(e.all,((e,i)=>t(e.element)?[i]:[])))(e,l):[],h=$(c,((e,i)=>B(d,(e=>i===e))));yh(t,h,r,Yn(table));const m=o.length>0?Fo.positions(o,table):[],f=m.length>0?((e,t)=>{const n=[];return M(e.grid.columns,(o=>{const r=po.getColumnAt(e,o).map((col=>col.element));r.forall(t)&&n.push(o)})),$(n,(n=>{const o=po.filterItems(e,(e=>e.column===n));return U(o,(e=>t(e.element)))}))})(e,l):[],v=$(m,((e,i)=>B(f,(e=>i===e))));vh(t,v,r,xo(table))},Ah=(e,table)=>{if(gh(e),e.isResizable(table)){const t=po.fromTable(table),n=go(t),o=mo(t);wh(t,e,table,n,o)}},xh=(e,t)=>{const n=Ot(e.parent(),"."+ph);L(n,t)},Oh=e=>{xh(e,(e=>{Vt(e,"display","none")}))},Ch=e=>{xh(e,(e=>{Vt(e,"display","block")}))},_h=dh("resizer-bar-dragging"),Sh=e=>{const t=hh(),n=((e,t={})=>{var n;const o=null!==(n=t.mode)&&void 0!==n?n:uh;return ah(e,o,t)})(t,{});let o=j.none();const r=(element,e)=>j.from(Ce(element,e));t.events.drag.bind((e=>{r(e.target,"data-row").each((t=>{const n=Zt(e.target,"top");Vt(e.target,"top",n+e.yDelta+"px")})),r(e.target,"data-column").each((t=>{const n=Zt(e.target,"left");Vt(e.target,"left",n+e.xDelta+"px")}))}));const l=(e,t)=>Zt(e,t)-Yt(e,"data-initial-"+t,0);n.events.stop.bind((()=>{t.get().each((t=>{o.each((table=>{r(t,"data-row").each((e=>{const n=l(t,"top");Se(t,"data-initial-top"),f.trigger.adjustHeight(table,n,parseInt(e,10))})),r(t,"data-column").each((e=>{const n=l(t,"left");Se(t,"data-initial-left"),f.trigger.adjustWidth(table,n,parseInt(e,10))})),Ah(e,table)}))}))}));const c=(o,r)=>{f.trigger.startAdjust(),t.assign(o),xe(o,"data-initial-"+r,Zt(o,r)),Md(o,_h),Vt(o,"opacity","0.2"),n.go(e.parent())},d=Wd(e.parent(),"mousedown",(e=>{var element;element=e.target,Pd(element,mh)&&c(e.target,"top"),(element=>Pd(element,fh))(e.target)&&c(e.target,"left")})),h=t=>Re(t,e.view()),m=Wd(e.view(),"mouseover",(t=>{var r;(r=t.target,Et(r,"table",h).filter(di)).fold((()=>{vt(t.target)&&gh(e)}),(table=>{n.isActive()&&(o=j.some(table),Ah(e,table))}))})),f=Kd({adjustHeight:Gd(["table","delta","row"]),adjustWidth:Gd(["table","delta","column"]),startAdjust:Gd([])});return{destroy:()=>{d.unbind(),m.unbind(),n.destroy(),gh(e)},refresh:t=>{Ah(e,t)},on:n.on,off:n.off,hideBars:C(Oh,e),showBars:C(Ch,e),events:f.registry}},kh=(e,t,n)=>{const o=$o,r=Fo,l=Sh(e),c=Kd({beforeResize:Gd(["table","type"]),afterResize:Gd(["table","type"]),startDrag:Gd([])});return l.events.adjustHeight.bind((e=>{const table=e.table;c.trigger.beforeResize(table,"row");const t=o.delta(e.delta,table);Ra(table,t,e.row,o),c.trigger.afterResize(table,"row")})),l.events.startAdjust.bind((e=>{c.trigger.startDrag()})),l.events.adjustWidth.bind((e=>{const table=e.table;c.trigger.beforeResize(table,"col");const o=r.delta(e.delta,table),l=n(table);Ia(table,o,e.column,t,l),c.trigger.afterResize(table,"col")})),{on:l.on,off:l.off,refreshBars:l.refresh,hideBars:l.hideBars,showBars:l.showBars,destroy:l.destroy,events:c.registry}},Th=(element,e)=>{const t=ve(element)?(element=>je.fromDom(Le(element).dom.documentElement))(element):element;return{parent:A(t),view:A(element),origin:A(_o(0,0)),isResizable:e}},jh=(e,t,n)=>({parent:A(t),view:A(e),origin:A(_o(0,0)),isResizable:n}),Eh=()=>{const e=je.fromTag("div");return Ht(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Ye(yt(je.fromDom(document)),e),e},Dh=e=>f(e)&&"TABLE"===e.nodeName,Ih="bar-",Rh=e=>"false"!==Ce(e,"data-mce-resize"),Bh=e=>{const t=Yu(),n=Yu(),o=Yu();let r,l;const c=table=>Ul(e,table),d=()=>Xr(e)?xs():As(),h=(table,t,n)=>{const o=Lt(t,"e");if(""===l&&mc(table),n!==r&&""!==l){Vt(table,"width",l);const t=d(),h=c(table),col=Xr(e)||o?(table=>Os(table).columns)(table)-1:0;Ia(table,n-r,col,t,h)}else if((e=>/^(\d+(\.\d+)?)%$/.test(e))(l)){const e=parseFloat(l.replace("%",""));Vt(table,"width",n*e/r+"%")}(e=>/^(\d+(\.\d+)?)px$/.test(e))(l)&&(table=>{const e=po.fromTable(table);po.hasColumns(e)||L(rn(table),(e=>{const t=qt(e,"width");Vt(e,"width",t),Se(e,"width")}))})(table)},m=()=>{n.on((e=>{e.destroy()})),o.on((t=>{((e,t)=>{e.inline&&Je(t.parent())})(e,t)}))};e.on("init",(()=>{const r=((e,t)=>e.inline?jh(je.fromDom(e.getBody()),Eh(),t):Th(je.fromDom(e.getDoc()),t))(e,Rh);if(o.set(r),(e=>{const t=e.options.get("object_resizing");return R(t.split(","),"table")})(e)&&oi(e)){const o=d(),l=kh(r,o,c);l.on(),l.events.startDrag.bind((n=>{t.set(e.selection.getRng())})),l.events.beforeResize.bind((t=>{const n=t.table.dom;((e,t,n,o,r)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:o,origin:r})})(e,n,bi(n),vi(n),Ih+t.type)})),l.events.afterResize.bind((n=>{const table=n.table,o=table.dom;fi(table),t.on((t=>{e.selection.setRng(t),e.focus()})),((e,t,n,o,r)=>{e.dispatch("ObjectResized",{target:t,width:n,height:o,origin:r})})(e,o,bi(o),vi(o),Ih+n.type),e.undoManager.add()})),n.set(l)}})),e.on("ObjectResizeStart",(t=>{const n=t.target;if(Dh(n)){const table=je.fromDom(n);L(e.dom.select(".mce-clonedresizable"),(t=>{e.dom.addClass(t,"mce-"+Kr(e)+"-columns")})),!dc(table)&&ti(e)?fc(table):!uc(table)&&ei(e)&&mc(table),hc(table)&&Pt(t.origin,Ih)&&mc(table),r=t.width,l=ni(e)?"":((e,t)=>{const n=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return j.from(n).filter($t)})(e,n).getOr("")}})),e.on("ObjectResized",(t=>{const n=t.target;if(Dh(n)){const table=je.fromDom(n),o=t.origin;Pt(o,"corner-")&&h(table,o,t.width),fi(table),Hl(e,table.dom,ql)}})),e.on("SwitchMode",(()=>{n.on((t=>{e.mode.isReadOnly()?t.hideBars():t.showBars()}))})),e.on("dragstart dragend",(e=>{n.on((t=>{"dragstart"===e.type?(t.hideBars(),t.off()):(t.on(),t.showBars())}))})),e.on("remove",(()=>{m()}));return{refresh:table=>{n.on((e=>e.refreshBars(je.fromDom(table))))},hide:()=>{n.on((e=>e.hideBars()))},show:()=>{n.on((e=>e.showBars()))}}},Mh=e=>{(e=>{const t=e.options.register;t("table_clone_elements",{processor:"string[]"}),t("table_use_colgroups",{processor:"boolean",default:!0}),t("table_header_type",{processor:e=>{const t=R(["section","cells","sectionCells","auto"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),t("table_sizing_mode",{processor:"string",default:"auto"}),t("table_default_attributes",{processor:"object",default:{border:"1"}}),t("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),t("table_column_resizing",{processor:e=>{const t=R(["preservetable","resizetable"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),t("table_resize_bars",{processor:"boolean",default:!0}),t("table_style_by_css",{processor:"boolean",default:!0}),t("table_merge_content_on_paste",{processor:"boolean",default:!0})})(e);const t=Bh(e),n=Yd(e,t),o=Yl(e,t,n);return Pc(e,o),((e,t)=>{const n=mi(e),o=t=>ss(gi(e)).bind((o=>table(o,n).map((table=>{const n=os(as(e),table,o);return t(table,n)})))).getOr("");ee({mceTableRowType:()=>o(t.getTableRowType),mceTableCellType:()=>o(t.getTableCellType),mceTableColType:()=>o(t.getTableColType)},((t,n)=>e.addQueryValueHandler(n,t)))})(e,o),ls(e,o),{getSelectedCells:n.getSelectedCells,clearSelectedCells:n.clearSelectedCells}},Ph=e=>({table:Mh(e)});e.add("dom",Ph)}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=Object.getPrototypeOf,n=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},o=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&n(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":t})(t)===e,r=e=>t=>typeof t===e,l=o("string"),c=o("object"),d=e=>((e,o)=>c(e)&&n(e,o,((e,n)=>t(e)===n)))(e,Object),h=o("array"),m=(f=null,a=>f===a);var f;const v=r("boolean"),y=a=>!(a=>null==a)(a),w=r("function"),A=r("number"),x=()=>{};class O{constructor(e,t){this.tag=e,this.value=t}static some(e){return new O(!0,e)}static none(){return O.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?O.some(e(this.value)):O.none()}bind(e){return this.tag?e(this.value):O.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:O.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return y(e)?O.some(e):O.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}O.singletonNone=new O(!1);const C=Object.keys,_=Object.hasOwnProperty,S=(e,t,n,o)=>{((e,t)=>{const n=C(e);for(let o=0,r=n.length;o<r;o++){const i=n[o];t(e[i],i)}})(e,((e,i)=>{(t(e,i)?n:o)(e,i)}))},k=(e,t)=>_.call(e,t),T=Array.prototype.push,j=e=>{const t=[];for(let i=0,n=e.length;i<n;++i){if(!h(e[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+e);T.apply(t,e[i])}return t},head=e=>((e,i)=>i>=0&&i<e.length?O.some(e[i]):O.none())(e,0);"undefined"!=typeof window?window:Function("return this;")();const E=(element,e,t)=>{((e,t,n)=>{if(!(l(n)||v(n)||A(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(element.dom,e,t)},D=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},I={fromHtml:(html,e)=>{const div=(e||document).createElement("div");if(div.innerHTML=html,!div.hasChildNodes()||div.childNodes.length>1){const e="HTML does not have a single root node";throw console.error(e,html),new Error(e)}return D(div.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return D(n)},fromText:(text,e)=>{const t=(e||document).createTextNode(text);return D(t)},fromDom:D,fromPoint:(e,t,n)=>O.from(e.dom.elementFromPoint(t,n)).map(D)};var R=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),B=tinymce.util.Tools.resolve("tinymce.util.URI");const M=s=>s.length>0,option=e=>t=>t.options.get(e),P=e=>{const t=e.options.register;t("image_dimensions",{processor:"boolean",default:!0}),t("image_advtab",{processor:"boolean",default:!1}),t("image_uploadtab",{processor:"boolean",default:!0}),t("image_prepend_url",{processor:"string",default:""}),t("image_class_list",{processor:"object[]"}),t("image_description",{processor:"boolean",default:!0}),t("image_title",{processor:"boolean",default:!1}),t("image_caption",{processor:"boolean",default:!1}),t("image_list",{processor:e=>{const t=!1===e||l(e)||((e,t)=>{if(h(e)){for(let i=0,n=e.length;i<n;++i)if(!t(e[i]))return!1;return!0}return!1})(e,c)||w(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},L=option("image_dimensions"),N=option("image_advtab"),$=option("image_uploadtab"),z=option("image_prepend_url"),F=option("image_class_list"),V=option("image_description"),H=option("image_title"),W=option("image_caption"),Q=option("image_list"),U=option("a11y_advanced_options"),Y=option("automatic_uploads"),G=(e,t)=>Math.max(parseInt(e,10),parseInt(t,10)),K=e=>(e&&(e=e.replace(/px$/,"")),e),X=e=>(e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e),Z=e=>"IMG"===e.nodeName&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder")),J=(e,t)=>{const n=e.options.get;return B.isDomSafe(t,"img",{allow_html_data_urls:n("allow_html_data_urls"),allow_script_urls:n("allow_script_urls"),allow_svg_data_urls:n("allow_svg_data_urls")})},ee=R.DOM,te=image=>image.style.marginLeft&&image.style.marginRight&&image.style.marginLeft===image.style.marginRight?K(image.style.marginLeft):"",ne=image=>image.style.marginTop&&image.style.marginBottom&&image.style.marginTop===image.style.marginBottom?K(image.style.marginTop):"",oe=image=>image.style.borderWidth?K(image.style.borderWidth):"",re=(image,e)=>{var t;return image.hasAttribute(e)&&null!==(t=image.getAttribute(e))&&void 0!==t?t:""},ie=image=>null!==image.parentNode&&"FIGURE"===image.parentNode.nodeName,se=(image,e,t)=>{""===t||null===t?image.removeAttribute(e):image.setAttribute(e,t)},ae=image=>{ie(image)?(image=>{const e=image.parentNode;y(e)&&(ee.insertAfter(image,e),ee.remove(e))})(image):(image=>{const e=ee.create("figure",{class:"image"});ee.insertAfter(e,image),e.appendChild(image),e.appendChild(ee.create("figcaption",{contentEditable:"true"},"Caption")),e.contentEditable="false"})(image)},le=(image,e)=>{const t=image.getAttribute("style"),n=e(null!==t?t:"");n.length>0?(image.setAttribute("style",n),image.setAttribute("data-mce-style",n)):image.removeAttribute("style")},ce=(e,t)=>(image,e,n)=>{const o=image.style;o[e]?(o[e]=X(n),le(image,t)):se(image,e,n)},ue=(image,e)=>image.style[e]?K(image.style[e]):re(image,e),de=(image,e)=>{const t=X(e);image.style.marginLeft=t,image.style.marginRight=t},he=(image,e)=>{const t=X(e);image.style.marginTop=t,image.style.marginBottom=t},pe=(image,e)=>{const t=X(e);image.style.borderWidth=t},me=(image,e)=>{image.style.borderStyle=e},fe=image=>{var e;return null!==(e=image.style.borderStyle)&&void 0!==e?e:""},ge=e=>y(e)&&"FIGURE"===e.nodeName,be=image=>0===ee.getAttrib(image,"alt").length&&"presentation"===ee.getAttrib(image,"role"),ve=image=>be(image)?"":re(image,"alt"),ye=(e,data)=>{var t;const image=document.createElement("img");return se(image,"style",data.style),(te(image)||""!==data.hspace)&&de(image,data.hspace),(ne(image)||""!==data.vspace)&&he(image,data.vspace),(oe(image)||""!==data.border)&&pe(image,data.border),(fe(image)||""!==data.borderStyle)&&me(image,data.borderStyle),e(null!==(t=image.getAttribute("style"))&&void 0!==t?t:"")},we=(e,image)=>({src:re(image,"src"),alt:ve(image),title:re(image,"title"),width:ue(image,"width"),height:ue(image,"height"),class:re(image,"class"),style:e(re(image,"style")),caption:ie(image),hspace:te(image),vspace:ne(image),border:oe(image),borderStyle:fe(image),isDecorative:be(image)}),Ae=(image,e,t,n,o)=>{t[n]!==e[n]&&o(image,n,String(t[n]))},xe=(image,e,t)=>{if(t){ee.setAttrib(image,"role","presentation");const e=I.fromDom(image);E(e,"alt","")}else{if(m(e)){const e=I.fromDom(image);n="alt",e.dom.removeAttribute(n)}else{const t=I.fromDom(image);E(t,"alt",e)}"presentation"===ee.getAttrib(image,"role")&&ee.setAttrib(image,"role","")}var n},Oe=(e,t)=>(image,n,o)=>{e(image,o),le(image,t)},Ce=(e,t,image)=>{const n=we(e,image);Ae(image,n,t,"caption",((image,e,t)=>ae(image))),Ae(image,n,t,"src",se),Ae(image,n,t,"title",se),Ae(image,n,t,"width",ce(0,e)),Ae(image,n,t,"height",ce(0,e)),Ae(image,n,t,"class",se),Ae(image,n,t,"style",Oe(((image,e)=>se(image,"style",e)),e)),Ae(image,n,t,"hspace",Oe(de,e)),Ae(image,n,t,"vspace",Oe(he,e)),Ae(image,n,t,"border",Oe(pe,e)),Ae(image,n,t,"borderStyle",Oe(me,e)),((image,e,t)=>{t.alt===e.alt&&t.isDecorative===e.isDecorative||xe(image,t.alt,t.isDecorative)})(image,n,t)},_e=(e,t)=>{const n=(e=>{if(e.margin){const t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e})(e.dom.styles.parse(t)),o=e.dom.styles.parse(e.dom.styles.serialize(n));return e.dom.styles.serialize(o)},Se=e=>{const t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return n?e.dom.select("img",n)[0]:t&&("IMG"!==t.nodeName||Z(t))?null:t},ke=(e,figure)=>{var t;const n=e.dom,o=((e,t)=>{const n={};var o;return S(e,t,(o=n,(e,i)=>{o[i]=e}),x),n})(e.schema.getTextBlockElements(),((t,n)=>!e.schema.isValidChild(n,"figure"))),r=n.getParent(figure.parentNode,(e=>{return t=o,n=e.nodeName,k(t,n)&&void 0!==t[n]&&null!==t[n];var t,n}),e.getBody());return r&&null!==(t=n.split(r,figure))&&void 0!==t?t:figure},Te=(e,data)=>{const t=((e,data)=>{const image=document.createElement("img");if(Ce(e,{...data,caption:!1},image),xe(image,data.alt,data.isDecorative),data.caption){const figure=ee.create("figure",{class:"image"});return figure.appendChild(image),figure.appendChild(ee.create("figcaption",{contentEditable:"true"},"Caption")),figure.contentEditable="false",figure}return image})((t=>_e(e,t)),data);e.dom.setAttrib(t,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(t.outerHTML);const n=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(n,"data-mce-id",null),ge(n)){const figure=ke(e,n);e.selection.select(figure)}else e.selection.select(n)},je=(e,data)=>{const image=Se(e);if(image)if(Ce((t=>_e(e,t)),data,image),((e,image)=>{e.dom.setAttrib(image,"src",image.getAttribute("src"))})(e,image),ge(image.parentNode)){const figure=image.parentNode;ke(e,figure),e.selection.select(image.parentNode)}else e.selection.select(image),((e,data,t)=>{const n=()=>{t.onload=t.onerror=null,e.selection&&(e.selection.select(t),e.nodeChanged())};t.onload=()=>{data.width||data.height||!L(e)||e.dom.setAttribs(t,{width:String(t.clientWidth),height:String(t.clientHeight)}),n()},t.onerror=n})(e,data,image)},Ee=(e,t)=>{const image=Se(e);if(image){const data={...we((t=>_e(e,t)),image),...t},n=((e,data)=>{const t=data.src;return{...data,src:J(e,t)?t:""}})(e,data);data.src?je(e,n):((e,image)=>{if(image){const t=e.dom.is(image.parentNode,"figure.image")?image.parentNode:image;e.dom.remove(t),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}})(e,image)}else t.src&&Te(e,{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1,...t})},De=(Ie=(e,t)=>d(e)&&d(t)?De(e,t):t,(...e)=>{if(0===e.length)throw new Error("Can't merge zero objects");const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const e in o)k(o,e)&&(t[e]=Ie(t[e],o[e]))}return t});var Ie,Re=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Be=tinymce.util.Tools.resolve("tinymce.util.Tools");const Me=e=>l(e.value)?e.value:"",Pe=(e,t)=>{const n=[];return Be.each(e,(e=>{const text=(e=>l(e.text)?e.text:l(e.title)?e.title:"")(e);if(void 0!==e.menu){const o=Pe(e.menu,t);n.push({text:text,items:o})}else{const o=t(e);n.push({text:text,value:o})}})),n},Le=(e=Me)=>t=>t?O.from(t).map((t=>Pe(t,e))):O.none(),Ne=(e,t)=>((e,t)=>{for(let i=0;i<e.length;i++){const n=t(e[i],i);if(n.isSome())return n}return O.none()})(e,(e=>(e=>k(e,"items"))(e)?Ne(e.items,t):e.value===t?O.some(e):O.none())),$e=Le,ze=e=>Le(Me)(e),Fe=(e,t)=>e.bind((e=>Ne(e,t))),Ve=e=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}),He=e=>{const t=$e((t=>e.convertURL(t.value||t.url||"","src"))),n=new Promise((n=>{((e,t)=>{const n=Q(e);l(n)?fetch(n).then((e=>{e.ok&&e.json().then(t)})):w(n)?n(t):t(n)})(e,(e=>{n(t(e).map((e=>j([[{text:"None",value:""}],e]))))}))})),o=ze(F(e)),r=N(e),c=$(e),d=(e=>M(e.options.get("images_upload_url")))(e),h=(e=>y(e.options.get("images_upload_handler")))(e),image=(e=>{const image=Se(e);return image?we((t=>_e(e,t)),image):{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}})(e),m=V(e),f=H(e),v=L(e),A=W(e),x=U(e),C=Y(e),_=O.some(z(e)).filter((e=>l(e)&&e.length>0));return n.then((e=>({image:image,imageList:e,classList:o,hasAdvTab:r,hasUploadTab:c,hasUploadUrl:d,hasUploadHandler:h,hasDescription:m,hasImageTitle:f,hasDimensions:v,hasImageCaption:A,prependURL:_,hasAccessibilityOptions:x,automaticUploads:C})))},qe=e=>{const t=e.imageList.map((e=>({name:"images",type:"listbox",label:"Image list",items:e}))),n={name:"alt",type:"input",label:"Alternative description",enabled:!(e.hasAccessibilityOptions&&e.image.isDecorative)},o=e.classList.map((e=>({name:"classes",type:"listbox",label:"Class",items:e})));return j([[{name:"src",type:"urlinput",filetype:"image",label:"Source"}],t.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[{type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]}]:[],e.hasDescription?[n]:[],e.hasImageTitle?[{name:"title",type:"input",label:"Image title"}]:[],e.hasDimensions?[{name:"dimensions",type:"sizeinput"}]:[],[{...(r=e.classList.isSome()&&e.hasImageCaption,r?{type:"grid",columns:2}:{type:"panel"}),items:j([o.toArray(),e.hasImageCaption?[{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[]])}]]);var r},We=e=>({title:"General",name:"general",items:qe(e)}),Qe=qe,Ue=e=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]}),Ye=image=>({src:{value:image.src,meta:{}},images:image.src,alt:image.alt,title:image.title,dimensions:{width:image.width,height:image.height},classes:image.class,caption:image.caption,style:image.style,vspace:image.vspace,border:image.border,hspace:image.hspace,borderstyle:image.borderStyle,fileinput:[],isDecorative:image.isDecorative}),Ge=(data,e)=>({src:data.src.value,alt:null!==data.alt&&0!==data.alt.length||!e?data.alt:null,title:data.title,width:data.dimensions.width,height:data.dimensions.height,class:data.classes,style:data.style,caption:data.caption,hspace:data.hspace,vspace:data.vspace,border:data.border,borderStyle:data.borderstyle,isDecorative:data.isDecorative}),Ke=(e,t)=>{const data=t.getData();((e,t)=>/^(?:[a-zA-Z]+:)?\/\//.test(t)?O.none():e.prependURL.bind((e=>t.substring(0,e.length)!==e?O.some(e+t):O.none())))(e,data.src.value).each((e=>{t.setData({src:{value:e,meta:data.src.meta}})}))},Xe=(e,t)=>{const data=t.getData(),meta=data.src.meta;if(void 0!==meta){const n=De({},data);((e,data,meta)=>{e.hasDescription&&l(meta.alt)&&(data.alt=meta.alt),e.hasAccessibilityOptions&&(data.isDecorative=meta.isDecorative||data.isDecorative||!1),e.hasImageTitle&&l(meta.title)&&(data.title=meta.title),e.hasDimensions&&(l(meta.width)&&(data.dimensions.width=meta.width),l(meta.height)&&(data.dimensions.height=meta.height)),l(meta.class)&&Fe(e.classList,meta.class).each((e=>{data.classes=e.value})),e.hasImageCaption&&v(meta.caption)&&(data.caption=meta.caption),e.hasAdvTab&&(l(meta.style)&&(data.style=meta.style),l(meta.vspace)&&(data.vspace=meta.vspace),l(meta.border)&&(data.border=meta.border),l(meta.hspace)&&(data.hspace=meta.hspace),l(meta.borderstyle)&&(data.borderstyle=meta.borderstyle))})(e,n,meta),t.setData(n)}},Ze=(e,t,n,o)=>{Ke(t,o),Xe(t,o),((e,t,n,o)=>{const data=o.getData(),r=data.src.value,meta=data.src.meta||{};meta.width||meta.height||!t.hasDimensions||(M(r)?e.imageSize(r).then((e=>{n.open&&o.setData({dimensions:e})})).catch((e=>console.error(e))):o.setData({dimensions:{width:"",height:""}}))})(e,t,n,o),((e,t,n)=>{const data=n.getData(),image=Fe(e.imageList,data.src.value);t.prevImage=image,n.setData({images:image.map((e=>e.value)).getOr("")})})(t,n,o)},Je=(e,t,n,o)=>{const data=o.getData();o.block("Uploading image"),head(data.fileinput).fold((()=>{o.unblock()}),(r=>{const l=URL.createObjectURL(r),c=()=>{o.unblock(),URL.revokeObjectURL(l)},d=r=>{o.setData({src:{value:r,meta:{}}}),o.showTab("general"),Ze(e,t,n,o)};var h;(h=r,new Promise(((e,t)=>{const n=new FileReader;n.onload=()=>{e(n.result)},n.onerror=()=>{var e;t(null===(e=n.error)||void 0===e?void 0:e.message)},n.readAsDataURL(h)}))).then((n=>{const h=e.createBlobCache(r,l,n);t.automaticUploads?e.uploadImage(h).then((e=>{d(e.url),c()})).catch((t=>{c(),e.alertErr(t)})):(e.addToBlobCache(h),d(h.blobUri()),o.unblock())}))}))},et=(e,t,n)=>(o,r)=>{"src"===r.name?Ze(e,t,n,o):"images"===r.name?((e,t,n,o)=>{const data=o.getData(),image=Fe(t.imageList,data.images);image.each((img=>{const e=""===data.alt||n.prevImage.map((image=>image.text===data.alt)).getOr(!1);e?""===img.value?o.setData({src:img,alt:n.prevAlt}):o.setData({src:img,alt:img.text}):o.setData({src:img})})),n.prevImage=image,Ze(e,t,n,o)})(e,t,n,o):"alt"===r.name?n.prevAlt=o.getData().alt:"fileinput"===r.name?Je(e,t,n,o):"isDecorative"===r.name&&o.setEnabled("alt",!o.getData().isDecorative)},tt=e=>()=>{e.open=!1},nt=e=>{if(e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler){return{type:"tabpanel",tabs:j([[We(e)],e.hasAdvTab?[Ve(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[Ue(e)]:[]])}}return{type:"panel",items:Qe(e)}},ot=(e,t,n)=>o=>{const data=De(Ye(t.image),o.getData()),r={...data,style:ye(n.normalizeCss,Ge(data,!1))};e.execCommand("mceUpdateImage",!1,Ge(r,t.hasAccessibilityOptions)),e.editorUpload.uploadImagesAuto(),o.close()},it=e=>t=>J(e,t)?(e=>new Promise((t=>{const img=document.createElement("img"),n=e=>{img.onload=img.onerror=null,img.parentNode&&img.parentNode.removeChild(img),t(e)};img.onload=()=>{const e={width:G(img.width,img.clientWidth),height:G(img.height,img.clientHeight)};n(Promise.resolve(e))},img.onerror=()=>{n(Promise.reject(`Failed to get image dimensions for: ${e}`))};const style=img.style;style.visibility="hidden",style.position="fixed",style.bottom=style.left="0px",style.width=style.height="auto",document.body.appendChild(img),img.src=e})))(e.documentBaseURI.toAbsolute(t)).then((e=>({width:String(e.width),height:String(e.height)}))):Promise.resolve({width:"",height:""}),st=e=>(t,n,o)=>{var r;return e.editorUpload.blobCache.create({blob:t,blobUri:n,name:null===(r=t.name)||void 0===r?void 0:r.replace(/\.[^\.]+$/,""),filename:t.name,base64:o.split(",")[1]})},at=e=>t=>{e.editorUpload.blobCache.add(t)},lt=e=>t=>{e.windowManager.alert(t)},ct=e=>t=>_e(e,t),ut=e=>t=>e.dom.parseStyle(t),ht=e=>(t,n)=>e.dom.serializeStyle(t,n),pt=e=>t=>Re(e).upload([t],!1).then((e=>{var t;return 0===e.length?Promise.reject("Failed to upload image"):!1===e[0].status?Promise.reject(null===(t=e[0].error)||void 0===t?void 0:t.message):e[0]})),mt=e=>{const t={imageSize:it(e),addToBlobCache:at(e),createBlobCache:st(e),alertErr:lt(e),normalizeCss:ct(e),parseStyle:ut(e),serializeStyle:ht(e),uploadImage:pt(e)};return{open:()=>{He(e).then((n=>{const o=(e=>({prevImage:Fe(e.imageList,e.image.src),prevAlt:e.image.alt,open:!0}))(n);return{title:"Insert/Edit Image",size:"normal",body:nt(n),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ye(n.image),onSubmit:ot(e,n,t),onChange:et(t,n,o),onClose:tt(o)}})).then(e.windowManager.open)}}},ft=e=>{const t=e.attr("class");return y(t)&&/\bimage\b/.test(t)},gt=e=>t=>{let i=t.length;const n=t=>{t.attr("contenteditable",e?"true":null)};for(;i--;){const o=t[i];ft(o)&&(o.attr("contenteditable",e?"false":null),Be.each(o.getAll("figcaption"),n))}},bt=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("image",(e=>{P(e),(e=>{e.on("PreInit",(()=>{e.parser.addNodeFilter("figure",gt(!0)),e.serializer.addNodeFilter("figure",gt(!1))}))})(e),(e=>{e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:mt(e).open,onSetup:t=>{t.setActive(y(Se(e)));const n=e.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",t.setActive).unbind,o=bt(e)(t);return()=>{n(),o()}}}),e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:mt(e).open,onSetup:bt(e)}),e.ui.registry.addContextMenu("image",{update:element=>e.selection.isEditable()&&(ge(element)||"IMG"===element.nodeName&&!Z(element))?["image"]:[]})})(e),(e=>{e.addCommand("mceImage",mt(e).open),e.addCommand("mceUpdateImage",((t,data)=>{e.undoManager.transact((()=>Ee(e,data)))}))})(e)}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(l=String).prototype,o.isPrototypeOf(n)||(null===(c=r.constructor)||void 0===c?void 0:c.name)===l.name)?"string":t;var n,o;var r,l,c})(t)===e,n=t("string"),o=t("object"),r=t("array"),l=a=>!(a=>null==a)(a);class c{constructor(e,t){this.tag=e,this.value=t}static some(e){return new c(!0,e)}static none(){return c.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?c.some(e(this.value)):c.none()}bind(e){return this.tag?e(this.value):c.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:c.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return l(e)?c.some(e):c.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}c.singletonNone=new c(!1);const d=Array.prototype.push,h=(e,t)=>{for(let i=0,n=e.length;i<n;i++){t(e[i],i)}},m=e=>{const t=[];for(let i=0,n=e.length;i<n;++i){if(!r(e[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+e);d.apply(t,e[i])}return t},f=Object.keys,v=Object.hasOwnProperty,y=(e,t)=>w(e,t)?c.from(e[t]):c.none(),w=(e,t)=>v.call(e,t),option=e=>t=>t.options.get(e),A=option("audio_template_callback"),x=option("video_template_callback"),O=option("iframe_template_callback"),C=option("media_live_embeds"),_=option("media_filter_html"),S=option("media_url_resolver"),k=option("media_alt_source"),T=option("media_poster"),j=option("media_dimensions");var E=tinymce.util.Tools.resolve("tinymce.util.Tools"),D=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),I=tinymce.util.Tools.resolve("tinymce.html.DomParser");const R=D.DOM,B=e=>e.replace(/px$/,""),M=e=>{const style=e.attr("style"),t=style?R.parseStyle(style):{};return{type:"ephox-embed-iri",source:e.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:y(t,"max-width").map(B).getOr(""),height:y(t,"max-height").map(B).getOr("")}},P=(html,e)=>{let data={};for(let t=I({validate:!1,forced_root_block:!1},e).parse(html);t;t=t.walk())if(1===t.type){const e=t.name;if(t.attr("data-ephox-embed-iri")){data=M(t);break}data.source||"param"!==e||(data.source=t.attr("movie")),"iframe"!==e&&"object"!==e&&"embed"!==e&&"video"!==e&&"audio"!==e||(data.type||(data.type=e),data=E.extend(t.attributes.map,data)),"source"===e&&(data.source?data.altsource||(data.altsource=t.attr("src")):data.source=t.attr("src")),"img"!==e||data.poster||(data.poster=t.attr("src"))}return data.source=data.source||data.src||"",data.altsource=data.altsource||"",data.poster=data.poster||"",data},L=e=>{var t;const n=null!==(t=e.toLowerCase().split(".").pop())&&void 0!==t?t:"";return y({mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},n).getOr("")};var N=tinymce.util.Tools.resolve("tinymce.html.Node"),$=tinymce.util.Tools.resolve("tinymce.html.Serializer");const z=(e,t={})=>I({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...t},e),F=D.DOM,V=e=>/^[0-9.]+$/.test(e)?e+"px":e,H=(data,e)=>{const style=e.attr("style"),t=style?F.parseStyle(style):{};l(data.width)&&(t["max-width"]=V(data.width)),l(data.height)&&(t["max-height"]=V(data.height)),e.attr("style",F.serializeStyle(t))},W=["source","altsource"],Q=(html,data,e,t)=>{let n=0,o=0;const r=z(t);r.addNodeFilter("source",(e=>n=e.length));const l=r.parse(html);for(let t=l;t;t=t.walk())if(1===t.type){const r=t.name;if(t.attr("data-ephox-embed-iri")){H(data,t);break}switch(r){case"video":case"object":case"embed":case"img":case"iframe":void 0!==data.height&&void 0!==data.width&&(t.attr("width",data.width),t.attr("height",data.height))}if(e)switch(r){case"video":t.attr("poster",data.poster),t.attr("src",null);for(let e=n;e<2;e++)if(data[W[e]]){const source=new N("source",1);source.attr("src",data[W[e]]),source.attr("type",data[W[e]+"mime"]||null),t.append(source)}break;case"iframe":t.attr("src",data.source);break;case"object":const e=t.getAll("img").length>0;if(data.poster&&!e){t.attr("src",data.poster);const img=new N("img",1);img.attr("src",data.poster),img.attr("width",data.width),img.attr("height",data.height),t.append(img)}break;case"source":if(o<2&&(t.attr("src",data[W[o]]),t.attr("type",data[W[o]+"mime"]||null),!data[W[o]])){t.remove();continue}o++;break;case"img":data.poster||t.remove()}}return $({},t).serialize(l)},U=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Y=(pattern,e)=>{const t=(e=>{const t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"})(e),n=pattern.regex.exec(e);let o=t+pattern.url;if(l(n))for(let i=0;i<n.length;i++)o=o.replace("$"+i,(()=>n[i]?n[i]:""));return o.replace(/\?$/,"")},G=e=>{const t=U.filter((pattern=>pattern.regex.test(e)));return t.length>0?E.extend({},t[0],{url:Y(t[0],e)}):null},K=(e,t)=>{var n;const data=E.extend({},t);if(!data.source&&(E.extend(data,P(null!==(n=data.embed)&&void 0!==n?n:"",e.schema)),!data.source))return"";data.altsource||(data.altsource=""),data.poster||(data.poster=""),data.source=e.convertURL(data.source,"source"),data.altsource=e.convertURL(data.altsource,"source"),data.sourcemime=L(data.source),data.altsourcemime=L(data.altsource),data.poster=e.convertURL(data.poster,"poster");const pattern=G(data.source);if(pattern&&(data.source=pattern.url,data.type=pattern.type,data.allowfullscreen=pattern.allowFullscreen,data.width=data.width||String(pattern.w),data.height=data.height||String(pattern.h)),data.embed)return Q(data.embed,data,!0,e.schema);{const t=A(e),n=x(e),o=O(e);return data.width=data.width||"300",data.height=data.height||"150",E.each(data,((t,n)=>{data[n]=e.dom.encode(""+t)})),"iframe"===data.type?((data,e)=>{if(e)return e(data);{const e=data.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+data.source+'" width="'+data.width+'" height="'+data.height+'"'+e+"></iframe>"}})(data,o):"application/x-shockwave-flash"===data.sourcemime?(data=>{let html='<object data="'+data.source+'" width="'+data.width+'" height="'+data.height+'" type="application/x-shockwave-flash">';return data.poster&&(html+='<img src="'+data.poster+'" width="'+data.width+'" height="'+data.height+'" />'),html+="</object>",html})(data):-1!==data.sourcemime.indexOf("audio")?((data,e)=>e?e(data):'<audio controls="controls" src="'+data.source+'">'+(data.altsource?'\n<source src="'+data.altsource+'"'+(data.altsourcemime?' type="'+data.altsourcemime+'"':"")+" />\n":"")+"</audio>")(data,t):((data,e)=>e?e(data):'<video width="'+data.width+'" height="'+data.height+'"'+(data.poster?' poster="'+data.poster+'"':"")+' controls="controls">\n<source src="'+data.source+'"'+(data.sourcemime?' type="'+data.sourcemime+'"':"")+" />\n"+(data.altsource?'<source src="'+data.altsource+'"'+(data.altsourcemime?' type="'+data.altsourcemime+'"':"")+" />\n":"")+"</video>")(data,n)}},X=element=>element.hasAttribute("data-mce-object")||element.hasAttribute("data-ephox-embed-iri"),Z={},J=e=>data=>K(e,data),ee=(e,data)=>{const t=S(e);return t?((data,e,t)=>new Promise(((n,o)=>{const r=t=>(t.html&&(Z[data.source]=t),n({url:data.source,html:t.html?t.html:e(data)}));Z[data.source]?r(Z[data.source]):t({url:data.source},r,o)})))(data,J(e),t):((data,e)=>Promise.resolve({html:e(data),url:data.source}))(data,J(e))},te=(data,e)=>{const t={};return y(data,"dimensions").each((n=>{h(["width","height"],(o=>{y(e,o).orThunk((()=>y(n,o))).each((e=>t[o]=e))}))})),t},ne=(data,e)=>{const t=e&&"dimensions"!==e?((e,data)=>y(data,e).bind((e=>y(e,"meta"))))(e,data).getOr({}):{},n=((data,e,t)=>n=>{const r=()=>y(data,n),l=()=>y(e,n),d=e=>y(e,"value").bind((e=>e.length>0?c.some(e):c.none()));return{[n]:(n===t?r().bind((e=>o(e)?d(e).orThunk(l):l().orThunk((()=>c.from(e))))):l().orThunk((()=>r().bind((e=>o(e)?d(e):c.from(e)))))).getOr("")}})(data,t,e);return{...n("source"),...n("altsource"),...n("poster"),...n("embed"),...te(data,t)}},oe=data=>{const e={...data,source:{value:y(data,"source").getOr("")},altsource:{value:y(data,"altsource").getOr("")},poster:{value:y(data,"poster").getOr("")}};return h(["width","height"],(t=>{y(data,t).each((n=>{const o=e.dimensions||{};o[t]=n,e.dimensions=o}))})),e},re=e=>t=>{const n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})},ie=(e,t)=>o=>{if(n(o.url)&&o.url.trim().length>0){const html=o.html,n={...P(html,t.schema),source:o.url,embed:html};e.setData(oe(n))}},se=(e,html)=>{const t=e.dom.select("*[data-mce-object]");e.insertContent(html),((e,t)=>{const n=e.dom.select("*[data-mce-object]");for(let i=0;i<t.length;i++)for(let e=n.length-1;e>=0;e--)t[i]===n[e]&&n.splice(e,1);e.selection.select(n[0])})(e,t),e.nodeChanged()},ae=(e,t)=>l(t)&&"ephox-embed-iri"===t&&l(G(e)),le=(e,t)=>((e,t)=>e.width!==t.width||e.height!==t.height)(e,t)&&ae(t.source,e.type),ce=(e,t,n)=>{var o,r;t.embed=le(e,t)&&j(n)?K(n,{...t,embed:""}):Q(null!==(o=t.embed)&&void 0!==o?o:"",t,!1,n.schema),t.embed&&(e.source===t.source||(r=t.source,w(Z,r)))?se(n,t.embed):ee(n,t).then((e=>{se(n,e.html)})).catch(re(n))},ue=e=>{const t=(e=>{const element=e.selection.getNode(),t=X(element)?e.serializer.serialize(element,{selection:!0}):"",data=P(t,e.schema),n=(()=>{if(ae(data.source,data.type)){const rect=e.dom.getRect(element);return{width:rect.w.toString().replace(/px$/,""),height:rect.h.toString().replace(/px$/,"")}}return{}})();return{embed:t,...data,...n}})(e),n=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(t),o=oe(t),r=j(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],l={title:"General",name:"general",items:m([[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],r])},c={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},d=[];k(e)&&d.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),T(e)&&d.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const h={title:"Advanced",name:"advanced",items:d},f=[l,c];d.length>0&&f.push(h);const body={type:"tabpanel",tabs:f},v=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:body,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{const o=ne(t.getData());ce(n.get(),o,e),t.close()},onChange:(t,o)=>{switch(o.name){case"source":((t,n)=>{const o=ne(n.getData(),"source");t.source!==o.source&&(ie(v,e)({url:o.source,html:""}),ee(e,o).then(ie(v,e)).catch(re(e)))})(n.get(),t);break;case"embed":(t=>{var n;const data=ne(t.getData()),o=P(null!==(n=data.embed)&&void 0!==n?n:"",e.schema);t.setData(oe(o))})(t);break;case"dimensions":case"altsource":case"poster":((t,n,o)=>{const r=ne(t.getData(),n),data=le(o,r)&&j(e)?{...r,embed:""}:r,embed=K(e,data);t.setData(oe({...data,embed:embed}))})(t,o.name,n.get())}n.set(ne(t.getData()))},initialData:o})};var de=tinymce.util.Tools.resolve("tinymce.Env");const he=e=>{const t=e.name;return"iframe"===t||"video"===t||"audio"===t},pe=(e,t,n,o=null)=>{const r=e.attr(n);return l(r)?r:w(t,n)?null:o},me=(e,t,n)=>{const o="img"===t.name||"video"===e.name,r=o?"300":null,l="audio"===e.name?"30":"150",c=o?l:null;t.attr({width:pe(e,n,"width",r),height:pe(e,n,"height",c)})},fe=(e,t)=>{const n=t.name,o=new N("img",1);return be(e,t,o),me(t,o,{}),o.attr({style:t.attr("style"),src:de.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),o},ge=(e,t)=>{var n;const o=t.name,r=new N("span",1);r.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":o,class:"mce-preview-object mce-object-"+o}),be(e,t,r);const c=e.dom.parseStyle(null!==(n=t.attr("style"))&&void 0!==n?n:""),d=new N(o,1);if(me(t,d,c),d.attr({src:t.attr("src"),style:t.attr("style"),class:t.attr("class")}),"iframe"===o)d.attr({allowfullscreen:t.attr("allowfullscreen"),frameborder:"0"});else{h(["controls","crossorigin","currentTime","loop","muted","poster","preload"],(e=>{d.attr(e,t.attr(e))}));const n=r.attr("data-mce-html");l(n)&&((e,t,n,html)=>{const o=z(e.schema).parse(html,{context:t});for(;o.firstChild;)n.append(o.firstChild)})(e,o,d,unescape(n))}const m=new N("span",1);return m.attr("class","mce-shim"),r.append(d),r.append(m),r},be=(e,t,n)=>{var o;const r=null!==(o=t.attributes)&&void 0!==o?o:[];let l=r.length;for(;l--;){const t=r[l].name;let o=r[l].value;"width"===t||"height"===t||"style"===t||((e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t)(t,"data-mce-",0)||("data"!==t&&"src"!==t||(o=e.convertURL(o,t)),n.attr("data-mce-p-"+t,o))}const c=$({inner:!0},e.schema),d=new N("div",1);h(t.children(),(e=>d.append(e)));const m=c.serialize(d);m&&(n.attr("data-mce-html",escape(m)),n.empty())},ve=e=>{const t=e.attr("class");return n(t)&&/\btiny-pageembed\b/.test(t)},ye=e=>{let t=e;for(;t=t.parent;)if(t.attr("data-ephox-embed-iri")||ve(t))return!0;return!1},we=(e,t,html)=>{const n=(0,e.options.get)("xss_sanitization"),o=_(e);return z(e.schema,{sanitize:n,validate:o}).parse(html,{context:t})},Ae=e=>{e.on("PreInit",(()=>{const{schema:t,serializer:n,parser:o}=e,r=t.getBoolAttrs();h("webkitallowfullscreen mozallowfullscreen".split(" "),(e=>{r[e]={}})),((e,t)=>{const n=f(e);for(let o=0,r=n.length;o<r;o++){const i=n[o];t(e[i],i)}})({embed:["wmode"]},((e,n)=>{const o=t.getElementRule(n);o&&h(e,(e=>{o.attributes[e]={},o.attributesOrder.push(e)}))})),o.addNodeFilter("iframe,video,audio,object,embed",(e=>t=>{let n,i=t.length;for(;i--;)n=t[i],n.parent&&(n.parent.attr("data-mce-object")||(he(n)&&C(e)?ye(n)||n.replace(ge(e,n)):ye(n)||n.replace(fe(e,n))))})(e)),n.addAttributeFilter("data-mce-object",((t,n)=>{var o;let i=t.length;for(;i--;){const r=t[i];if(!r.parent)continue;const l=r.attr(n),c=new N(l,1);if("audio"!==l){const e=r.attr("class");e&&-1!==e.indexOf("mce-preview-object")&&r.firstChild?c.attr({width:r.firstChild.attr("width"),height:r.firstChild.attr("height")}):c.attr({width:r.attr("width"),height:r.attr("height")})}c.attr({style:r.attr("style")});const d=null!==(o=r.attributes)&&void 0!==o?o:[];let m=d.length;for(;m--;){const e=d[m].name;0===e.indexOf("data-mce-p-")&&c.attr(e.substr(11),d[m].value)}const f=r.attr("data-mce-html");if(f){const t=we(e,l,unescape(f));h(t.children(),(e=>c.append(e)))}r.replace(c)}}))})),e.on("SetContent",(()=>{const t=e.dom;h(t.select("span.mce-preview-object"),(e=>{0===t.select("span.mce-shim",e).length&&t.add(e,"span",{class:"mce-shim"})}))}))},xe=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("media",(e=>((e=>{const t=e.options.register;t("audio_template_callback",{processor:"function"}),t("video_template_callback",{processor:"function"}),t("iframe_template_callback",{processor:"function"}),t("media_live_embeds",{processor:"boolean",default:!0}),t("media_filter_html",{processor:"boolean",default:!0}),t("media_url_resolver",{processor:"function"}),t("media_alt_source",{processor:"boolean",default:!0}),t("media_poster",{processor:"boolean",default:!0}),t("media_dimensions",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceMedia",(()=>{ue(e)}))})(e),(e=>{const t=()=>e.execCommand("mceMedia");e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:t,onSetup:t=>{const n=e.selection;t.setActive(X(n.getNode()));const o=n.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",t.setActive).unbind,r=xe(e)(t);return()=>{o(),r()}}}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:t,onSetup:xe(e)})})(e),(e=>{e.on("ResolveName",(e=>{let t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}))})(e),Ae(e),(e=>{e.on("click keyup touchend",(()=>{const t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")})),e.on("ObjectResized",(t=>{const n=t.target;if(n.getAttribute("data-mce-object")){let html=n.getAttribute("data-mce-html");html&&(html=unescape(html),n.setAttribute("data-mce-html",escape(Q(html,{width:String(t.width),height:String(t.height)},!1,e.schema))))}}))})(e),(e=>({showDialog:()=>{ue(e)}}))(e))))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(l=String).prototype,o.isPrototypeOf(n)||(null===(c=r.constructor)||void 0===c?void 0:c.name)===l.name)?"string":t;var n,o;var r,l,c})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("array"),l=n("boolean"),c=(d=void 0,a=>d===a);var d;const h=a=>!(a=>null==a)(a),m=n("function"),f=n("number"),v=()=>{},y=e=>()=>e,w=e=>e,A=(a,b)=>a===b;function x(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const O=e=>{e()},C=y(!1),_=y(!0);class S{constructor(e,t){this.tag=e,this.value=t}static some(e){return new S(!0,e)}static none(){return S.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?S.some(e(this.value)):S.none()}bind(e){return this.tag?e(this.value):S.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:S.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return h(e)?S.some(e):S.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}S.singletonNone=new S(!1);const k=Object.keys,T=Object.hasOwnProperty,j=(e,t)=>{const n=k(e);for(let o=0,r=n.length;o<r;o++){const i=n[o];t(e[i],i)}},E=(e,t)=>{const n={};var o;return((e,t,n,o)=>{j(e,((e,i)=>{(t(e,i)?n:o)(e,i)}))})(e,t,(o=n,(e,i)=>{o[i]=e}),v),n},D=e=>((e,t)=>{const n=[];return j(e,((e,o)=>{n.push(t(e,o))})),n})(e,w),I=e=>k(e).length,R=(e,t)=>B(e,t)?S.from(e[t]):S.none(),B=(e,t)=>T.call(e,t),M=(e,t)=>B(e,t)&&void 0!==e[t]&&null!==e[t],P=Array.prototype.indexOf,L=Array.prototype.push,N=(e,t)=>((e,t)=>P.call(e,t))(e,t)>-1,$=(e,t)=>{for(let i=0,n=e.length;i<n;i++){if(t(e[i],i))return!0}return!1},z=(e,t)=>{const n=[];for(let i=0;i<e;i++)n.push(t(i));return n},map=(e,t)=>{const n=e.length,o=new Array(n);for(let i=0;i<n;i++){const n=e[i];o[i]=t(n,i)}return o},F=(e,t)=>{for(let i=0,n=e.length;i<n;i++){t(e[i],i)}},filter=(e,t)=>{const n=[];for(let i=0,o=e.length;i<o;i++){const o=e[i];t(o,i)&&n.push(o)}return n},V=(e,t,n)=>(F(e,((e,i)=>{n=t(n,e,i)})),n),H=(e,t)=>((e,t,n)=>{for(let i=0,o=e.length;i<o;i++){const o=e[i];if(t(o,i))return S.some(o);if(n(o,i))break}return S.none()})(e,t,C),W=(e,t)=>(e=>{const t=[];for(let i=0,n=e.length;i<n;++i){if(!r(e[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+e);L.apply(t,e[i])}return t})(map(e,t)),Q=(e,t)=>{for(let i=0,n=e.length;i<n;++i){if(!0!==t(e[i],i))return!1}return!0},U=(e,i)=>i>=0&&i<e.length?S.some(e[i]):S.none(),Y=(e,t)=>{for(let i=0;i<e.length;i++){const n=t(e[i],i);if(n.isSome())return n}return S.none()},G=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},K={fromHtml:(html,e)=>{const div=(e||document).createElement("div");if(div.innerHTML=html,!div.hasChildNodes()||div.childNodes.length>1){const e="HTML does not have a single root node";throw console.error(e,html),new Error(e)}return G(div.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return G(n)},fromText:(text,e)=>{const t=(e||document).createTextNode(text);return G(t)},fromDom:G,fromPoint:(e,t,n)=>S.from(e.dom.elementFromPoint(t,n)).map(G)},X=(element,e)=>{const t=element.dom;if(1!==t.nodeType)return!1;{const n=t;if(void 0!==n.matches)return n.matches(e);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(e);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(e);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")}},Z=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,J=(e,t)=>e.dom===t.dom,ee=X;"undefined"!=typeof window?window:Function("return this;")();const te=element=>element.dom.nodeName.toLowerCase(),ne=element=>element.dom.nodeType,oe=e=>element=>ne(element)===e,re=element=>8===ne(element)||"#comment"===te(element),ie=oe(1),se=oe(3),ae=oe(9),le=oe(11),ce=e=>t=>ie(t)&&te(t)===e,ue=e=>{return ae(e)?e:(element=e,K.fromDom(element.dom.ownerDocument));var element},de=element=>S.from(element.dom.parentNode).map(K.fromDom),he=(element,e)=>{const t=m(e)?e:C;let n=element.dom;const o=[];for(;null!==n.parentNode&&void 0!==n.parentNode;){const e=n.parentNode,p=K.fromDom(e);if(o.push(p),!0===t(p))break;n=e}return o},pe=element=>S.from(element.dom.previousSibling).map(K.fromDom),me=element=>S.from(element.dom.nextSibling).map(K.fromDom),fe=element=>map(element.dom.childNodes,K.fromDom),ge=element=>((element,e)=>{const t=element.dom.childNodes;return S.from(t[e]).map(K.fromDom)})(element,0),be=m(Element.prototype.attachShadow)&&m(Node.prototype.getRootNode)?e=>K.fromDom(e.dom.getRootNode()):ue,ve=e=>{const t=be(e);return le(n=t)&&h(n.dom.host)?S.some(t):S.none();var n},ye=e=>K.fromDom(e.dom.host),we=element=>{const e=se(element)?element.dom.parentNode:element.dom;if(null==e||null===e.ownerDocument)return!1;const t=e.ownerDocument;return ve(K.fromDom(e)).fold((()=>t.body.contains(e)),(n=we,o=ye,a=>n(o(a))));var n,o};var Ae=(e,t,n,a,o)=>e(n,a)?S.some(n):m(o)&&o(n)?S.none():t(n,a,o);const xe=(e,t,n)=>{let element=e.dom;const o=m(n)?n:C;for(;element.parentNode;){element=element.parentNode;const e=K.fromDom(element);if(t(e))return S.some(e);if(o(e))break}return S.none()},Oe=(e,t,n)=>xe(e,(e=>X(e,t)),n),Ce=(e,t)=>((e,t)=>H(e.dom.childNodes,(e=>t(K.fromDom(e)))).map(K.fromDom))(e,(e=>X(e,t))),_e=(e,t)=>((e,t)=>{const base=void 0===t?document:t.dom;return Z(base)?S.none():S.from(base.querySelector(e)).map(K.fromDom)})(t,e),Se=(e,t,n)=>Ae(((element,e)=>X(element,e)),Oe,e,t,n),ke=(element,e=!1)=>{return we(element)?element.dom.isContentEditable:(t=element,Se(t,"[contenteditable]")).fold(y(e),(e=>"true"===Te(e)));var t},Te=element=>element.dom.contentEditable,je=e=>element=>J(element,(e=>K.fromDom(e.getBody()))(e)),Ee=e=>/^\d+(\.\d+)?$/.test(e)?e+"px":e,De=e=>K.fromDom(e.selection.getStart()),Ie=e=>{return(t=e,n=ce("table"),Ae(((s,e)=>e(s)),xe,t,n,o)).forall(ke);var t,n,o},Re=(e,t)=>{let n=[];return F(fe(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(Re(e,t))})),n},Be=(e,t)=>((e,t)=>filter(fe(e),t))(e,(e=>X(e,t))),Me=(e,t)=>((e,t)=>{const base=void 0===t?document:t.dom;return Z(base)?[]:map(base.querySelectorAll(e),K.fromDom)})(t,e),Pe=(e,t,n)=>{if(!(o(n)||l(n)||f(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Le=(element,e,t)=>{Pe(element.dom,e,t)},Ne=(element,e)=>{const t=element.dom.getAttribute(e);return null===t?void 0:t},$e=(element,e)=>S.from(Ne(element,e)),ze=(element,e)=>{element.dom.removeAttribute(e)},Fe=(e,t,n=A)=>e.exists((e=>n(e,t))),Ve=(e,t,n)=>e.isSome()&&t.isSome()?S.some(n(e.getOrDie(),t.getOrDie())):S.none(),He=(e,t)=>((e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t)(e,t,0),qe=(We=/^\s+|\s+$/g,s=>s.replace(We,""));var We;const Qe=s=>s.length>0,Ue=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?S.none():S.some(n)},Ye=e=>void 0!==e.style&&m(e.style.getPropertyValue),Ge=(element,e,t)=>{((e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Ye(e)&&e.style.setProperty(t,n)})(element.dom,e,t)},Ke=(element,e)=>{const t=element.dom,n=window.getComputedStyle(t).getPropertyValue(e);return""!==n||we(element)?n:Xe(t,e)},Xe=(e,t)=>Ye(e)?e.style.getPropertyValue(t):"",Ze=(element,e)=>{const t=element.dom,n=Xe(t,e);return S.from(n).filter((e=>e.length>0))},Je=(element,e)=>{((e,t)=>{Ye(e)&&e.style.removeProperty(t)})(element.dom,e),Fe($e(element,"style").map(qe),"")&&ze(element,"style")},et=(e,t,n=0)=>$e(e,t).map((e=>parseInt(e,10))).getOr(n),tt=(e,t)=>nt(e,t,_),nt=(e,t,n)=>W(fe(e),(e=>X(e,t)?n(e)?[e]:[]:nt(e,t,n))),ot=["tfoot","thead","tbody","colgroup"],it=(element,e,t)=>({element:element,rowspan:e,colspan:t}),st=(element,e,section)=>({element:element,cells:e,section:section}),at=(element,e)=>((e,element,t=C)=>t(element)?S.none():N(e,te(element))?S.some(element):Oe(element,e.join(","),(e=>X(e,"table")||t(e))))(["td","th"],element,e),table=(element,e)=>Se(element,"table",e),lt=e=>tt(e,"tr"),ct=e=>table(e).fold(y([]),(table=>Be(table,"colgroup"))),ut=(e,t)=>map(e,(e=>{if("colgroup"===te(e)){const t=map((e=>X(e,"colgroup")?Be(e,"col"):W(ct(e),(e=>Be(e,"col"))))(e),(e=>{const t=et(e,"span",1);return it(e,1,t)}));return st(e,t,"colgroup")}{const n=map((e=>tt(e,"th,td"))(e),(e=>{const t=et(e,"rowspan",1),n=et(e,"colspan",1);return it(e,t,n)}));return st(e,n,t(e))}})),ht=e=>de(e).map((e=>{const t=te(e);return(e=>N(ot,e))(t)?t:"tbody"})).getOr("tbody"),pt=table=>$e(table,"data-snooker-locked-cols").bind((e=>S.from(e.match(/\d+/g)))).map((e=>((e,t)=>{const n={};for(let i=0,o=e.length;i<o;i++){const o=e[i];n[String(o)]=t(o,i)}return n})(e,_))),mt=(e,t)=>e+","+t,ft=(e,t)=>{const n=W(e.all,(e=>e.cells));return filter(n,t)},gt=e=>{const t={},n=[];var o;const r=(o=e,U(o,0)).map((e=>e.element)).bind(table).bind(pt).getOr({});let l=0,c=0,d=0;const{pass:h,fail:m}=((e,t)=>{const n=[],o=[];for(let i=0,r=e.length;i<r;i++){const r=e[i];(t(r,i)?n:o).push(r)}return{pass:n,fail:o}})(e,(e=>"colgroup"===e.section));F(m,(e=>{const o=[];F(e.cells,(e=>{let n=0;for(;void 0!==t[mt(d,n)];)n++;const l=M(r,n.toString()),h=((element,e,t,n,o,r)=>({element:element,rowspan:e,colspan:t,row:n,column:o,isLocked:r}))(e.element,e.rowspan,e.colspan,d,n,l);for(let o=0;o<e.colspan;o++)for(let r=0;r<e.rowspan;r++){const e=n+o,l=mt(d+r,e);t[l]=h,c=Math.max(c,e+1)}o.push(h)})),l++,n.push(st(e.element,o,e.section)),d++}));const{columns:f,colgroups:v}=(e=>U(e,e.length-1))(h).map((e=>{const t=(e=>{const t={};let n=0;return F(e.cells,(e=>{const o=e.colspan;z(o,(r=>{const l=n+r;t[l]=((element,e,t)=>({element:element,colspan:e,column:t}))(e.element,o,l)})),n+=o})),t})(e),n=((element,e)=>({element:element,columns:e}))(e.element,D(t));return{colgroups:[n],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),y=((e,t)=>({rows:e,columns:t}))(l,c);return{grid:y,access:t,all:n,columns:f,colgroups:v}},bt=table=>{const e=(table=>{const e=lt(table),t=[...ct(table),...e];return ut(t,ht)})(table);return gt(e)},vt=(e,t,n)=>S.from(e.access[mt(t,n)]),yt=(e,t,n)=>{const o=ft(e,(e=>n(t,e.element)));return o.length>0?S.some(o[0]):S.none()},wt=e=>W(e.all,(e=>e.cells)),At=(e,t)=>S.from(e.columns[t]);var xt=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ot=(e,t,n)=>{const o=e.select("td,th",t);let r;for(let i=0;i<o.length;i++){const t=e.getStyle(o[i],n);if(c(r)&&(r=t),r!==t)return""}return r},Ct=(e,t,n)=>{xt.each("left center right".split(" "),(o=>{o!==n&&e.formatter.remove("align"+o,{},t)})),n&&e.formatter.apply("align"+n,{},t)},_t=(e,table,data)=>{e.dispatch("TableModified",{...data,table:table})},St=(e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?S.none():S.some(t)})(e).getOr(t),kt=(element,e,t)=>St(Ke(element,e),t),Tt=(element,e)=>{const t=element.dom,n=t.getBoundingClientRect().width||t.offsetWidth;return"border-box"===e?n:((element,e,t,n)=>e-kt(element,`padding-${t}`,0)-kt(element,`padding-${n}`,0)-kt(element,`border-${t}-width`,0)-kt(element,`border-${n}-width`,0))(element,n,"left","right")},jt=element=>Tt(element,"content-box");var Et=tinymce.util.Tools.resolve("tinymce.Env");const Dt=z(5,(i=>{const e=`${i+1}px`;return{title:e,value:e}})),It=map(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],(e=>({title:e,value:e.toLowerCase()}))),Rt="100%",Bt=e=>{var t;const n=e.dom,o=null!==(t=n.getParent(e.selection.getStart(),n.isBlock))&&void 0!==t?t:e.getBody();return jt(K.fromDom(o))+"px"},option=e=>t=>t.options.get(e),Mt=option("table_sizing_mode"),Pt=option("table_border_widths"),Lt=option("table_border_styles"),Nt=option("table_cell_advtab"),$t=option("table_row_advtab"),zt=option("table_advtab"),Ft=option("table_appearance_options"),Vt=option("table_grid"),Ht=option("table_style_by_css"),qt=option("table_cell_class_list"),Wt=option("table_row_class_list"),Qt=option("table_class_list"),Ut=option("table_toolbar"),Yt=option("table_background_color_map"),Gt=option("table_border_color_map"),Kt=e=>"fixed"===Mt(e),Xt=e=>"responsive"===Mt(e),Zt=e=>{const t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:((e,t)=>Xt(e)||!Ht(e)?t:Kt(e)?{...t,width:Bt(e)}:{...t,width:Rt})(e,n)},Jt=e=>{const t=e.options,n=t.get("table_default_attributes");return t.isSet("table_default_attributes")?n:((e,t)=>Xt(e)||Ht(e)?t:Kt(e)?{...t,width:Bt(e)}:{...t,width:Rt})(e,n)},en=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,tn=(e,t,n)=>{const o=yt(e,t,J),r=yt(e,n,J);return o.bind((e=>r.map((t=>{return n=e,o=t,r=Math.min(n.row,o.row),l=Math.min(n.column,o.column),c=Math.max(n.row+n.rowspan-1,o.row+o.rowspan-1),d=Math.max(n.column+n.colspan-1,o.column+o.colspan-1),{startRow:r,startCol:l,finishRow:c,finishCol:d};var n,o,r,l,c,d}))))},nn=(e,t,n)=>tn(e,t,n).bind((t=>((e,t)=>{let n=!0;const o=x(en,t);for(let i=t.startRow;i<=t.finishRow;i++)for(let r=t.startCol;r<=t.finishCol;r++)n=n&&vt(e,i,r).exists(o);return n?S.some(t):S.none()})(e,t))),on=bt,rn=(marker,element)=>{de(marker).each((e=>{e.dom.insertBefore(element.dom,marker.dom)}))},sn=(marker,element)=>{me(marker).fold((()=>{de(marker).each((e=>{ln(e,element)}))}),(e=>{rn(e,element)}))},an=(e,element)=>{ge(e).fold((()=>{ln(e,element)}),(t=>{e.dom.insertBefore(element.dom,t.dom)}))},ln=(e,element)=>{e.dom.appendChild(element.dom)},cn=(element,e)=>{rn(element,e),ln(e,element)},un=(marker,e)=>{F(e,((t,i)=>{const n=0===i?marker:e[i-1];sn(n,t)}))},dn=(e,t)=>{F(t,(t=>{ln(e,t)}))},hn=element=>{const e=element.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},pn=e=>{const t=fe(e);t.length>0&&un(e,t),hn(e)},mn=((e,t)=>{const n=element=>e(element)?S.from(element.dom.nodeValue):S.none();return{get:element=>{if(!e(element))throw new Error("Can only get "+t+" value of a "+t+" node");return n(element).getOr("")},getOption:n,set:(element,n)=>{if(!e(element))throw new Error("Can only set raw "+t+" value of a "+t+" node");element.dom.nodeValue=n}}})(se,"text"),fn=element=>mn.get(element),gn=(element,e)=>mn.set(element,e);var bn=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];const vn=(e,t,head,n)=>{const o=t(e,head);return r=(b,a)=>{const n=t(e,a);return yn(e,b,n)},l=o,((e,t)=>{for(let i=e.length-1;i>=0;i--)t(e[i],i)})(n,((e,i)=>{l=r(l,e,i)})),l;var r,l},yn=(e,t,n)=>t.bind((s=>n.filter(x(e.eq,s)))),wn=(e,t,n)=>n.length>0?((e,t,n,o)=>o(e,t,n[0],n.slice(1)))(e,t,n,vn):S.none(),An={up:y({selector:Oe,closest:Se,predicate:xe,all:he}),down:y({selector:Me,predicate:Re}),styles:y({get:Ke,getRaw:Ze,set:Ge,remove:Je}),attrs:y({get:Ne,set:Le,remove:ze,copyTo:(source,e)=>{((element,e)=>{const t=element.dom;j(e,((e,n)=>{Pe(t,n,e)}))})(e,V(source.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}))}}),insert:y({before:rn,after:sn,afterAll:un,append:ln,appendAll:dn,prepend:an,wrap:cn}),remove:y({unwrap:pn,remove:hn}),create:y({nu:K.fromTag,clone:element=>K.fromDom(element.dom.cloneNode(!1)),text:K.fromText}),query:y({comparePosition:(element,e)=>element.dom.compareDocumentPosition(e.dom),prevSibling:pe,nextSibling:me}),property:y({children:fe,name:te,parent:de,document:element=>ue(element).dom,isText:se,isComment:re,isElement:ie,isSpecial:element=>{const e=te(element);return N(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],e)},getLanguage:element=>ie(element)?$e(element,"lang"):S.none(),getText:fn,setText:gn,isBoundary:element=>!!ie(element)&&("body"===te(element)||N(bn,te(element))),isEmptyTag:element=>!!ie(element)&&N(["br","img","hr","input"],te(element)),isNonEditable:element=>ie(element)&&"false"===Ne(element,"contenteditable")}),eq:J,is:ee},xn=e=>Oe(e,"table"),On=(e,t,n)=>_e(e,t).bind((t=>_e(e,n).bind((e=>{return(n=xn,o=[t,e],wn(An,((e,element)=>n(element)),o)).map((table=>({first:t,last:e,table:table})));var n,o})))),Cn=(e,t)=>((e,t)=>{const n=Me(e,t);return n.length>0?S.some(n):S.none()})(e,t),_n=(e,t,n)=>On(e,t,n).bind((t=>{const n=t=>J(e,t),o="thead,tfoot,tbody,table",r=Oe(t.first,o,n),l=Oe(t.last,o,n);return r.bind((e=>l.bind((n=>J(e,n)?((table,e,t)=>{const n=on(table);return nn(n,e,t)})(t.table,t.first,t.last):S.none()))))})),Sn=e=>map(e,K.fromDom),kn="data-mce-selected",Tn="data-mce-first-selected",jn="data-mce-last-selected",En={selected:kn,selectedSelector:"td["+kn+"],th["+kn+"]",firstSelected:Tn,firstSelectedSelector:"td["+Tn+"],th["+Tn+"]",lastSelected:jn,lastSelectedSelector:"td["+jn+"],th["+jn+"]"},Dn=e=>(t,n)=>{const o=te(t),r="col"===o||"colgroup"===o?table(element=t).bind((table=>Cn(table,En.firstSelectedSelector))).fold(y(element),(e=>e[0])):t;var element;return Se(r,e,n)},In=Dn("th,td,caption"),Rn=Dn("th,td"),Bn=e=>Sn(e.model.table.getSelectedCells()),Mn=(e,t)=>{const n=Rn(e),o=n.bind((e=>table(e))).map((table=>lt(table)));return Ve(n,o,((e,n)=>filter(n,(n=>$(Sn(n.dom.cells),(n=>"1"===Ne(n,t)||J(n,e))))))).getOr([])},Pn=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Ln=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Nn=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,$n=e=>{return(t=e,n="#",He(t,n)?((e,t)=>e.substring(t))(t,n.length):t).toUpperCase();var t,n},zn=e=>(e=>Ln.test(e)||Nn.test(e))(e)?S.some({value:$n(e)}):S.none(),Fn=component=>{const e=component.toString(16);return(1===e.length?"0"+e:e).toUpperCase()},Vn=e=>(e=>({value:$n(e)}))(Fn(e.red)+Fn(e.green)+Fn(e.blue)),Hn=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,qn=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Wn=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),Qn=(e,t,n,o)=>{const r=parseInt(e,10),g=parseInt(t,10),b=parseInt(n,10),a=parseFloat(o);return Wn(r,g,b,a)},Un=e=>{if("transparent"===e)return S.some(Wn(0,0,0,0));const t=Hn.exec(e);if(null!==t)return S.some(Qn(t[1],t[2],t[3],"1"));const n=qn.exec(e);return null!==n?S.some(Qn(n[1],n[2],n[3],n[4])):S.none()},Yn=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Gn=()=>(e=>{const t=Yn(S.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(S.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:s=>{n(),t.set(S.some(s))}}})((s=>s.unbind())),Kn=(e,t,n)=>o=>{const r=Gn(),l=!Qe(n);const c=()=>{const c=Bn(e),d=o=>e.formatter.match(t,{value:n},o.dom,l);l?(o.setActive(!$(c,d)),r.set(e.formatter.formatChanged(t,(e=>o.setActive(!e)),!0))):(o.setActive(Q(c,d)),r.set(e.formatter.formatChanged(t,o.setActive,!1,{value:n})))};return e.initialized?c():e.on("init",c),r.clear},Xn=e=>M(e,"menu"),Zn=e=>map(e,(e=>{const text=e.text||e.title||"";return Xn(e)?{text:text,items:Zn(e.menu)}:{text:text,value:e.value}})),Jn=(e,t,n,o)=>map(t,(t=>{const text=t.text||t.title;return Xn(t)?{type:"nestedmenuitem",text:text,getSubmenuItems:()=>Jn(e,t.menu,n,o)}:{text:text,type:"togglemenuitem",onAction:()=>o(t.value),onSetup:Kn(e,n,t.value)}})),eo=(e,style)=>t=>{e.execCommand("mceTableApplyCellStyle",!1,{[style]:t})},to=e=>W(e,(e=>Xn(e)?[{...e,menu:to(e.menu)}]:Qe(e.value)?[e]:[])),no=(e,t,n,o)=>r=>r(Jn(e,t,n,o)),oo=(e,t,style)=>{const n=map(t,(e=>{return{text:e.title,value:"#"+(t=e.value,zn(t).orThunk((()=>Un(t).map(Vn))).getOrThunk((()=>{const canvas=document.createElement("canvas");canvas.height=1,canvas.width=1;const e=canvas.getContext("2d");e.clearRect(0,0,canvas.width,canvas.height),e.fillStyle="#FFFFFF",e.fillStyle=t,e.fillRect(0,0,1,1);const n=e.getImageData(0,0,1,1).data,o=n[0],g=n[1],b=n[2],a=n[3];return Vn(Wn(o,g,b,a))}))).value,type:"choiceitem"};var t}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:n.length>0?n:void 0,allowCustomColors:!1},onAction:data=>{const t="remove"===data.value?"":data.value;e.execCommand("mceTableApplyCellStyle",!1,{[style]:t})}}]},ro=e=>()=>{const t="header"===e.queryCommandValue("mceTableRowType")?"body":"header";e.execCommand("mceTableRowType",!1,{type:t})},io=e=>()=>{const t="th"===e.queryCommandValue("mceTableColType")?"td":"th";e.execCommand("mceTableColType",!1,{type:t})},so=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Pn}],ao=e=>so.concat((e=>{const t=Zn(qt(e));return t.length>0?S.some({name:"class",type:"listbox",label:"Class",items:t}):S.none()})(e).toArray()),lo=(e,t)=>{const n=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Zn(Lt(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(n):n}},co=(e,element)=>{const t=e.dom;return{setAttrib:(e,n)=>{t.setAttrib(element,e,n)},setStyle:(e,n)=>{t.setStyle(element,e,n)},setFormat:(t,n)=>{""===n?e.formatter.remove(t,{value:null},element,!0):e.formatter.apply(t,{value:n},element)}}},uo=ce("th"),ho=(e,t)=>e&&t?"sectionCells":e?"section":"cells",po=e=>{const t=filter(e,(e=>uo(e.element)));return 0===t.length?S.some("td"):t.length===e.length?S.some("th"):S.none()},mo=e=>{const t=map(e,(e=>(e=>{const t="thead"===e.section,n=Fe(po(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:ho(t,n)}:{type:"body"}})(e).type)),n=N(t,"header"),o=N(t,"footer");if(n||o){const e=N(t,"body");return!n||e||o?n||e||!o?S.none():S.some("footer"):S.some("header")}return S.some("body")},fo=(e,element)=>Y(e.all,(e=>H(e.cells,(e=>J(element,e.element))))),go=(e,t,n)=>{const o=(e=>{const t=[],n=e=>{t.push(e)};for(let i=0;i<e.length;i++)e[i].each(n);return t})(map(t.selection,(t=>at(t).bind((t=>fo(e,t))).filter(n))));return b=o.length>0,a=o,b?S.some(a):S.none();var b,a},bo=(e,t)=>go(e,t,_),vo=(e,t)=>Q(t,(t=>((e,t)=>fo(e,t).exists((e=>!e.isLocked)))(e,t))),yo=(e,t)=>((e,t)=>t.mergable)(0,t).filter((t=>vo(e,t.cells))),wo=(e,t)=>((e,t)=>t.unmergable)(0,t).filter((t=>vo(e,t))),Ao=e=>{if(!r(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return F(e,((o,l)=>{const c=k(o);if(1!==c.length)throw new Error("one and only one name per case");const d=c[0],h=o[d];if(void 0!==n[d])throw new Error("duplicate key detected:"+d);if("cata"===d)throw new Error("cannot have a case named cata (sorry)");if(!r(h))throw new Error("case arguments must be an array");t.push(d),n[d]=(...n)=>{const o=n.length;if(o!==h.length)throw new Error("Wrong number of arguments to case "+d+". Expected "+h.length+" ("+h+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[l].apply(null,n)},match:e=>{const o=k(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!Q(t,(e=>N(o,e))))throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[d].apply(null,n)},log:label=>{console.log(label,{constructors:t,constructor:d,params:n})}}}})),n},xo=(Ao([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),(table,e)=>{const t=bt(table);return bo(t,e).bind((e=>{const n=e[e.length-1],o=e[0].row,r=n.row+n.rowspan,l=t.all.slice(o,r);return mo(l)})).getOr("")}),Oo=e=>{return He(e,"rgb")?Un(t=e).map(Vn).map((e=>"#"+e.value)).getOr(t):e;var t},Co=e=>{const element=K.fromDom(e);return{borderwidth:Ze(element,"border-width").getOr(""),borderstyle:Ze(element,"border-style").getOr(""),bordercolor:Ze(element,"border-color").map(Oo).getOr(""),backgroundcolor:Ze(element,"background-color").map(Oo).getOr("")}},_o=data=>{const e=data[0],t=data.slice(1);return F(t,(t=>{F(k(e),(n=>{j(t,((t,o)=>{const r=e[n];""!==r&&n===o&&r!==t&&(e[n]="")}))}))})),e},So=(e,t,n,o)=>H(e,(e=>!c(n.formatter.matchNode(o,t+e)))).getOr(""),ko=x(So,["left","center","right"],"align"),To=x(So,["top","middle","bottom"],"valign"),jo=e=>table(K.fromDom(e)).map((table=>{const t={selection:Sn(e.cells)};return xo(table,t)})).getOr(""),Eo=(table,e)=>{const t=bt(table),n=wt(t),o=filter(n,(t=>$(e,(e=>J(t.element,e)))));return map(o,(e=>({element:e.element.dom,column:At(t,e.column).map((col=>col.element.dom))})))},Do=(e,t,data,n)=>{const o=1===t.length;F(t,(t=>{const r=t.element,l=o?_:n,c=co(e,r);((e,t,data,n)=>{n("scope")&&e.setAttrib("scope",data.scope),n("class")&&e.setAttrib("class",data.class),n("height")&&e.setStyle("height",Ee(data.height)),n("width")&&t.setStyle("width",Ee(data.width))})(c,t.column.map((col=>co(e,col))).getOr(c),data,l),Nt(e)&&((e,data,t)=>{t("backgroundcolor")&&e.setFormat("tablecellbackgroundcolor",data.backgroundcolor),t("bordercolor")&&e.setFormat("tablecellbordercolor",data.bordercolor),t("borderstyle")&&e.setFormat("tablecellborderstyle",data.borderstyle),t("borderwidth")&&e.setFormat("tablecellborderwidth",Ee(data.borderwidth))})(c,data,l),n("halign")&&Ct(e,r,data.halign),n("valign")&&((e,t,n)=>{xt.each("top middle bottom".split(" "),(o=>{o!==n&&e.formatter.remove("valign"+o,{},t)})),n&&e.formatter.apply("valign"+n,{},t)})(e,r,data.valign)}))},Io=(e,t,n,o)=>{const data=o.getData();o.close(),e.undoManager.transact((()=>{((e,t,n,data)=>{const o=E(data,((e,t)=>n[t]!==e));I(o)>0&&t.length>=1&&table(t[0]).each((table=>{const n=Eo(table,t),r=I(E(o,((e,t)=>"scope"!==t&&"celltype"!==t)))>0,l=B(o,"celltype");(r||B(o,"scope"))&&Do(e,n,data,x(B,o)),l&&((e,data)=>{e.execCommand("mceTableCellType",!1,{type:data.celltype,no_events:!0})})(e,data),_t(e,table.dom,{structure:l,style:r})}))})(e,t,n,data),e.focus()}))},Ro=(e,t)=>{const n=table(t[0]).map((table=>map(Eo(table,t),(t=>((e,t,n,o)=>{const r=e.dom,l=(element,style)=>r.getStyle(element,style)||r.getAttrib(element,style);return{width:l(o.getOr(t),"width"),height:l(t,"height"),scope:r.getAttrib(t,"scope"),celltype:(c=t,c.nodeName.toLowerCase()),class:r.getAttrib(t,"class",""),halign:ko(e,t),valign:To(e,t),...n?Co(t):{}};var c})(e,t.element,Nt(e),t.column)))));return _o(n.getOrDie())},Bo=e=>{const t=Bn(e);if(0===t.length)return;const data=Ro(e,t),n={type:"tabpanel",tabs:[{title:"General",name:"general",items:ao(e)},lo(e,"cell")]},o={type:"panel",items:[{type:"grid",columns:2,items:ao(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:Nt(e)?n:o,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:data,onSubmit:x(Io,e,t,data)})},Mo=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Po=e=>Mo.concat((e=>{const t=Zn(Wt(e));return t.length>0?S.some({name:"class",type:"listbox",label:"Class",items:t}):S.none()})(e).toArray()),Lo=(e,t,data,n)=>{const o=1===t.length?_:n;F(t,(t=>{const r=co(e,t);((e,data,t)=>{t("class")&&e.setAttrib("class",data.class),t("height")&&e.setStyle("height",Ee(data.height))})(r,data,o),$t(e)&&((e,data,t)=>{t("backgroundcolor")&&e.setStyle("background-color",data.backgroundcolor),t("bordercolor")&&e.setStyle("border-color",data.bordercolor),t("borderstyle")&&e.setStyle("border-style",data.borderstyle)})(r,data,o),n("align")&&Ct(e,t,data.align)}))},No=(e,t,n,o)=>{const data=o.getData();o.close(),e.undoManager.transact((()=>{((e,t,n,data)=>{const o=E(data,((e,t)=>n[t]!==e));if(I(o)>0){const n=B(o,"type"),r=!n||I(o)>1;r&&Lo(e,t,data,x(B,o)),n&&((e,data)=>{e.execCommand("mceTableRowType",!1,{type:data.type,no_events:!0})})(e,data),table(K.fromDom(t[0])).each((table=>_t(e,table.dom,{structure:n,style:r})))}})(e,t,n,data),e.focus()}))},$o=e=>{const t=Mn(De(e),En.selected);if(0===t.length)return;const n=map(t,(t=>((e,t,n)=>{const o=e.dom;return{height:o.getStyle(t,"height")||o.getAttrib(t,"height"),class:o.getAttrib(t,"class",""),type:jo(t),align:ko(e,t),...n?Co(t):{}}})(e,t.dom,$t(e)))),data=_o(n),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:Po(e)},lo(e,"row")]},r={type:"panel",items:[{type:"grid",columns:2,items:Po(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:$t(e)?o:r,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:data,onSubmit:x(No,e,map(t,(e=>e.dom)),data)})},zo=(e,t,n)=>{const o=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],r=Ft(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],l=t.length>0?[{type:"listbox",name:"class",label:"Class",items:t}]:[];return o.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(r).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(l)},Fo=(e,t,n,r)=>{if("TD"===t.tagName||"TH"===t.tagName)o(n)&&h(r)?e.setStyle(t,n,r):e.setStyles(t,n);else if(t.children)for(let i=0;i<t.children.length;i++)Fo(e,t.children[i],n,r)},Vo=(e,t,data,n)=>{const o=e.dom,r={},l={},d=Ht(e),h=zt(e);if(c(data.class)||(r.class=data.class),l.height=Ee(data.height),d?l.width=Ee(data.width):o.getAttrib(t,"width")&&(r.width=(e=>e?e.replace(/px$/,""):"")(data.width)),d?(l["border-width"]=Ee(data.border),l["border-spacing"]=Ee(data.cellspacing)):(r.border=data.border,r.cellpadding=data.cellpadding,r.cellspacing=data.cellspacing),d&&t.children){const e={};if(n.border&&(e["border-width"]=Ee(data.border)),n.cellpadding&&(e.padding=Ee(data.cellpadding)),h&&n.bordercolor&&(e["border-color"]=data.bordercolor),!(e=>{for(const t in e)if(T.call(e,t))return!1;return!0})(e))for(let i=0;i<t.children.length;i++)Fo(o,t.children[i],e)}if(h){const e=data;l["background-color"]=e.backgroundcolor,l["border-color"]=e.bordercolor,l["border-style"]=e.borderstyle}o.setStyles(t,{...Zt(e),...l}),o.setAttribs(t,{...Jt(e),...r})},Ho=(e,t,n,o)=>{const r=e.dom,data=o.getData(),l=E(data,((e,t)=>n[t]!==e));o.close(),""===data.class&&delete data.class,e.undoManager.transact((()=>{if(!t){const n=Ue(data.cols).getOr(1),o=Ue(data.rows).getOr(1);e.execCommand("mceInsertTable",!1,{rows:o,columns:n}),t=Rn(De(e),je(e)).bind((t=>table(t,je(e)))).map((table=>table.dom)).getOrDie()}if(I(l)>0){const n={border:B(l,"border"),bordercolor:B(l,"bordercolor"),cellpadding:B(l,"cellpadding")};Vo(e,t,data,n);const o=r.select("caption",t)[0];(o&&!data.caption||!o&&data.caption)&&e.execCommand("mceTableToggleCaption"),Ct(e,t,data.align)}if(e.focus(),e.addVisual(),I(l)>0){const n=B(l,"caption"),o=!n||I(l)>1;_t(e,t,{structure:n,style:o})}}))},qo=(e,t)=>{const n=e.dom;let o,data=((e,t)=>{const style=Zt(e),n=Jt(e),o=t?{borderstyle:R(style,"border-style").getOr(""),bordercolor:Oo(R(style,"border-color").getOr("")),backgroundcolor:Oo(R(style,"background-color").getOr(""))}:{};return{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:"",...style,...n,...o,...(()=>{const t=style["border-width"];return Ht(e)&&t?{border:t}:R(n,"border").fold((()=>({})),(e=>({border:e})))})(),...{...R(style,"border-spacing").or(R(n,"cellspacing")).fold((()=>({})),(e=>({cellspacing:e}))),...R(style,"border-padding").or(R(n,"cellpadding")).fold((()=>({})),(e=>({cellpadding:e})))}}})(e,zt(e));t?(data.cols="1",data.rows="1",zt(e)&&(data.borderstyle="",data.bordercolor="",data.backgroundcolor="")):(o=n.getParent(e.selection.getStart(),"table",e.getBody()),o?data=((e,t,n)=>{const o=e.dom,r=Ht(e)?o.getStyle(t,"border-spacing")||o.getAttrib(t,"cellspacing"):o.getAttrib(t,"cellspacing")||o.getStyle(t,"border-spacing"),l=Ht(e)?Ot(o,t,"padding")||o.getAttrib(t,"cellpadding"):o.getAttrib(t,"cellpadding")||Ot(o,t,"padding");return{width:o.getStyle(t,"width")||o.getAttrib(t,"width"),height:o.getStyle(t,"height")||o.getAttrib(t,"height"),cellspacing:null!=r?r:"",cellpadding:null!=l?l:"",border:((t,n)=>{const o=Ze(K.fromDom(n),"border-width");return Ht(e)&&o.isSome()?o.getOr(""):t.getAttrib(n,"border")||Ot(e.dom,n,"border-width")||Ot(e.dom,n,"border")||""})(o,t),caption:!!o.select("caption",t)[0],class:o.getAttrib(t,"class",""),align:ko(e,t),...n?Co(t):{}}})(e,o,zt(e)):zt(e)&&(data.borderstyle="",data.bordercolor="",data.backgroundcolor=""));const r=Zn(Qt(e));r.length>0&&data.class&&(data.class=data.class.replace(/\s*mce\-item\-table\s*/g,""));const l={type:"grid",columns:2,items:zo(e,r,t)},c=zt(e)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[l]},lo(e,"table")]}:{type:"panel",items:[l]};e.windowManager.open({title:"Table Properties",size:"normal",body:c,onSubmit:x(Ho,e,o,data),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:data})},Wo=e=>{j({mceTableProps:x(qo,e,!1),mceTableRowProps:x($o,e),mceTableCellProps:x(Bo,e),mceInsertTableDialog:x(qo,e,!0)},((t,n)=>e.addCommand(n,(()=>{return n=t,void(Ie(De(e))&&n());var n}))))},Qo=w,Uo=e=>{const t=(e,t)=>$e(e,t).exists((span=>parseInt(span,10)>1));return e.length>0&&Q(e,(e=>t(e,"rowspan")||t(e,"colspan")))?S.some(e):S.none()},Yo=(table,e,t)=>e.length<=1?S.none():_n(table,t.firstSelectedSelector,t.lastSelectedSelector).map((t=>({bounds:t,cells:e}))),Go=e=>{const t=Yn(S.none()),n=Yn([]);let o=S.none();const r=ce("caption"),l=e=>o.forall((details=>!details[e])),c=()=>In((e=>K.fromDom(e.selection.getEnd()))(e),je(e)),d=()=>In(De(e),je(e)).bind((t=>{return n=Ve(table(t),c().bind(table),((n,o)=>J(n,o)?r(t)?S.some((e=>({element:e,mergable:S.none(),unmergable:S.none(),selection:[e]}))(t)):S.some(((e,table,t)=>({element:t,mergable:Yo(table,e,En),unmergable:Uo(e),selection:Qo(e)}))(Bn(e),n,t)):S.none())),n.bind(w);var n})),h=e=>table(e.element).map((table=>{const t=bt(table),n=bo(t,e).getOr([]),o=V(n,((e,n)=>(n.isLocked&&(e.onAny=!0,0===n.column?e.onFirst=!0:n.column+n.colspan>=t.grid.columns&&(e.onLast=!0)),e)),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:yo(t,e).isSome(),unmergeable:wo(t,e).isSome(),locked:o}})),m=()=>{t.set((e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})(d)()),o=t.get().bind(h),F(n.get(),O)},f=e=>(e(),n.set(n.get().concat([e])),()=>{n.set(filter(n.get(),(t=>t!==e)))}),v=(n,o)=>f((()=>t.get().fold((()=>{n.setEnabled(!1)}),(t=>{n.setEnabled(!o(t)&&e.selection.isEditable())})))),y=(n,o,r)=>f((()=>t.get().fold((()=>{n.setEnabled(!1),n.setActive(!1)}),(t=>{n.setEnabled(!o(t)&&e.selection.isEditable()),n.setActive(r(t))})))),A=e=>o.exists((details=>details.locked[e])),x=(t,n)=>o=>y(o,(e=>r(e.element)),(()=>e.queryCommandValue(t)===n)),_=x("mceTableRowType","header"),k=x("mceTableColType","th");return e.on("NodeChange ExecCommand TableSelectorChange",m),{onSetupTable:e=>v(e,(e=>!1)),onSetupCellOrRow:e=>v(e,(e=>r(e.element))),onSetupColumn:e=>t=>v(t,(t=>r(t.element)||A(e))),onSetupPasteable:e=>t=>v(t,(t=>r(t.element)||e().isNone())),onSetupPasteableColumn:(e,t)=>n=>v(n,(n=>r(n.element)||e().isNone()||A(t))),onSetupMergeable:e=>v(e,(e=>l("mergeable"))),onSetupUnmergeable:e=>v(e,(e=>l("unmergeable"))),resetTargets:m,onSetupTableWithCaption:t=>y(t,C,(t=>table(t.element,je(e)).exists((table=>Ce(table,"caption").isSome())))),onSetupTableRowHeaders:_,onSetupTableColumnHeaders:k,targets:t.get}};var Ko=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Xo="x-tinymce/dom-table-",Zo=Xo+"rows",Jo=Xo+"columns",er=e=>{var t;const n=null!==(t=Ko.read())&&void 0!==t?t:[];return Y(n,(t=>S.from(t.getType(e))))},nr=()=>er(Zo),or=()=>er(Jo),rr=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},ir=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},sr=e=>{const t=Go(e);(e=>{const t=e.options.register;t("table_border_widths",{processor:"object[]",default:Dt}),t("table_border_styles",{processor:"object[]",default:It}),t("table_cell_advtab",{processor:"boolean",default:!0}),t("table_row_advtab",{processor:"boolean",default:!0}),t("table_advtab",{processor:"boolean",default:!0}),t("table_appearance_options",{processor:"boolean",default:!0}),t("table_grid",{processor:"boolean",default:!Et.deviceType.isTouch()}),t("table_cell_class_list",{processor:"object[]",default:[]}),t("table_row_class_list",{processor:"object[]",default:[]}),t("table_class_list",{processor:"object[]",default:[]}),t("table_toolbar",{processor:"string",default:"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"}),t("table_background_color_map",{processor:"object[]",default:[]}),t("table_border_color_map",{processor:"object[]",default:[]})})(e),Wo(e),((e,t)=>{const n=t=>()=>e.execCommand(t),o=(t,o)=>!!e.queryCommandSupported(o.command)&&(e.ui.registry.addMenuItem(t,{...o,onAction:m(o.onAction)?o.onAction:n(o.command)}),!0),r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleMenuItem(t,{...o,onAction:m(o.onAction)?o.onAction:n(o.command)})},l=data=>{e.execCommand("mceInsertTable",!1,{rows:data.numRows,columns:data.numColumns})},c=[o("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:t.onSetupCellOrRow}),o("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:t.onSetupPasteable(nr)}),o("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:t.onSetupPasteable(nr)})],d=[o("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:t.onSetupColumn("onAny")}),o("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:t.onSetupColumn("onAny")}),o("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:t.onSetupPasteableColumn(or,"onFirst")}),o("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:t.onSetupPasteableColumn(or,"onLast")})],h=[o("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:t.onSetupUnmergeable})];Vt(e)?e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:l}],onSetup:ir(e)}):e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:ir(e)}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:ir(e)}),o("tableprops",{text:"Table properties",onSetup:t.onSetupTable,command:"mceTableProps"}),o("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,command:"mceTableDelete"}),N(c,!0)&&e.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:y("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),N(d,!0)&&e.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:y("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),N(h,!0)&&e.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:y("tablecellprops tablemergecells tablesplitcells")}),e.ui.registry.addContextMenu("table",{update:()=>(t.resetTargets(),t.targets().fold(y(""),(e=>"caption"===te(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable")))});const f=to(Qt(e));0!==f.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Jn(e,f,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const v=to(qt(e));0!==v.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Jn(e,v,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Jn(e,Pn,"tablecellverticalalign",eo(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Jn(e,Pt(e),"tablecellborderwidth",eo(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Jn(e,Lt(e),"tablecellborderstyle",eo(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>oo(e,Yt(e),"background-color"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>oo(e,Gt(e),"border-color"),onSetup:t.onSetupCellOrRow})),r("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:ro(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:io(e),onSetup:t.onSetupTableRowHeaders})})(e,t),((e,t)=>{e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:rr(e),fetch:e=>e("inserttable | cell row column | advtablesort | tableprops deletetable")});const n=t=>()=>e.execCommand(t),o=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addButton(t,{...o,onAction:m(o.onAction)?o.onAction:n(o.command)})},r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleButton(t,{...o,onAction:m(o.onAction)?o.onAction:n(o.command)})};o("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:t.onSetupTable}),o("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:t.onSetupTable}),o("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),o("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),o("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")}),o("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:t.onSetupPasteable(nr)}),o("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:t.onSetupPasteable(nr)}),o("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:t.onSetupColumn("onAny")}),o("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:t.onSetupPasteableColumn(or,"onFirst")}),o("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:t.onSetupPasteableColumn(or,"onLast")}),o("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:rr(e)});const l=to(Qt(e));0!==l.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:no(e,l,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const c=to(qt(e));0!==c.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:no(e,c,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:no(e,Pn,"tablecellverticalalign",eo(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:no(e,Pt(e),"tablecellborderwidth",eo(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:no(e,Lt(e),"tablecellborderstyle",eo(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:t=>t(oo(e,Yt(e),"background-color")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:t=>t(oo(e,Gt(e),"border-color")),onSetup:t.onSetupCellOrRow})),r("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:ro(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:io(e),onSetup:t.onSetupTableColumnHeaders})})(e,t),(e=>{const t=table=>e.dom.is(table,"table")&&e.getBody().contains(table)&&e.dom.isEditable(table.parentNode),n=Ut(e);n.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t,items:n,scope:"node",position:"node"})})(e)};e.add("table",sr)}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(l=String).prototype,o.isPrototypeOf(n)||(null===(c=r.constructor)||void 0===c?void 0:c.name)===l.name)?"string":t;var n,o;var r,l,c})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("object"),l=t("array"),c=n("boolean"),d=a=>!(a=>null==a)(a),h=n("function"),m=n("number"),f=()=>{},v=(a,b)=>a===b;const y=e=>t=>!e(t),w=(A=!1,()=>A);var A;class x{constructor(e,t){this.tag=e,this.value=t}static some(e){return new x(!0,e)}static none(){return x.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?x.some(e(this.value)):x.none()}bind(e){return this.tag?e(this.value):x.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:x.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return d(e)?x.some(e):x.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}x.singletonNone=new x(!1);const O=Array.prototype.slice,C=Array.prototype.indexOf,_=Array.prototype.push,S=(e,t)=>{return n=e,o=t,C.call(n,o)>-1;var n,o},k=(e,t)=>{for(let i=0,n=e.length;i<n;i++){if(t(e[i],i))return!0}return!1},map=(e,t)=>{const n=e.length,o=new Array(n);for(let i=0;i<n;i++){const n=e[i];o[i]=t(n,i)}return o},T=(e,t)=>{for(let i=0,n=e.length;i<n;i++){t(e[i],i)}},j=(e,t)=>{const n=[];for(let i=0,o=e.length;i<o;i++){const o=e[i];t(o,i)&&n.push(o)}return n},E=(e,t,n)=>(T(e,((e,i)=>{n=t(n,e,i)})),n),D=(e,t,n)=>{for(let i=0,o=e.length;i<o;i++){const o=e[i];if(t(o,i))return x.some(o);if(n(o,i))break}return x.none()},I=(e,t)=>D(e,t,w),R=(e,t)=>(e=>{const t=[];for(let i=0,n=e.length;i<n;++i){if(!l(e[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+e);_.apply(t,e[i])}return t})(map(e,t)),B=e=>{const t=O.call(e,0);return t.reverse(),t},M=(e,i)=>i>=0&&i<e.length?x.some(e[i]):x.none(),head=e=>M(e,0),P=e=>M(e,e.length-1),L=(e,t)=>{const n=[],o=h(t)?e=>k(n,(i=>t(i,e))):e=>S(n,e);for(let i=0,t=e.length;i<t;i++){const t=e[i];o(t)||n.push(t)}return n},N=(e,t,n=v)=>e.exists((e=>n(e,t))),$=(e,t,n)=>e.isSome()&&t.isSome()?x.some(n(e.getOrDie(),t.getOrDie())):x.none(),z=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},F={fromHtml:(html,e)=>{const div=(e||document).createElement("div");if(div.innerHTML=html,!div.hasChildNodes()||div.childNodes.length>1){const e="HTML does not have a single root node";throw console.error(e,html),new Error(e)}return z(div.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return z(n)},fromText:(text,e)=>{const t=(e||document).createTextNode(text);return z(t)},fromDom:z,fromPoint:(e,t,n)=>x.from(e.dom.elementFromPoint(t,n)).map(z)},V=(e,t)=>e.dom===t.dom,H=(element,e)=>{const t=element.dom;if(1!==t.nodeType)return!1;{const n=t;if(void 0!==n.matches)return n.matches(e);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(e);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(e);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")}};"undefined"!=typeof window?window:Function("return this;")();const W=element=>element.dom.nodeName.toLowerCase(),Q=element=>element.dom.nodeType,U=(Y=1,element=>Q(element)===Y);var Y;const G=e=>t=>U(t)&&W(t)===e,K=element=>x.from(element.dom.parentNode).map(F.fromDom),X=element=>map(element.dom.childNodes,F.fromDom),Z=(element,e)=>{const t=element.dom.childNodes;return x.from(t[e]).map(F.fromDom)},J=element=>Z(element,0),ee=element=>Z(element,element.dom.childNodes.length-1),te=(e,t,n)=>{let element=e.dom;const o=h(n)?n:w;for(;element.parentNode;){element=element.parentNode;const e=F.fromDom(element);if(t(e))return x.some(e);if(o(e))break}return x.none()},ne=(e,t,n)=>((e,t,n,a,o)=>e(n,a)?x.some(n):h(o)&&o(n)?x.none():t(n,a,o))(((s,e)=>e(s)),te,e,t,n),oe=(marker,element)=>{K(marker).each((e=>{e.dom.insertBefore(element.dom,marker.dom)}))},re=(marker,element)=>{const e=(element=>x.from(element.dom.nextSibling).map(F.fromDom))(marker);e.fold((()=>{K(marker).each((e=>{ie(e,element)}))}),(e=>{oe(e,element)}))},ie=(e,element)=>{e.dom.appendChild(element.dom)},se=(e,t)=>{T(t,(t=>{ie(e,t)}))},ae=element=>{element.dom.textContent="",T(X(element),(e=>{le(e)}))},le=element=>{const e=element.dom;null!==e.parentNode&&e.parentNode.removeChild(e)};var ce=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ue=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),de=tinymce.util.Tools.resolve("tinymce.util.VK");const he=e=>map(e,F.fromDom),pe=Object.keys,me=(e,t)=>{const n=pe(e);for(let o=0,r=n.length;o<r;o++){const i=n[o];t(e[i],i)}},filter=(e,t)=>{const n={};var o;return((e,t,n,o)=>{me(e,((e,i)=>{(t(e,i)?n:o)(e,i)}))})(e,t,(o=n,(e,i)=>{o[i]=e}),f),n},fe=(element,e)=>{const t=element.dom;me(e,((e,n)=>{((e,t,n)=>{if(!(o(n)||c(n)||m(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(t,n,e)}))},ge=element=>E(element.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),be=e=>((e,t)=>F.fromDom(e.dom.cloneNode(t)))(e,!0),ve=(e,t)=>{const n=((e,t)=>{const n=F.fromTag(t),o=ge(e);return fe(n,o),n})(e,t);re(e,n);const o=X(e);return se(n,o),le(e),n};var ye=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),we=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ae=e=>t=>d(t)&&t.nodeName.toLowerCase()===e,xe=e=>t=>d(t)&&e.test(t.nodeName),Oe=e=>d(e)&&3===e.nodeType,Ce=e=>d(e)&&1===e.nodeType,_e=xe(/^(OL|UL|DL)$/),Se=xe(/^(OL|UL)$/),ke=Ae("ol"),Te=xe(/^(LI|DT|DD)$/),je=xe(/^(DT|DD)$/),Ee=xe(/^(TH|TD)$/),De=Ae("br"),Ie=(e,t)=>d(t)&&t.nodeName in e.schema.getTextBlockElements(),Re=(e,t)=>d(e)&&e.nodeName in t,Be=(e,t)=>d(t)&&t.nodeName in e.schema.getVoidElements(),Me=(e,t,n)=>{const o=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&o},Pe=(e,t)=>e.isChildOf(t,e.getRoot()),option=e=>t=>t.options.get(e),Le=option("lists_indent_on_tab"),Ne=option("forced_root_block"),$e=option("forced_root_block_attrs"),ze=(e,t)=>{const n=e.dom,o=e.schema.getBlockElements(),r=n.createFragment(),l=Ne(e),c=$e(e);let d,h,m=!1;for(h=n.create(l,c),Re(t.firstChild,o)||r.appendChild(h);d=t.firstChild;){const e=d.nodeName;m||"SPAN"===e&&"bookmark"===d.getAttribute("data-mce-type")||(m=!0),Re(d,o)?(r.appendChild(d),h=null):(h||(h=n.create(l,c),r.appendChild(h)),h.appendChild(d))}return!m&&h&&h.appendChild(n.create("br",{"data-mce-bogus":"1"})),r},Fe=ye.DOM,Ve=(e,t,li)=>{const n=Fe.select('span[data-mce-type="bookmark"]',t),o=ze(e,li),r=Fe.createRng();r.setStartAfter(li),r.setEndAfter(t);const l=r.extractContents();for(let t=l.firstChild;t;t=t.firstChild)if("LI"===t.nodeName&&e.dom.isEmpty(t)){Fe.remove(t);break}e.dom.isEmpty(l)||Fe.insertAfter(l,t),Fe.insertAfter(o,t);const c=li.parentElement;c&&Me(e.dom,c)&&(e=>{const t=e.parentNode;t&&we.each(n,(e=>{t.insertBefore(e,li.parentNode)})),Fe.remove(e)})(c),Fe.remove(li),Me(e.dom,t)&&Fe.remove(t)},He=G("dd"),qe=G("dt"),We=(e,t)=>{var element;He(t)?ve(t,"dt"):qe(t)&&(element=t,x.from(element.dom.parentElement).map(F.fromDom)).each((dl=>Ve(e,dl.dom,t.dom)))},Qe=e=>{qe(e)&&ve(e,"dd")},Ue=(e,t)=>{if(Oe(e))return{container:e,offset:t};const n=ce.getNode(e,t);return Oe(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&Oe(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&Oe(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},Ye=e=>{const t=e.cloneRange(),n=Ue(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);const o=Ue(e.endContainer,e.endOffset);return t.setEnd(o.container,o.offset),t},Ge=["OL","UL","DL"],Ke=Ge.join(","),Xe=(e,t)=>{const n=t||e.selection.getStart(!0);return e.dom.getParent(n,Ke,tt(e,n))},Ze=e=>{const t=Xe(e),n=e.selection.getSelectedBlocks();return((e,t)=>d(e)&&1===t.length&&t[0]===e)(t,n)?(e=>j(e.querySelectorAll(Ke),_e))(t):j(n,(e=>_e(e)&&t!==e))},Je=e=>{const t=e.selection.getSelectedBlocks();return j(((e,t)=>{const n=we.map(t,(t=>e.dom.getParent(t,"li,dd,dt",tt(e,t))||t));return L(n)})(e,t),Te)},et=(e,t)=>{const n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},tt=(e,t)=>{const n=e.dom.getParents(t,e.dom.isBlock),o=I(n,(t=>{return n=e.schema,!_e(o=t)&&!Te(o)&&k(Ge,(e=>n.isValidChild(o.nodeName,e)));var n,o}));return o.getOr(e.getBody())},nt=(e,t)=>{const n=e.dom.getParents(t,"ol,ul",tt(e,t));return P(n)},ot=e=>{const t=(e=>{const t=nt(e,e.selection.getStart()),n=j(e.selection.getSelectedBlocks(),Se);return t.toArray().concat(n)})(e),n=(e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",tt(e,t))})(e);return I(n,(p=>{return e=F.fromDom(p),K(e).exists((e=>Te(e.dom)&&J(e).exists((e=>!_e(e.dom)))&&ee(e).exists((e=>!_e(e.dom)))));var e})).fold((()=>it(e,t)),(e=>[e]))},it=(e,t)=>{const n=map(t,(t=>nt(e,t).getOr(t)));return L(n)},st=e=>/\btox\-/.test(e.className),at=(e,t)=>D(e,_e,Ee).exists((e=>e.nodeName===t&&!st(e))),lt=(e,element)=>null!==element&&!e.dom.isEditable(element),ct=(e,element)=>{const t=e.dom.getParent(element,"ol,ul,dl");return lt(e,t)},ut=(e,t)=>{const n=e.selection.getNode();return t({parents:e.dom.getParents(n),element:n}),e.on("NodeChange",t),()=>e.off("NodeChange",t)},ht=(e,t)=>{const n=(t||document).createDocumentFragment();return T(e,(element=>{n.appendChild(element.dom)})),F.fromDom(n)},pt=(e,t,element)=>e.dispatch("ListMutation",{action:t,element:element}),mt=(ft=/^\s+|\s+$/g,s=>s.replace(ft,""));var ft;const gt=(e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);(e=>void 0!==e.style&&h(e.style.getPropertyValue))(e)&&e.style.setProperty(t,n)},bt=(element,e,t)=>{const n=element.dom;gt(n,e,t)},vt=e=>H(e,"OL,UL"),yt=e=>J(e).exists(vt),wt=e=>"listAttributes"in e,At=e=>"isComment"in e,xt=e=>e.depth>0,Ot=e=>e.isSelected,Ct=li=>{const e=X(li),content=ee(li).exists(vt)?e.slice(0,-1):e;return map(content,be)},_t=(e,t)=>{ie(e.item,t.list)},St=(e,t)=>{const n={list:F.fromTag(t,e),item:F.fromTag("li",e)};return ie(n.list,n.item),n},kt=(e,t,n)=>{const o=t.slice(0,n.depth);return P(o).each((t=>{if(wt(n)){const o=((e,t,content)=>{const n=F.fromTag("li",e);return fe(n,t),se(n,content),n})(e,n.itemAttributes,n.content);((e,t)=>{ie(e.list,t),e.item=t})(t,o),((e,t)=>{W(e.list)!==t.listType&&(e.list=ve(e.list,t.listType)),fe(e.list,t.listAttributes)})(t,n)}else if((e=>"isInPreviousLi"in e)(n)){if(n.isInPreviousLi){const o=((e,t,content,n)=>{const o=F.fromTag(n,e);return fe(o,t),se(o,content),o})(e,n.attributes,n.content,n.type);ie(t.item,o)}}else{const e=F.fromHtml(`\x3c!--${n.content}--\x3e`);ie(t.list,e)}})),o},Tt=(e,t,n)=>{const o=((e,t,n)=>{const o=[];for(let i=0;i<n;i++)o.push(St(e,t.listType));return o})(e,n,n.depth-t.length);var r;return(e=>{for(let i=1;i<e.length;i++)_t(e[i-1],e[i])})(o),((e,t)=>{for(let i=0;i<e.length-1;i++)bt(e[i].item,"list-style-type","none");P(e).each((e=>{fe(e.list,t.listAttributes),fe(e.item,t.itemAttributes),se(e.item,t.content)}))})(o,n),r=o,$(P(t),head(r),_t),t.concat(o)},jt=(e,t)=>{let n=x.none();const o=E(t,((t,o,i)=>wt(o)?o.depth>t.length?Tt(e,t,o):kt(e,t,o):0===i&&At(o)?(n=x.some(o),t):kt(e,t,o)),[]);return n.each((e=>{const t=F.fromHtml(`\x3c!--${e.content}--\x3e`);head(o).each((e=>{((e,element)=>{J(e).fold((()=>{ie(e,element)}),(t=>{e.dom.insertBefore(element.dom,t.dom)}))})(e.list,t)}))})),head(o).map((e=>e.list))},Et=e=>(T(e,((t,i)=>{((e,t)=>{const n=e[t].depth,o=e=>e.depth===n&&!e.dirty,r=e=>e.depth<n;return D(B(e.slice(0,t)),o,r).orThunk((()=>D(e.slice(t+1),o,r)))})(e,i).fold((()=>{t.dirty&&wt(t)&&(e=>{e.listAttributes=filter(e.listAttributes,((e,t)=>"start"!==t))})(t)}),(e=>{return source=e,void(wt(n=t)&&wt(source)&&(n.listType=source.listType,n.listAttributes={...source.listAttributes}));var n,source}))})),e),Dt=(e,t,n,o)=>{var r,element;if(8===Q(element=o)||"#comment"===W(element))return[{depth:e+1,content:null!==(r=o.dom.nodeValue)&&void 0!==r?r:"",dirty:!1,isSelected:!1,isComment:!0}];t.each((e=>{V(e.start,o)&&n.set(!0)}));const l=((li,e,t)=>K(li).filter(U).map((n=>({depth:e,dirty:!1,isSelected:t,content:Ct(li),itemAttributes:ge(li),listAttributes:ge(n),listType:W(n),isInPreviousLi:!1}))))(o,e,n.get());t.each((e=>{V(e.end,o)&&n.set(!1)}));const c=ee(o).filter(vt).map((o=>Rt(e,t,n,o))).getOr([]);return l.toArray().concat(c)},It=(e,t,n,o)=>J(o).filter(vt).fold((()=>Dt(e,t,n,o)),(r=>{const l=E(X(o),((o,s,i)=>{if(0===i)return o;{const r=Dt(e,t,n,s).map((e=>((e,t,n)=>wt(e)?{depth:e.depth,dirty:e.dirty,content:e.content,isSelected:e.isSelected,type:t,attributes:e.itemAttributes,isInPreviousLi:n}:e)(e,s.dom.nodeName.toLowerCase(),!0)));return o.concat(r)}}),[]);return Rt(e,t,n,r).concat(l)})),Rt=(e,t,n,o)=>R(X(o),(element=>(vt(element)?Rt:It)(e+1,t,n,element))),Bt=(e,t)=>R(((e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let i=0,l=e.length;i<l;i++){const l=e[i],c=t(l);c!==n&&(o.push(r),r=[]),n=c,r.push(l)}return 0!==r.length&&o.push(r),o}})(t,xt),(t=>head(t).exists(xt)?((e,t)=>{const n=Et(t);return jt(e.contentDocument,n).toArray()})(e,t):((e,t)=>{const n=Et(t);return map(n,(t=>{const content=At(t)?ht([F.fromHtml(`\x3c!--${t.content}--\x3e`)]):ht(t.content);return F.fromDom(ze(e,content.dom))}))})(e,t))),Mt=(e,t,n)=>{const o=((e,t)=>{const n=(e=>{let t=!1;return{get:()=>t,set:e=>{t=e}}})();return map(e,(e=>({sourceList:e,entries:Rt(0,t,n,e)})))})(t,(e=>{const t=map(Je(e),F.fromDom);return $(I(t,y(yt)),I(B(t),y(yt)),((e,t)=>({start:e,end:t})))})(e));T(o,(t=>{((e,t)=>{T(j(e,Ot),(e=>((e,t)=>{switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0})(t,e)))})(t.entries,n);const o=Bt(e,t.entries);var marker;T(o,(t=>{pt(e,"Indent"===n?"IndentList":"OutdentList",t.dom)})),marker=t.sourceList,T(o,(e=>{oe(marker,e)})),le(t.sourceList)}))},Pt=(e,t)=>{const n=he(ot(e)),o=he((e=>j(Je(e),je))(e));let r=!1;if(n.length||o.length){const l=e.selection.getBookmark();Mt(e,n,t),((e,t,n)=>{T(n,"Indent"===t?Qe:t=>We(e,t))})(e,t,o),e.selection.moveToBookmark(l),e.selection.setRng(Ye(e.selection.getRng())),e.nodeChanged(),r=!0}return r},Lt=(e,t)=>!(e=>{const t=Xe(e);return lt(e,t)})(e)&&Pt(e,t),Nt=e=>Lt(e,"Indent"),$t=e=>Lt(e,"Outdent"),zt=e=>Lt(e,"Flatten"),Ft=e=>"\ufeff"===e,Vt=(element,e)=>{return t=element,n=function(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}(V,e),te(t,n,o).isSome();var t,n,o};var Ht=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const qt=ye.DOM,Wt=e=>{const t={},n=n=>{let o=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"];if(Ce(o)){const e=qt.create("span",{"data-mce-type":"bookmark"});o.hasChildNodes()?(r=Math.min(r,o.childNodes.length-1),n?o.insertBefore(e,o.childNodes[r]):qt.insertAfter(e,o.childNodes[r])):o.appendChild(e),o=e,r=0}t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=r};return n(!0),e.collapsed||n(),t},Qt=e=>{const t=t=>{let n=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"];if(n){if(Ce(n)&&n.parentNode){const e=n;o=(e=>{var t;let n=null===(t=e.parentNode)||void 0===t?void 0:t.firstChild,o=0;for(;n;){if(n===e)return o;Ce(n)&&"bookmark"===n.getAttribute("data-mce-type")||o++,n=n.nextSibling}return-1})(n),n=n.parentNode,qt.remove(e),!n.hasChildNodes()&&qt.isBlock(n)&&n.appendChild(qt.create("br"))}e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=o}};t(!0),t();const n=qt.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),Ye(n)},Ut=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Yt=(e,t)=>{we.each(t,((t,n)=>{e.setAttribute(n,t)}))},Gt=(e,t,n)=>{((e,t,n)=>{const o=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",o)})(e,t,n),((e,t,n)=>{Yt(t,n["list-attributes"]),we.each(e.select("li",t),(li=>{Yt(li,n["list-item-attributes"])}))})(e,t,n)},Kt=(e,t)=>d(t)&&!Re(t,e.schema.getBlockElements()),Xt=(e,t,n,o)=>{let r=t[n?"startContainer":"endContainer"];const l=t[n?"startOffset":"endOffset"];Ce(r)&&(r=r.childNodes[Math.min(l,r.childNodes.length-1)]||r),!n&&De(r.nextSibling)&&(r=r.nextSibling);const c=(t,n)=>{var r;const l=new ue(t,(t=>{for(;!e.dom.isBlock(t)&&t.parentNode&&o!==t;)t=t.parentNode;return t})(t)),c=n?"next":"prev";let d;for(;d=l[c]();)if(!Be(e,d)&&!Ft(d.textContent)&&0!==(null===(r=d.textContent)||void 0===r?void 0:r.length))return x.some(d);return x.none()};if(n&&Oe(r))if(Ft(r.textContent))r=c(r,!1).getOr(r);else for(null!==r.parentNode&&Kt(e,r.parentNode)&&(r=r.parentNode);null!==r.previousSibling&&(Kt(e,r.previousSibling)||Oe(r.previousSibling));)r=r.previousSibling;if(!n&&Oe(r))if(Ft(r.textContent))r=c(r,!0).getOr(r);else for(null!==r.parentNode&&Kt(e,r.parentNode)&&(r=r.parentNode);null!==r.nextSibling&&(Kt(e,r.nextSibling)||Oe(r.nextSibling));)r=r.nextSibling;for(;r.parentNode!==o;){const t=r.parentNode;if(Ie(e,r))return r;if(/^(TD|TH)$/.test(t.nodeName))return r;r=t}return r},Zt=(e,t,n)=>{const o=e.selection.getRng();let r="LI";const l=tt(e,((e,t)=>{const n=e.selection.getStart(!0),o=Xt(e,t,!0,e.getBody());return Vt(F.fromDom(o),F.fromDom(t.commonAncestorContainer))?t.commonAncestorContainer:n})(e,o)),c=e.dom;if("false"===c.getContentEditable(e.selection.getNode()))return;"DL"===(t=t.toUpperCase())&&(r="DT");const d=Wt(o),h=j(((e,t,n)=>{const o=[],r=e.dom,l=Xt(e,t,!0,n),c=Xt(e,t,!1,n);let d;const h=[];for(let e=l;e&&(h.push(e),e!==c);e=e.nextSibling);return we.each(h,(t=>{var l;if(Ie(e,t))return o.push(t),void(d=null);if(r.isBlock(t)||De(t))return De(t)&&r.remove(t),void(d=null);const c=t.nextSibling;Ht.isBookmarkNode(t)&&(_e(c)||Ie(e,c)||!c&&t.parentNode===n)?d=null:(d||(d=r.create("p"),null===(l=t.parentNode)||void 0===l||l.insertBefore(d,t),o.push(d)),d.appendChild(t))})),o})(e,o,l),e.dom.isEditable);we.each(h,(o=>{let l;const d=o.previousSibling,h=o.parentNode;Te(h)||(d&&_e(d)&&d.nodeName===t&&((e,t,n)=>{const o=e.getStyle(t,"list-style-type");let r=n?n["list-style-type"]:"";return r=null===r?"":r,o===r})(c,d,n)?(l=d,o=c.rename(o,r),d.appendChild(o)):(l=c.create(t),h.insertBefore(l,o),l.appendChild(o),o=c.rename(o,r)),((e,element,t)=>{we.each(t,(style=>e.setStyle(element,style,"")))})(c,o,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Gt(c,l,n),en(e.dom,l))})),e.selection.setRng(Qt(d))},Jt=(e,t,n)=>{return((e,t)=>_e(e)&&e.nodeName===(null==t?void 0:t.nodeName))(t,n)&&((e,t,n)=>e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0))(e,t,n)&&(o=n,t.className===o.className);var o},en=(e,t)=>{let n,o=t.nextSibling;if(Jt(e,t,o)){const r=o;for(;n=r.firstChild;)t.appendChild(n);e.remove(r)}if(o=t.previousSibling,Jt(e,t,o)){const r=o;for(;n=r.lastChild;)t.insertBefore(n,t.firstChild);e.remove(r)}},tn=(e,t,n,o)=>{if(t.nodeName!==n){const r=e.dom.rename(t,n);Gt(e.dom,r,o),pt(e,Ut(n),r)}else Gt(e.dom,t,o),pt(e,Ut(n),t)},nn=(e,t,n,o)=>{if(t.classList.forEach(((e,n,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))})),t.nodeName!==n){const r=e.dom.rename(t,n);Gt(e.dom,r,o),pt(e,Ut(n),r)}else Gt(e.dom,t,o),pt(e,Ut(n),t)},on=e=>"list-style-type"in e,rn=(e,t,n)=>{const o=Xe(e);if(ct(e,o))return;const l=Ze(e),c=r(n)?n:{};l.length>0?((e,t,n,o,r)=>{const l=_e(t);if(!l||t.nodeName!==o||on(r)||st(t)){Zt(e,o,r);const c=Wt(e.selection.getRng()),d=l?[t,...n]:n,h=l&&st(t)?nn:tn;we.each(d,(t=>{h(e,t,o,r)})),e.selection.setRng(Qt(c))}else zt(e)})(e,o,l,t,c):((e,t,n,o)=>{if(t!==e.getBody())if(t)if(t.nodeName!==n||on(o)||st(t)){const r=Wt(e.selection.getRng());st(t)&&t.classList.forEach(((e,n,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))})),Gt(e.dom,t,o);const l=e.dom.rename(t,n);en(e.dom,l),e.selection.setRng(Qt(r)),Zt(e,n,o),pt(e,Ut(n),l)}else zt(e);else Zt(e,n,o),pt(e,Ut(n),t)})(e,o,t,c)},sn=ye.DOM,an=(e,element)=>{const t=we.grep(e.select("ol,ul",element));we.each(t,(t=>{((e,t)=>{const n=t.parentElement;if(n&&"LI"===n.nodeName&&n.firstChild===t){const o=n.previousSibling;o&&"LI"===o.nodeName?(o.appendChild(t),Me(e,n)&&sn.remove(n)):sn.setStyle(n,"listStyleType","none")}if(_e(n)){const e=n.previousSibling;e&&"LI"===e.nodeName&&e.appendChild(t)}})(e,t)}))},ln=(e,t,n,o)=>{let r=t.startContainer;const l=t.startOffset;if(Oe(r)&&(n?l<r.data.length:l>0))return r;const c=e.schema.getNonEmptyElements();Ce(r)&&(r=ce.getNode(r,l));const d=new ue(r,o);n&&((e,t)=>!!De(t)&&e.isBlock(t.nextSibling)&&!De(t.previousSibling))(e.dom,r)&&d.next();const h=n?d.next.bind(d):d.prev2.bind(d);for(;r=h();){if("LI"===r.nodeName&&!r.hasChildNodes())return r;if(c[r.nodeName])return r;if(Oe(r)&&r.data.length>0)return r}return null},cn=(e,t)=>{const n=t.childNodes;return 1===n.length&&!_e(n[0])&&e.isBlock(n[0])},un=(e,t,n)=>{let o;const r=cn(e,n)?n.firstChild:n;if(((e,t)=>{cn(e,t)&&e.remove(t.firstChild,!0)})(e,t),!Me(e,t,!0))for(;o=t.firstChild;)r.appendChild(o)},dn=(e,t,n)=>{let o;const ul=t.parentNode;if(!Pe(e,t)||!Pe(e,n))return;_e(n.lastChild)&&(o=n.lastChild),ul===n.lastChild&&De(ul.previousSibling)&&e.remove(ul.previousSibling);const r=n.lastChild;r&&De(r)&&t.hasChildNodes()&&e.remove(r),Me(e,n,!0)&&ae(F.fromDom(n)),un(e,t,n),o&&n.appendChild(o);const l=((e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)})(F.fromDom(n),F.fromDom(t))?e.getParents(t,_e,n):[];e.remove(t),T(l,(t=>{Me(e,t)&&t!==e.getRoot()&&e.remove(t)}))},hn=(e,t,n,o)=>{const r=e.dom;if(r.isEmpty(o))((e,t,n)=>{ae(F.fromDom(n)),dn(e.dom,t,n),e.selection.setCursorLocation(n,0)})(e,n,o);else{const l=Wt(t);dn(r,n,o),e.selection.setRng(Qt(l))}},pn=(e,t)=>{const n=e.dom,o=e.selection,r=o.getStart(),l=et(e,r),li=n.getParent(o.getStart(),"LI",l);if(li){const ul=li.parentElement;if(ul===e.getBody()&&Me(n,ul))return!0;const r=Ye(o.getRng()),c=n.getParent(ln(e,r,t,l),"LI",l);if(c&&c!==li)return e.undoManager.transact((()=>{var n,o;t?hn(e,r,c,li):(null===(o=(n=li).parentNode)||void 0===o?void 0:o.firstChild)===n?$t(e):((e,t,n,o)=>{const r=Wt(t);dn(e.dom,n,o);const l=Qt(r);e.selection.setRng(l)})(e,r,li,c)})),!0;if(!c&&!t&&0===r.startOffset&&0===r.endOffset)return e.undoManager.transact((()=>{zt(e)})),!0}return!1},mn=(e,t)=>{const n=e.dom,o=e.selection.getStart(),r=et(e,o),l=n.getParent(o,n.isBlock,r);if(l&&n.isEmpty(l)){const o=Ye(e.selection.getRng()),c=n.getParent(ln(e,o,t,r),"LI",r);if(c){const d=element=>S(["td","th","caption"],W(element)),h=e=>e.dom===r;return!!((e,t,n=v)=>$(e,t,n).getOr(e.isNone()&&t.isNone()))(ne(F.fromDom(c),d,h),ne(F.fromDom(o.startContainer),d,h),V)&&(e.undoManager.transact((()=>{const o=c.parentNode;((e,t,n)=>{const o=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),o&&e.isEmpty(o)&&e.remove(o)})(n,l,r),en(n,o),e.selection.select(c,!0),e.selection.collapse(t)})),!0)}}return!1},fn=e=>{const t=e.selection.getStart(),n=et(e,t);return e.dom.getParent(t,"LI,DT,DD",n)||Je(e).length>0},gn=(e,t)=>{const n=e.selection;return!ct(e,n.getNode())&&(n.isCollapsed()?((e,t)=>pn(e,t)||mn(e,t))(e,t):(e=>!!fn(e)&&(e.undoManager.transact((()=>{e.execCommand("Delete"),an(e.dom,e.getBody())})),!0))(e))},bn=e=>{const t=B(mt(e).split("")),n=map(t,((e,i)=>{const t=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,i)*t}));return E(n,((e,t)=>e+t),0)},vn=e=>{if(--e<0)return"";{const t=e%26,n=Math.floor(e/26);return vn(n)+String.fromCharCode("A".charCodeAt(0)+t)}},yn=e=>{const t=parseInt(e.start,10);return N(e.listStyleType,"upper-alpha")?vn(t):N(e.listStyleType,"lower-alpha")?vn(t).toLowerCase():e.start},wn=e=>{const t=Xe(e);ke(t)&&!ct(e,t)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:yn({start:e.dom.getAttrib(t,"start","1"),listStyleType:x.from(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{(e=>{switch((e=>/^[0-9]+$/.test(e)?2:/^[A-Z]+$/.test(e)?0:(e=>/^[a-z]+$/.test(e))(e)?1:e.length>0?4:3)(e)){case 2:return x.some({listStyleType:x.none(),start:e});case 0:return x.some({listStyleType:x.some("upper-alpha"),start:bn(e).toString()});case 1:return x.some({listStyleType:x.some("lower-alpha"),start:bn(e).toString()});case 3:return x.some({listStyleType:x.none(),start:""});case 4:return x.none()}})(t.getData().start).each((t=>{e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})})),t.close()}})},An=(e,t)=>()=>{const n=Xe(e);return d(n)&&n.nodeName===t},xn=e=>{e.addCommand("mceListProps",(()=>{wn(e)}))},On=e=>{e.on("BeforeExecCommand",(t=>{const n=t.command.toLowerCase();"indent"===n?Nt(e):"outdent"===n&&$t(e)})),e.addCommand("InsertUnorderedList",((t,n)=>{rn(e,"UL",n)})),e.addCommand("InsertOrderedList",((t,n)=>{rn(e,"OL",n)})),e.addCommand("InsertDefinitionList",((t,n)=>{rn(e,"DL",n)})),e.addCommand("RemoveList",(()=>{zt(e)})),xn(e),e.addCommand("mceListUpdate",((t,n)=>{r(n)&&((e,t)=>{const n=Xe(e);null===n||ct(e,n)||e.undoManager.transact((()=>{r(t.styles)&&e.dom.setStyles(n,t.styles),r(t.attrs)&&me(t.attrs,((t,o)=>e.dom.setAttrib(n,o,t)))}))})(e,n)})),e.addQueryStateHandler("InsertUnorderedList",An(e,"UL")),e.addQueryStateHandler("InsertOrderedList",An(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",An(e,"DL"))};var Cn=tinymce.util.Tools.resolve("tinymce.html.Node");const _n=e=>3===e.type,Sn=e=>0===e.length,kn=e=>{const t=(t,n)=>{const li=Cn.create("li");T(t,(e=>li.append(e))),n?e.insert(li,n,!0):e.append(li)},n=E(e.children(),((e,n)=>_n(n)?[...e,n]:Sn(e)||_n(n)?e:(t(e,n),[])),[]);Sn(n)||t(n)},Tn=e=>{Le(e)&&(e=>{e.on("keydown",(t=>{t.keyCode!==de.TAB||de.metaKeyPressed(t)||e.undoManager.transact((()=>{(t.shiftKey?$t(e):Nt(e))&&t.preventDefault()}))}))})(e),(e=>{e.on("ExecCommand",(t=>{const n=t.command.toLowerCase();"delete"!==n&&"forwarddelete"!==n||!fn(e)||an(e.dom,e.getBody())})),e.on("keydown",(t=>{t.keyCode===de.BACKSPACE?gn(e,!1)&&t.preventDefault():t.keyCode===de.DELETE&&gn(e,!0)&&t.preventDefault()}))})(e)},jn=(e,t)=>n=>(n.setEnabled(e.selection.isEditable()),ut(e,(o=>{n.setActive(at(o.parents,t)),n.setEnabled(!ct(e,o.element)&&e.selection.isEditable())}))),En=(e,t)=>n=>ut(e,(o=>n.setEnabled(at(o.parents,t)&&!ct(e,o.element))));e.add("lists",(e=>((e=>{(0,e.options.register)("lists_indent_on_tab",{processor:"boolean",default:!0})})(e),(e=>{e.on("PreInit",(()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",(e=>T(e,kn)))}))})(e),e.hasPlugin("rtc",!0)?xn(e):(Tn(e),On(e)),(e=>{const t=t=>()=>e.execCommand(t);e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:jn(e,"OL")}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:jn(e,"UL")}))})(e),(e=>{const t={text:"List properties...",icon:"ordered-list",onAction:()=>e.execCommand("mceListProps"),onSetup:En(e,"OL")};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:t=>{const n=Xe(e,t);return ke(n)?["listprops"]:[]}})})(e),(e=>({backspaceDelete:t=>{gn(e,t)}}))(e))))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,n)=>{const o="UL"===t?"InsertUnorderedList":"InsertOrderedList";e.execCommand(o,!1,!1===n?null:{"list-style-type":n})},option=e=>t=>t.options.get(e),n=option("advlist_number_styles"),o=option("advlist_bullet_styles"),r=a=>null==a,l=a=>!r(a);var c=tinymce.util.Tools.resolve("tinymce.util.Tools");class d{constructor(e,t){this.tag=e,this.value=t}static some(e){return new d(!0,e)}static none(){return d.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?d.some(e(this.value)):d.none()}bind(e){return this.tag?e(this.value):d.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:d.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return l(e)?d.some(e):d.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}d.singletonNone=new d(!1);const h=e=>t=>l(t)&&e.test(t.nodeName),m=h(/^(OL|UL|DL)$/),f=h(/^(TH|TD)$/),v=(e,t,n)=>((e,t,n)=>{for(let i=0,o=e.length;i<o;i++){const o=e[i];if(t(o,i))return d.some(o);if(n(o,i))break}return d.none()})(t,(e=>m(e)&&!/\btox\-/.test(e.className)),f).exists((t=>t.nodeName===n&&((e,t)=>e.dom.isChildOf(t,e.getBody()))(e,t))),y=e=>r(e)||"default"===e?"":e,w=(e,t)=>n=>((e,t)=>{const n=e.selection.getNode();return t({parents:e.dom.getParents(n),element:n}),e.on("NodeChange",t),()=>e.off("NodeChange",t)})(e,(o=>((e,o)=>{const element=e.selection.getStart(!0);n.setActive(v(e,o,t)),n.setEnabled(!((e,element)=>{const t=e.dom.getParent(element,"ol,ul,dl");return((e,element)=>null!==element&&!e.dom.isEditable(element))(e,t)&&e.selection.isEditable()})(e,element)&&e.selection.isEditable())})(e,o.parents))),A=(e,n,o,r,l,h)=>{e.ui.registry.addSplitButton(n,{tooltip:o,icon:"OL"===l?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:e=>{e(c.map(h,(e=>{const t="OL"===l?"num":"bull",n="disc"===e||"decimal"===e?"default":e,o=y(e),r=(e=>e.replace(/\-/g," ").replace(/\b\w/g,(e=>e.toUpperCase())))(e);return{type:"choiceitem",value:o,icon:"list-"+t+"-"+n,text:r}})))},onAction:()=>e.execCommand(r),onItemAction:(n,o)=>{t(e,l,o)},select:t=>{const n=(e=>{const t=e.dom.getParent(e.selection.getNode(),"ol,ul"),style=e.dom.getStyle(t,"listStyleType");return d.from(style)})(e);return n.map((e=>t===e)).getOr(!1)},onSetup:w(e,l)})},x=(e,n,o,r,l,c)=>{c.length>1?A(e,n,o,r,l,c):((e,n,o,r,l,c)=>{e.ui.registry.addToggleButton(n,{active:!1,tooltip:o,icon:"OL"===l?"ordered-list":"unordered-list",onSetup:w(e,l),onAction:()=>e.queryCommandState(r)||""===c?e.execCommand(r):t(e,l,c)})})(e,n,o,r,l,y(c[0]))};e.add("advlist",(e=>{e.hasPlugin("lists")?((e=>{const t=e.options.register;t("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),t("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})})(e),(e=>{x(e,"numlist","Numbered list","InsertOrderedList","OL",n(e)),x(e,"bullist","Bullet list","InsertUnorderedList","UL",o(e))})(e),(e=>{e.addCommand("ApplyUnorderedListStyle",((n,o)=>{t(e,"UL",o["list-style-type"])})),e.addCommand("ApplyOrderedListStyle",((n,o)=>{t(e,"OL",o["list-style-type"])}))})(e)):console.error("Please use the Lists plugin together with the Advanced List plugin.")}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(l=String).prototype,o.isPrototypeOf(n)||(null===(c=r.constructor)||void 0===c?void 0:c.name)===l.name)?"string":t;var n,o;var r,l,c})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("object"),l=t("array"),c=(d=null,a=>d===a);var d;const h=n("boolean"),m=a=>!(a=>null==a)(a),f=n("function"),v=(e,t)=>{if(l(e)){for(let i=0,n=e.length;i<n;++i)if(!t(e[i]))return!1;return!0}return!1},y=()=>{},w=(a,b)=>a===b;class A{constructor(e,t){this.tag=e,this.value=t}static some(e){return new A(!0,e)}static none(){return A.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?A.some(e(this.value)):A.none()}bind(e){return this.tag?e(this.value):A.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:A.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return m(e)?A.some(e):A.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}A.singletonNone=new A(!1);const x=Array.prototype.indexOf,O=Array.prototype.push,C=(e,t)=>((e,t)=>x.call(e,t))(e,t)>-1,_=e=>{const t=[];for(let i=0,n=e.length;i<n;++i){if(!l(e[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+e);O.apply(t,e[i])}return t},S=(e,t)=>_(((e,t)=>{const n=e.length,o=new Array(n);for(let i=0;i<n;i++){const n=e[i];o[i]=t(n,i)}return o})(e,t)),k=(e,t)=>{for(let i=0;i<e.length;i++){const n=t(e[i],i);if(n.isSome())return n}return A.none()},T=(e,t,n=w)=>e.exists((e=>n(e,t))),j=e=>{const t=[],n=e=>{t.push(e)};for(let i=0;i<e.length;i++)e[i].each(n);return t},E=(b,a)=>b?A.some(a):A.none(),option=e=>t=>t.options.get(e),D=option("link_assume_external_targets"),I=option("link_context_toolbar"),R=option("link_list"),B=option("link_default_target"),M=option("link_default_protocol"),P=option("link_target_list"),L=option("link_rel_list"),N=option("link_class_list"),$=option("link_title"),z=option("allow_unsafe_link_target"),F=option("link_quicklink");var V=tinymce.util.Tools.resolve("tinymce.util.Tools");const H=e=>o(e.value)?e.value:"",W=(e,t)=>{const n=[];return V.each(e,(e=>{const text=(e=>o(e.text)?e.text:o(e.title)?e.title:"")(e);if(void 0!==e.menu){const o=W(e.menu,t);n.push({text:text,items:o})}else{const o=t(e);n.push({text:text,value:o})}})),n},Q=(e=H)=>t=>A.from(t).map((t=>W(t,e))),U={sanitize:e=>Q(H)(e),sanitizeWith:Q,createUi:(e,label)=>t=>({name:e,type:"listbox",label:label,items:t}),getValue:H},Y=Object.keys,G=Object.hasOwnProperty,K=(e,t,n,o)=>{((e,t)=>{const n=Y(e);for(let o=0,r=n.length;o<r;o++){const i=n[o];t(e[i],i)}})(e,((e,i)=>{(t(e,i)?n:o)(e,i)}))},X=(e,t)=>G.call(e,t);var Z=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),J=tinymce.util.Tools.resolve("tinymce.util.URI");const ee=e=>m(e)&&"a"===e.nodeName.toLowerCase(),te=e=>ee(e)&&!!re(e),ne=(e,t)=>{if(e.collapsed)return[];{const n=e.cloneContents(),o=n.firstChild,r=new Z(o,n),l=[];let c=o;do{t(c)&&l.push(c)}while(c=r.next());return l}},oe=e=>/^\w+:/i.test(e),re=e=>{var t,n;return null!==(n=null!==(t=e.getAttribute("data-mce-href"))&&void 0!==t?t:e.getAttribute("href"))&&void 0!==n?n:""},ie=(e,t)=>{const n=["noopener"],o=e?e.split(/\s+/):[],r=e=>e.filter((e=>-1===V.inArray(n,e))),l=t?(e=>(e=r(e)).length>0?e.concat(n):n)(o):r(o);return l.length>0?(e=>V.trim(e.sort().join(" ")))(l):""},se=(e,t)=>(t=t||ce(e.selection.getRng())[0]||e.selection.getNode(),pe(t)?A.from(e.dom.select("a[href]",t)[0]):A.from(e.dom.getParent(t,"a[href]"))),ae=(e,t)=>se(e,t).isSome(),le=(e,t)=>(text=>text.replace(/\uFEFF/g,""))(t.fold((()=>e.getContent({format:"text"})),(e=>e.innerText||e.textContent||""))),ce=e=>ne(e,te),ue=e=>V.grep(e,te),de=e=>ue(e).length>0,he=e=>{const t=e.schema.getTextInlineElements(),n=e=>1===e.nodeType&&!ee(e)&&!X(t,e.nodeName.toLowerCase());if(se(e).exists((e=>e.hasAttribute("data-mce-block"))))return!1;const o=e.selection.getRng();if(o.collapsed)return!0;return 0===ne(o,n).length},pe=e=>m(e)&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className),me=(e,t)=>{const n={...t};if(0===L(e).length&&!z(e)){const e=ie(n.rel,"_blank"===n.target);n.rel=e||null}return A.from(n.target).isNone()&&!1===P(e)&&(n.target=B(e)),n.href=((e,t)=>"http"!==t&&"https"!==t||oe(e)?e:t+"://"+e)(n.href,D(e)),n},fe=(e,t,data)=>{const n=e.selection.getNode(),o=se(e,n),r=me(e,(data=>{return e=["title","rel","class","target"],t=(e,t)=>(data[t].each((n=>{e[t]=n.length>0?n:null})),e),n={href:data.href},((e,t)=>{for(let i=0,n=e.length;i<n;i++)t(e[i],i)})(e,((e,i)=>{n=t(n,e,i)})),n;var e,t,n})(data));e.undoManager.transact((()=>{data.href===t.href&&t.attach(),o.fold((()=>{((e,t,text,n)=>{const o=e.dom;pe(t)?ye(o,t,n):text.fold((()=>{e.execCommand("mceInsertLink",!1,n)}),(text=>{e.insertContent(o.createHTML("a",n,o.encode(text)))}))})(e,n,data.text,r)}),(t=>{e.focus(),((e,t,text,n)=>{text.each((text=>{X(t,"innerText")?t.innerText=text:t.textContent=text})),e.dom.setAttribs(t,n),e.selection.select(t)})(e,t,data.text,r)}))}))},ge=data=>{const{class:e,href:t,rel:n,target:o,text:text,title:title}=data;return((e,t)=>{const n={};var o;return K(e,t,(o=n,(e,i)=>{o[i]=e}),y),n})({class:e.getOrNull(),href:t,rel:n.getOrNull(),target:o.getOrNull(),text:text.getOrNull(),title:title.getOrNull()},((e,t)=>!1===c(e)))},link=(e,t,data)=>{const n=((e,data)=>{const t=e.options.get,n={allow_html_data_urls:t("allow_html_data_urls"),allow_script_urls:t("allow_script_urls"),allow_svg_data_urls:t("allow_svg_data_urls")},o=data.href;return{...data,href:J.isDomSafe(o,"a",n)?o:""}})(e,data);e.hasPlugin("rtc",!0)?e.execCommand("createlink",!1,ge(n)):fe(e,t,n)},be=e=>{e.hasPlugin("rtc",!0)?e.execCommand("unlink"):(e=>{e.undoManager.transact((()=>{const t=e.selection.getNode();pe(t)?ve(e,t):(e=>{const t=e.dom,n=e.selection,o=n.getBookmark(),r=n.getRng().cloneRange(),l=t.getParent(r.startContainer,"a[href]",e.getBody()),c=t.getParent(r.endContainer,"a[href]",e.getBody());l&&r.setStartBefore(l),c&&r.setEndAfter(c),n.setRng(r),e.execCommand("unlink"),n.moveToBookmark(o)})(e),e.focus()}))})(e)},ve=(e,t)=>{var n;const img=e.dom.select("img",t)[0];if(img){const a=e.dom.getParents(img,"a[href]",t)[0];a&&(null===(n=a.parentNode)||void 0===n||n.insertBefore(img,a),e.dom.remove(a))}},ye=(e,t,n)=>{var o;const img=e.select("img",t)[0];if(img){const a=e.create("a",n);null===(o=img.parentNode)||void 0===o||o.insertBefore(a,img),a.appendChild(img)}},we=e=>{return X(t=e,n="items")&&void 0!==t[n]&&null!==t[n];var t,n},Ae=(e,t)=>k(t,(t=>we(t)?Ae(e,t.items):E(t.value===e,t))),xe=(e,t,n,data)=>{const o=data[t],r=e.length>0;return void 0!==o?Ae(o,n).map((i=>({url:{value:i.value,meta:{text:r?e:i.text,attach:y}},text:r?e:i.text}))):A.none()},Oe=(e,t)=>{const n={text:e.text,title:e.title},o=data=>{const text=(e=data.url,E(n.text.length<=0,A.from(null===(t=e.meta)||void 0===t?void 0:t.text).getOr(e.value)));var e,t;const title=(e=>{var t;return E(n.title.length<=0,A.from(null===(t=e.meta)||void 0===t?void 0:t.title).getOr(""))})(data.url);return text.isSome()||title.isSome()?A.some({...text.map((text=>({text:text}))).getOr({}),...title.map((title=>({title:title}))).getOr({})}):A.none()},r=(data,e)=>{const o=(r=t,l=e,"link"===l?r.link:"anchor"===l?r.anchor:A.none()).getOr([]);var r,l;return xe(n.text,e,o,data)};return{onChange:(e,t)=>{const l=t.name;return"url"===l?o(e()):C(["anchor","link"],l)?r(e(),l):"text"===l||"title"===l?(n[l]=e()[l],A.none()):A.none()}}};var Ce=tinymce.util.Tools.resolve("tinymce.util.Delay");const _e=data=>{const e=data.href;return e.indexOf("@")>0&&-1===e.indexOf("/")&&-1===e.indexOf("mailto:")?A.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:t=>({...t,href:"mailto:"+e})}):A.none()},Se=(e,t)=>data=>{const n=data.href;return 1===e&&!oe(n)||0===e&&/^\s*www(\.|\d\.)/i.test(n)?A.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${t}:// prefix?`,preprocess:e=>({...e,href:t+"://"+n})}):A.none()},ke=(e,data)=>k([_e,Se(D(e),M(e))],(e=>e(data))).fold((()=>Promise.resolve(data)),(t=>new Promise((n=>{((e,t,n)=>{const o=e.selection.getRng();Ce.setEditorTimeout(e,(()=>{e.windowManager.confirm(t,(t=>{e.selection.setRng(o),n(t)}))}))})(e,t.message,(e=>{n(e?t.preprocess(data):data)}))})))),Te=e=>{const t=e.dom.select("a:not([href])"),n=S(t,(e=>{const t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]}));return n.length>0?A.some([{text:"None",value:""}].concat(n)):A.none()},je=e=>{const t=N(e);return t.length>0?U.sanitize(t):A.none()},Ee=text=>{try{return A.some(JSON.parse(text))}catch(e){return A.none()}},De=e=>{const t=t=>e.convertURL(t.value||t.url||"","href"),n=R(e);return new Promise((e=>{o(n)?fetch(n).then((e=>e.ok?e.text().then(Ee):Promise.reject())).then(e,(()=>e(A.none()))):f(n)?n((output=>e(A.some(output)))):e(A.from(n))})).then((e=>e.bind(U.sanitizeWith(t)).map((e=>{if(e.length>0){return[{text:"None",value:""}].concat(e)}return e}))))},Ie=(e,t)=>{const n=L(e);if(n.length>0){const o=T(t,"_blank"),r=e=>ie(U.getValue(e),o);return(!1===z(e)?U.sanitizeWith(r):U.sanitize)(n)}return A.none()},Re=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Be=e=>{const t=P(e);return l(t)?U.sanitize(t).orThunk((()=>A.some(Re))):!1===t?A.none():A.some(Re)},Me=(e,t,n)=>{const o=e.getAttrib(t,n);return null!==o&&o.length>0?A.some(o):A.none()},Pe=(e,t)=>De(e).then((n=>{const o=((e,t)=>{const n=e.dom,text=he(e)?A.some(le(e.selection,t)):A.none(),o=t.bind((e=>A.from(n.getAttrib(e,"href")))),r=t.bind((e=>A.from(n.getAttrib(e,"target")))),l=t.bind((e=>Me(n,e,"rel"))),c=t.bind((e=>Me(n,e,"class")));return{url:o,text:text,title:t.bind((e=>Me(n,e,"title"))),target:r,rel:l,linkClass:c}})(e,t);return{anchor:o,catalogs:{targets:Be(e),rels:Ie(e,o.target),classes:je(e),anchor:Te(e),link:n},optNode:t,flags:{titleEnabled:$(e)}}})),Le=e=>{const data=(e=>{const t=se(e);return Pe(e,t)})(e);data.then((t=>{const n=((e,t)=>n=>{const data=n.getData();if(!data.url.value)return be(e),void n.close();const o=e=>A.from(data[e]).filter((n=>!T(t.anchor[e],n))),r={href:data.url.value,text:o("text"),target:o("target"),rel:o("rel"),class:o("linkClass"),title:o("title")},l={href:data.url.value,attach:void 0!==data.url.meta&&data.url.meta.attach?data.url.meta.attach:y};ke(e,r).then((t=>{link(e,l,t)})),n.close()})(e,t);return((e,t,n)=>{const o=e.anchor.text.map((()=>({name:"text",type:"input",label:"Text to display"}))).toArray(),r=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],l=((e,t)=>{const n=e.anchor,o=n.url.getOr("");return{url:{value:o,meta:{original:{value:o}}},text:n.text.getOr(""),title:n.title.getOr(""),anchor:o,link:o,rel:n.rel.getOr(""),target:n.target.or(t).getOr(""),linkClass:n.linkClass.getOr("")}})(e,A.from(B(n))),c=e.catalogs,d=Oe(l,c);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:_([[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],o,r,j([c.anchor.map(U.createUi("anchor","Anchors")),c.rels.map(U.createUi("rel","Rel")),c.targets.map(U.createUi("target","Open link in...")),c.link.map(U.createUi("link","Link list")),c.classes.map(U.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:l,onChange:(e,{name:t})=>{d.onChange(e.getData,{name:t}).each((t=>{e.setData(t)}))},onSubmit:t}})(t,n,e)})).then((t=>{e.windowManager.open(t)}))};var Ne=tinymce.util.Tools.resolve("tinymce.util.VK");const $e=e=>{const link=document.createElement("a");link.target="_blank",link.href=e,link.rel="noreferrer noopener";const t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),((link,e)=>{document.body.appendChild(link),link.dispatchEvent(e),document.body.removeChild(link)})(link,t)},ze=(e,t)=>e.dom.getParent(t,"a[href]"),Fe=e=>ze(e,e.selection.getStart()),Ve=(e,a)=>{if(a){const t=re(a);if(/^#/.test(t)){const n=e.dom.select(t);n.length&&e.selection.scrollIntoView(n[0],!0)}else $e(a.href)}},He=e=>()=>{e.execCommand("mceLink",!1,{dialog:!0})},qe=e=>()=>{Ve(e,Fe(e))},We=(e,t)=>(e.on("NodeChange",t),()=>e.off("NodeChange",t)),Qe=e=>t=>{const n=()=>{t.setActive(!e.mode.isReadOnly()&&ae(e,e.selection.getNode())),t.setEnabled(e.selection.isEditable())};return n(),We(e,n)},Ue=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return n(),We(e,n)},Ye=e=>t=>{const n=()=>t.setEnabled((e=>1===(e.selection.isCollapsed()?ue(e.dom.getParents(e.selection.getStart())):ce(e.selection.getRng())).length)(e));return n(),We(e,n)},Ge=e=>t=>{const n=t=>{return de(t)||(n=e.selection.getRng(),ce(n).length>0);var n},o=e.dom.getParents(e.selection.getStart()),r=o=>{t.setEnabled(n(o)&&e.selection.isEditable())};return r(o),We(e,(e=>r(e.parents)))},Ke=e=>{const t=t=>{const n=e.selection.getNode();return t.setEnabled(ae(e,n)),y};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Qe(e)},label:"Link",predicate:t=>I(e)&&ae(e,t),initValue:()=>{return se(e).fold((t="",()=>t),re);var t},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:t=>{const n=e.selection.getNode();return t.setActive(ae(e,n)),Qe(e)(t)},onAction:t=>{const n=t.getValue(),text=(t=>{const n=se(e),o=he(e);if(n.isNone()&&o){const text=le(e.selection,n);return E(0===text.length,t)}return A.none()})(n);link(e,{href:n,attach:y},{href:n,text:text,title:A.none(),rel:A.none(),target:A.none(),class:A.none()}),(e=>{e.selection.collapse(!1)})(e),t.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:t,onAction:t=>{be(e),t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:t,onAction:t=>{qe(e)(),t.hide()}}]})};e.add("link",(e=>{(e=>{const t=e.options.register;t("link_assume_external_targets",{processor:e=>{const t=o(e)||h(e);return t?!0===e?{value:1,valid:t}:"http"===e||"https"===e?{value:e,valid:t}:{value:0,valid:t}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),t("link_context_toolbar",{processor:"boolean",default:!1}),t("link_list",{processor:e=>o(e)||f(e)||v(e,r)}),t("link_default_target",{processor:"string"}),t("link_default_protocol",{processor:"string",default:"https"}),t("link_target_list",{processor:e=>h(e)||v(e,r),default:!0}),t("link_rel_list",{processor:"object[]",default:[]}),t("link_class_list",{processor:"object[]",default:[]}),t("link_title",{processor:"boolean",default:!0}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("link_quicklink",{processor:"boolean",default:!1})})(e),(e=>{e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:He(e),onSetup:Qe(e)}),e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:qe(e),onSetup:Ye(e)}),e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>be(e),onSetup:Ge(e)})})(e),(e=>{e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:qe(e),onSetup:Ye(e)}),e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onSetup:Ue(e),onAction:He(e)}),e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>be(e),onSetup:Ge(e)})})(e),(e=>{e.ui.registry.addContextMenu("link",{update:element=>e.dom.isEditable(element)?de(e.dom.getParents(element,"a"))?"link unlink openlink":"link":""})})(e),Ke(e),(e=>{e.on("click",(t=>{const link=ze(e,t.target);link&&Ne.metaKeyPressed(t)&&(t.preventDefault(),Ve(e,link))})),e.on("keydown",(t=>{if(!t.isDefaultPrevented()&&13===t.keyCode&&(e=>!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey)(t)){const link=Fe(e);link&&(t.preventDefault(),Ve(e,link))}}))})(e),(e=>{e.addCommand("mceLink",((t,n)=>{!0!==(null==n?void 0:n.dialog)&&F(e)?e.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"}):Le(e)}))})(e),(e=>{e.addShortcut("Meta+K","",(()=>{e.execCommand("mceLink")}))})(e)}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const option=e=>t=>t.options.get(e),t=option("autolink_pattern"),n=option("link_default_target"),o=option("link_default_protocol"),r=option("allow_unsafe_link_target"),l=(c="string",e=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(l=o.constructor)||void 0===l?void 0:l.name)===r.name)?"string":t;var n,o,r,l})(e)===c);var c;const d=(h=void 0,a=>h===a);var h;const m=a=>!(a=>null==a)(a),f=Object.hasOwnProperty,v=e=>"\ufeff"===e;var y=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const w=e=>3===e.nodeType,A=e=>/^[(\[{ \u00a0]$/.test(e),x=(text,e,t)=>{for(let i=e-1;i>=0;i--){const e=text.charAt(i);if(!v(e)&&t(e))return i}return-1},O=(e,n)=>{var r;const l=e.schema.getVoidElements(),c=t(e),{dom:h,selection:m}=e;if(null!==h.getParent(m.getNode(),"a[href]"))return null;const v=m.getRng(),O=y(h,(e=>{return h.isBlock(e)||(t=l,n=e.nodeName.toLowerCase(),f.call(t,n))||"false"===h.getContentEditable(e);var t,n})),{container:C,offset:_}=((e,t)=>{let n=e,o=t;for(;1===n.nodeType&&n.childNodes[o];)n=n.childNodes[o],o=w(n)?n.data.length:n.childNodes.length;return{container:n,offset:o}})(v.endContainer,v.endOffset),S=null!==(r=h.getParent(C,h.isBlock))&&void 0!==r?r:h.getRoot(),k=O.backwards(C,_+n,((e,t)=>{const text=e.data,n=x(text,t,(o=A,e=>!o(e)));var o,r;return-1===n||(r=text[n],/[?!,.;:]/.test(r))?n:n+1}),S);if(!k)return null;let T=k.container;const j=O.backwards(k.container,k.offset,((e,t)=>{T=e;const n=x(e.data,t,A);return-1===n?n:n+1}),S),E=h.createRng();j?E.setStart(j.container,j.offset):E.setStart(T,0),E.setEnd(k.container,k.offset);const D=E.toString().replace(/\uFEFF/g,"").match(c);if(D){let t=D[0];if(((e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t)(t,"www.",0)){t=o(e)+"://"+t}else((e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!d(o)||r+t.length<=o)})(t,"@")&&!(e=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(e))(t)&&(t="mailto:"+t);return{rng:E,url:t}}return null},C=(e,t)=>{const{dom:o,selection:c}=e,{rng:d,url:h}=t,m=c.getBookmark();c.setRng(d);const f="createlink",v={command:f,ui:!1,value:h};if(!e.dispatch("BeforeExecCommand",v).isDefaultPrevented()){e.getDoc().execCommand(f,!1,h),e.dispatch("ExecCommand",v);const t=n(e);if(l(t)){const n=c.getNode();o.setAttrib(n,"target",t),"_blank"!==t||r(e)||o.setAttrib(n,"rel","noopener")}}c.moveToBookmark(m),e.nodeChanged()},_=e=>{const t=O(e,-1);m(t)&&C(e,t)},S=_,k=e=>{e.on("keydown",(t=>{13!==t.keyCode||t.isDefaultPrevented()||(e=>{const t=O(e,0);m(t)&&C(e,t)})(e)})),e.on("keyup",(t=>{32===t.keyCode?_(e):(48===t.keyCode&&t.shiftKey||221===t.keyCode)&&S(e)}))};e.add("autolink",(e=>{(e=>{const t=e.options.register;t("autolink_pattern",{processor:"regexp",default:new RegExp("^"+/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g.source+"$","i")}),t("link_default_target",{processor:"string"}),t("link_default_protocol",{processor:"string",default:"https"})})(e),k(e)}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t)=>{const n=((e,t)=>e.dispatch("insertCustomChar",{chr:t}))(e,t).chr;e.execCommand("mceInsertContent",!1,n)},n=e=>a=>e===a,o=(r="array",e=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(l=o.constructor)||void 0===l?void 0:l.name)===r.name)?"string":t;var n,o,r,l})(e)===r);var r;const l=n(null),c=n(void 0),d=(e=>t=>typeof t===e)("function"),h=(m=!1,()=>m);var m;class f{constructor(e,t){this.tag=e,this.value=t}static some(e){return new f(!0,e)}static none(){return f.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?f.some(e(this.value)):f.none()}bind(e){return this.tag?e(this.value):f.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:f.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return(a=>null==a)(e)?f.none():f.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}f.singletonNone=new f(!1);const v=Array.prototype.push,map=(e,t)=>{const n=e.length,o=new Array(n);for(let i=0;i<n;i++){const n=e[i];o[i]=t(n,i)}return o},y=(e,t)=>((e,t,n)=>{for(let i=0,o=e.length;i<o;i++){const o=e[i];if(t(o,i))return f.some(o);if(n(o,i))break}return f.none()})(e,t,h),w=(e,t)=>(e=>{const t=[];for(let i=0,n=e.length;i<n;++i){if(!o(e[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+e);v.apply(t,e[i])}return t})(map(e,t));var A=tinymce.util.Tools.resolve("tinymce.util.Tools");const option=e=>t=>t.options.get(e),x=option("charmap"),O=option("charmap_append"),C=A.isArray,_="User Defined",S=e=>{return C(e)?(t=e,A.grep(t,(e=>C(e)&&2===e.length))):"function"==typeof e?e():[];var t},k=e=>{const t=((e,t)=>{const n=x(e);n&&(t=[{name:_,characters:S(n)}]);const o=O(e);if(o){const e=A.grep(t,(e=>e.name===_));return e.length?(e[0].characters=[...e[0].characters,...S(o)],t):t.concat({name:_,characters:S(o)})}return t})(e,[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}]);return t.length>1?[{name:"All",characters:w(t,(g=>g.characters))}].concat(t):t},T=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},j=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!c(o)||r+t.length<=o)},E=String.fromCodePoint,D=(e,pattern)=>{const t=[],n=pattern.toLowerCase();return((e,t)=>{for(let i=0,n=e.length;i<n;i++)t(e[i],i)})(e.characters,(g=>{((e,t,n)=>!!j(E(e).toLowerCase(),n)||j(t.toLowerCase(),n)||j(t.toLowerCase().replace(/\s+/g,""),n))(g[0],g[1],n)&&t.push(g)})),map(t,(e=>({text:e[1],value:E(e[0]),icon:E(e[0])})))},I="pattern",R=(e,n)=>{const o=()=>[{label:"Search",type:"input",name:I},{type:"collection",name:"results"}],r=1===n.length?T(_):T("All"),c=((e,t)=>{let n=null;const o=()=>{l(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:(...r)=>{o(),n=setTimeout((()=>{n=null,e.apply(null,r)}),t)}}})((e=>{const pattern=e.getData().pattern;((e,pattern)=>{y(n,(e=>e.name===r.get())).each((t=>{const n=D(t,pattern);e.setData({results:n})}))})(e,pattern)}),40),d={title:"Special Character",size:"normal",body:1===n.length?{type:"panel",items:o()}:{type:"tabpanel",tabs:map(n,(e=>({title:e.name,name:e.name,items:o()})))},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{pattern:"",results:D(n[0],"")},onAction:(n,details)=>{"results"===details.name&&(t(e,details.value),n.close())},onTabChange:(e,details)=>{r.set(details.newTabName),c.throttle(e)},onChange:(e,t)=>{t.name===I&&c.throttle(e)}};e.windowManager.open(d).focus(I)},B=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("charmap",(e=>{(e=>{const t=e.options.register,n=e=>d(e)||o(e);t("charmap",{processor:n}),t("charmap_append",{processor:n})})(e);const n=k(e);return((e,t)=>{e.addCommand("mceShowCharmap",(()=>{R(e,t)}))})(e,n),(e=>{const t=()=>e.execCommand("mceShowCharmap");e.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:t,onSetup:B(e)}),e.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:t,onSetup:B(e)})})(e),((e,t)=>{e.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(pattern,e)=>new Promise(((e,n)=>{e(D(t,pattern))})),onAction:(t,n,o)=>{e.selection.setRng(n),e.insertContent(o),t.hide()}})})(e,n[0]),(e=>({getCharMap:()=>k(e),insertChar:n=>{t(e,n)}}))(e)}))}()},function(e,t){!function(){"use strict";const e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(l=String).prototype,o.isPrototypeOf(n)||(null===(c=r.constructor)||void 0===c?void 0:c.name)===l.name)?"string":t;var n,o;var r,l,c})(t)===e,o=e=>t=>typeof t===e,r=n("string"),l=n("array"),c=o("boolean"),d=o("number"),h=()=>{},m=e=>()=>e,f=m(!0),v=m("[~â„–|!-*+-\\/:;?@\\[-`{}Â¡Â«Â·Â»Â¿;Â·Õš-ÕŸÖ‰ÖŠÖ¾×€×ƒ×†×³×´Ø‰ØŠØŒØØ›ØžØŸÙª-Ù­Û”Ü€-Üß·-ß¹à °-à ¾à¡žà¥¤à¥¥à¥°à·´à¹à¹šà¹›à¼„-à¼’à¼º-à¼½à¾…à¿-à¿”à¿™à¿šáŠ-ááƒ»á¡-á¨á€á™­á™®áš›ášœá›«-á›­áœµáœ¶áŸ”-áŸ–áŸ˜-áŸšá €-á Šá¥„á¥…á¨žá¨Ÿáª -áª¦áª¨-áª­á­š-á­ á¯¼-á¯¿á°»-á°¿á±¾á±¿á³“â€-â€§â€°-âƒâ…-â‘â“-âžâ½â¾â‚â‚Žã€ˆã€‰â¨-âµâŸ…âŸ†âŸ¦-âŸ¯â¦ƒ-â¦˜â§˜-â§›â§¼â§½â³¹-â³¼â³¾â³¿âµ°â¸€-â¸®â¸°â¸±ã€-ã€ƒã€ˆ-ã€‘ã€”-ã€Ÿã€°ã€½ã‚ ãƒ»ê“¾ê“¿ê˜-ê˜ê™³ê™¾ê›²-ê›·ê¡´-ê¡·ê£Žê£ê£¸-ê£ºê¤®ê¤¯ê¥Ÿê§-ê§ê§žê§Ÿê©œ-ê©Ÿê«žê«Ÿê¯«ï´¾ï´¿ï¸-ï¸™ï¸°-ï¹’ï¹”-ï¹¡ï¹£ï¹¨ï¹ªï¹«ï¼-ï¼ƒï¼…-ï¼Šï¼Œ-ï¼ï¼šï¼›ï¼Ÿï¼ ï¼»-ï¼½ï¼¿ï½›ï½ï½Ÿ-ï½¥]");class y{constructor(e,t){this.tag=e,this.value=t}static some(e){return new y(!0,e)}static none(){return y.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?y.some(e(this.value)):y.none()}bind(e){return this.tag?e(this.value):y.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:y.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return(a=>null==a)(e)?y.none():y.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}y.singletonNone=new y(!1);const w=v;var A=tinymce.util.Tools.resolve("tinymce.Env"),x=tinymce.util.Tools.resolve("tinymce.util.Tools");const O=Array.prototype.slice,C=Array.prototype.push,map=(e,t)=>{const n=e.length,o=new Array(n);for(let i=0;i<n;i++){const n=e[i];o[i]=t(n,i)}return o},_=(e,t)=>{for(let i=0,n=e.length;i<n;i++){t(e[i],i)}},S=(e,t)=>{for(let i=e.length-1;i>=0;i--){t(e[i],i)}},k=(e,t)=>(e=>{const t=[];for(let i=0,n=e.length;i<n;++i){if(!l(e[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+e);C.apply(t,e[i])}return t})(map(e,t)),T=Object.hasOwnProperty,j=(e,t)=>T.call(e,t);"undefined"!=typeof window?window:Function("return this;")();const E=(D=3,element=>(element=>element.dom.nodeType)(element)===D);var D;const I=(element,e,t)=>{((e,t,n)=>{if(!(r(n)||c(n)||d(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(element.dom,e,t)},R=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},B={fromHtml:(html,e)=>{const div=(e||document).createElement("div");if(div.innerHTML=html,!div.hasChildNodes()||div.childNodes.length>1){const e="HTML does not have a single root node";throw console.error(e,html),new Error(e)}return R(div.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return R(n)},fromText:(text,e)=>{const t=(e||document).createTextNode(text);return R(t)},fromDom:R,fromPoint:(e,t,n)=>y.from(e.dom.elementFromPoint(t,n)).map(R)},M=(element,e)=>({element:element,offset:e}),P=(element,e)=>{const t=(element=>map(element.dom.childNodes,B.fromDom))(element);return t.length>0&&e<t.length?M(t[e],0):M(element,e)},L=(marker,element)=>{const e=(element=>y.from(element.dom.parentNode).map(B.fromDom))(marker);e.each((e=>{e.dom.insertBefore(element.dom,marker.dom)}))},N=(element,e)=>{L(element,e),((e,element)=>{e.dom.appendChild(element.dom)})(e,element)},$=((e,t)=>{const n=element=>e(element)?y.from(element.dom.nodeValue):y.none();return{get:element=>{if(!e(element))throw new Error("Can only get "+t+" value of a "+t+" node");return n(element).getOr("")},getOption:n,set:(element,n)=>{if(!e(element))throw new Error("Can only set raw "+t+" value of a "+t+" node");element.dom.nodeValue=n}}})(E,"text"),z=element=>$.get(element),F=(e,t)=>((e,t)=>{const base=void 0===t?document:t.dom;return 1!==(n=base).nodeType&&9!==n.nodeType&&11!==n.nodeType||0===n.childElementCount?[]:map(base.querySelectorAll(e),B.fromDom);var n})(t,e);var V=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const H=(e,t)=>e.isBlock(t)||j(e.schema.getVoidElements(),t.nodeName),W=(e,t)=>"false"===e.getContentEditable(t),Q=(e,t)=>!e.isBlock(t)&&j(e.schema.getWhitespaceElements(),t.nodeName),U=(e,t)=>P(B.fromDom(e),t),Y=(e,t,n,o,r,l=!0)=>{let c=l?t(!1):n;for(;c;){const n=W(e,c);if(n||Q(e,c)){if(n?o.cef(c):o.boundary(c))break;c=t(!0)}else{if(H(e,c)){if(o.boundary(c))break}else 3===c.nodeType&&o.text(c);if(c===r)break;c=t(!1)}}},G=(e,section,t,n,o)=>{var r;if(((e,t)=>H(e,t)||W(e,t)||Q(e,t)||((e,t)=>"true"===e.getContentEditable(t)&&t.parentNode&&"false"===e.getContentEditableParent(t.parentNode))(e,t))(e,t))return;const l=null!==(r=e.getParent(n,e.isBlock))&&void 0!==r?r:e.getRoot(),c=new V(t,l),d=o?c.next.bind(c):c.prev.bind(c);Y(e,d,t,{boundary:f,cef:f,text:e=>{o?section.fOffset+=e.length:section.sOffset+=e.length,section.elements.push(B.fromDom(e))}})},K=(e,t,n,o,r,l=!0)=>{const c=new V(n,t),d=[];let h={sOffset:0,fOffset:0,elements:[]};G(e,h,n,t,!1);const m=()=>(h.elements.length>0&&(d.push(h),h={sOffset:0,fOffset:0,elements:[]}),!1);return Y(e,c.next.bind(c),n,{boundary:m,cef:e=>(m(),r&&d.push(...r.cef(e)),!1),text:e=>{h.elements.push(B.fromDom(e)),r&&r.text(e,h)}},o,l),o&&G(e,h,o,t,!0),m(),d},X=(e,t)=>{const n=U(t.startContainer,t.startOffset),o=n.element.dom,r=U(t.endContainer,t.endOffset),l=r.element.dom;return K(e,t.commonAncestorContainer,o,l,{text:(e,section)=>{e===l?section.fOffset+=e.length-r.offset:e===o&&(section.sOffset+=n.offset)},cef:t=>((e,t)=>{const n=O.call(e,0);return n.sort(t),n})(k(F(B.fromDom(t),"*[contenteditable=true]"),(t=>{const n=t.dom;return K(e,n,n)})),((a,b)=>((a,b)=>((a,b,e)=>0!=(a.compareDocumentPosition(b)&e))(a,b,Node.DOCUMENT_POSITION_PRECEDING))(a.elements[0].dom,b.elements[0].dom)?1:-1))},!1)},Z=(e,t)=>t.collapsed?[]:X(e,t),J=(e,t)=>{const n=e.createRng();return n.selectNode(t),Z(e,n)},ee=(e,t)=>{const n=(o=e,r=(e,element)=>{const content=z(element),n=e.last,o=n+content.length,r=k(t,((e,t)=>e.start<o&&e.finish>n?[{element:element,start:Math.max(n,e.start)-n,finish:Math.min(o,e.finish)-n,matchId:t}]:[]));return{results:e.results.concat(r),last:o}},l={results:[],last:0},_(o,((e,i)=>{l=r(l,e,i)})),l).results;var o,r,l;return((e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let i=0,l=e.length;i<l;i++){const l=e[i],c=t(l);c!==n&&(o.push(r),r=[]),n=c,r.push(l)}return 0!==r.length&&o.push(r),o}})(n,(e=>e.matchId))},te=(pattern,e)=>k(e,(section=>{const e=section.elements,content=map(e,z).join(""),t=((text,pattern,e=0,t=text.length)=>{const n=pattern.regex;n.lastIndex=e;const o=[];let r;for(;r=n.exec(text);){const e=r[pattern.matchIndex],l=r.index+r[0].indexOf(e),c=l+e.length;if(c>t)break;o.push({start:l,finish:c}),n.lastIndex=c}return o})(content,pattern,section.sOffset,content.length-section.fOffset);return ee(e,t)})),mark=(e,t)=>{S(e,((e,n)=>{S(e,(e=>{const o=B.fromDom(t.cloneNode(!1));I(o,"data-mce-index",n);const r=e.element.dom;if(r.length===e.finish&&0===e.start)N(e.element,o);else{r.length!==e.finish&&r.splitText(e.finish);const t=r.splitText(e.start);N(B.fromDom(t),o)}}))}))},ne=(e,pattern,t,n)=>{const o=t.getBookmark(),r=e.select("td[data-mce-selected],th[data-mce-selected]"),l=r.length>0?((e,t)=>k(t,(t=>J(e,t))))(e,r):Z(e,t.getRng()),c=te(pattern,l);return mark(c,n),t.moveToBookmark(o),c.length},oe=e=>e.getAttribute("data-mce-index"),re=(e,t,pattern,n)=>{const marker=e.dom.create("span",{"data-mce-bogus":1});marker.className="mce-match-marker";const o=e.getBody();return me(e,t,!1),n?ne(e.dom,pattern,e.selection,marker):((e,pattern,t,n)=>{const o=J(e,t),r=te(pattern,o);return mark(r,n),r.length})(e.dom,pattern,o,marker)},ie=e=>{var t;const n=e.parentNode;e.firstChild&&n.insertBefore(e.firstChild,e),null===(t=e.parentNode)||void 0===t||t.removeChild(e)},se=(e,t)=>{const n=[],o=x.toArray(e.getBody().getElementsByTagName("span"));if(o.length)for(let i=0;i<o.length;i++){const e=oe(o[i]);null!==e&&e.length&&(e===t.toString()&&n.push(o[i]))}return n},ae=(e,t,n)=>{const o=t.get();let r=o.index;const l=e.dom;n?r+1===o.count?r=0:r++:r-1==-1?r=o.count-1:r--,l.removeClass(se(e,o.index),"mce-match-marker-selected");const c=se(e,r);return c.length?(l.addClass(se(e,r),"mce-match-marker-selected"),e.selection.scrollIntoView(c[0]),r):-1},le=(e,t)=>{const n=t.parentNode;e.remove(t),n&&e.isEmpty(n)&&e.remove(n)},ce=(e,t,text,n,o,r)=>{const l=e.selection,c=((text,e)=>{const t="("+text.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return e?`(?:^|\\s|${w()})`+t+`(?=$|\\s|${w()})`:t})(text,o),d=l.isForward(),pattern={regex:new RegExp(c,n?"g":"gi"),matchIndex:1},h=re(e,t,pattern,r);if(A.browser.isSafari()&&l.setRng(l.getRng(),d),h){const l=ae(e,t,!0);t.set({index:l,count:h,text:text,matchCase:n,wholeWord:o,inSelection:r})}return h},ue=(e,t)=>{const n=ae(e,t,!0);t.set({...t.get(),index:n})},de=(e,t)=>{const n=ae(e,t,!1);t.set({...t.get(),index:n})},he=e=>{const t=oe(e);return null!==t&&t.length>0},pe=(e,t,text,n,o)=>{const r=t.get(),l=r.index;let c,d=l;n=!1!==n;const h=e.getBody(),m=x.grep(x.toArray(h.getElementsByTagName("span")),he);for(let i=0;i<m.length;i++){const t=oe(m[i]);let h=c=parseInt(t,10);if(o||h===r.index){for(text.length?(m[i].innerText=text,ie(m[i])):le(e.dom,m[i]);m[++i];){if(h=parseInt(oe(m[i]),10),h!==c){i--;break}le(e.dom,m[i])}n&&d--}else c>l&&m[i].setAttribute("data-mce-index",String(c-1))}return t.set({...r,count:o?0:r.count-1,index:d}),n?ue(e,t):de(e,t),!o&&t.get().count>0},me=(e,t,n)=>{let o,r;const l=t.get(),c=x.toArray(e.getBody().getElementsByTagName("span"));for(let i=0;i<c.length;i++){const e=oe(c[i]);null!==e&&e.length&&(e===l.index.toString()&&(o||(o=c[i].firstChild),r=c[i].firstChild),ie(c[i]))}if(t.set({...l,index:-1,count:0,text:""}),o&&r){const t=e.dom.createRng();return t.setStart(o,0),t.setEnd(r,r.data.length),!1!==n&&e.selection.setRng(t),t}},fe=()=>{const t=(t=>{const n=e(y.none()),o=()=>n.get().each(t);return{clear:()=>{o(),n.set(y.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:s=>{o(),n.set(y.some(s))}}})(h);return{...t,on:e=>t.get().each(e)}},ge=(e,t)=>{const n=fe();e.undoManager.add();const o=x.trim(e.selection.getContent({format:"text"})),r=e=>{e.setEnabled("next",((e,t)=>t.get().count>1)(0,t)),e.setEnabled("prev",((e,t)=>t.get().count>1)(0,t))},l=(e,t)=>{_(["replace","replaceall","prev","next"],(n=>e.setEnabled(n,!t)))},c=(e,t)=>{t.redial(w(e,t.getData()))},d=(e,t)=>{A.browser.isSafari()&&A.deviceType.isTouch()&&("find"===t||"replace"===t||"replaceall"===t)&&e.focus(t)},h=n=>{me(e,t,!1),l(n,!0),r(n)},m=n=>{const data=n.getData(),o=t.get();if(data.findtext.length){if(o.text===data.findtext&&o.matchCase===data.matchcase&&o.wholeWord===data.wholewords)ue(e,t);else{const o=ce(e,t,data.findtext,data.matchcase,data.wholewords,data.inselection);o<=0&&c(!0,n),l(n,0===o)}r(n)}else h(n)},f=t.get(),v={findtext:o,replacetext:"",wholewords:f.wholeWord,matchcase:f.matchCase,inselection:f.inSelection},y=e=>{const t=[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}];return e&&t.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),t},w=(n,o)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:y(n)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:o,onChange:(e,details)=>{n&&c(!1,e),"findtext"===details.name&&t.get().count>0&&h(e)},onAction:(n,details)=>{const data=n.getData();switch(details.name){case"find":m(n);break;case"replace":pe(e,t,data.replacetext)?r(n):h(n);break;case"replaceall":pe(e,t,data.replacetext,!0,!0),h(n);break;case"prev":de(e,t),r(n);break;case"next":ue(e,t),r(n);break;case"matchcase":case"wholewords":case"inselection":c(!1,n),(e=>{const data=e.getData(),n=t.get();t.set({...n,matchCase:data.matchcase,wholeWord:data.wholewords,inSelection:data.inselection})})(n),h(n)}d(n,details.name)},onSubmit:e=>{m(e),d(e,"find")},onClose:()=>{e.focus(),me(e,t),e.undoManager.add()}});n.set(e.windowManager.open(w(!1,v),{inline:"toolbar"}))},be=(e,t)=>()=>{ge(e,t)};t.add("searchreplace",(t=>{const n=e({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return((e,t)=>{e.addCommand("SearchReplace",(()=>{ge(e,t)}))})(t,n),((e,t)=>{e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:be(e,t),icon:"search"}),e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:be(e,t),icon:"search"}),e.shortcuts.add("Meta+F","",be(e,t))})(t,n),((e,t)=>({done:n=>me(e,t,n),find:(text,n,o,r=!1)=>ce(e,t,text,n,o,r),next:()=>ue(e,t),prev:()=>de(e,t),replace:(text,n,o)=>pe(e,t,text,n,o)}))(t,n)}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,n)=>{e.dom.toggleClass(e.getBody(),"mce-visualblocks"),n.set(!n.get()),((e,t)=>{e.dispatch("VisualBlocks",{state:t})})(e,n.get())},n=(o="visualblocks_default_state",e=>e.options.get(o));var o;const r=(e,t)=>n=>{n.setActive(t.get());const o=e=>n.setActive(e.state);return e.on("VisualBlocks",o),()=>e.off("VisualBlocks",o)};e.add("visualblocks",((e,o)=>{(e=>{(0,e.options.register)("visualblocks_default_state",{processor:"boolean",default:!1})})(e);const l=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(!1);((e,n,o)=>{e.addCommand("mceVisualBlocks",(()=>{t(e,0,o)}))})(e,0,l),((e,t)=>{const n=()=>e.execCommand("mceVisualBlocks");e.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:n,onSetup:r(e,t)}),e.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:n,onSetup:r(e,t)})})(e,l),((e,o,r)=>{e.on("PreviewFormats AfterPreviewFormats",(t=>{r.get()&&e.dom.toggleClass(e.getBody(),"mce-visualblocks","afterpreviewformats"===t.type)})),e.on("init",(()=>{n(e)&&t(e,0,r)}))})(e,0,l)}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");e.add("code",(e=>((e=>{e.addCommand("mceCodeEditor",(()=>{(e=>{const t=(e=>e.getContent({source_view:!0}))(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:t},onSubmit:t=>{((e,html)=>{e.focus(),e.undoManager.transact((()=>{e.setContent(html)})),e.selection.setCursorLocation(),e.nodeChanged()})(e,t.getData().code),t.close()}})})(e)}))})(e),(e=>{const t=()=>e.execCommand("mceCodeEditor");e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})})(e),{})))}()},function(e,t){!function(){"use strict";const e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=e=>({isFullscreen:()=>null!==e.get()}),o=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(l=String).prototype,o.isPrototypeOf(n)||(null===(c=r.constructor)||void 0===c?void 0:c.name)===l.name)?"string":t;var n,o;var r,l,c})(t)===e,r=e=>t=>typeof t===e,l=e=>a=>e===a,c=o("string"),d=o("array"),h=l(null),m=r("boolean"),f=l(void 0),v=a=>!(a=>null==a)(a),y=r("function"),w=r("number"),A=()=>{},x=e=>()=>e;function O(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const C=x(!1),_=x(!0);class S{constructor(e,t){this.tag=e,this.value=t}static some(e){return new S(!0,e)}static none(){return S.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?S.some(e(this.value)):S.none()}bind(e){return this.tag?e(this.value):S.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:S.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return v(e)?S.some(e):S.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}S.singletonNone=new S(!1);const k=t=>{const n=e(S.none()),o=()=>n.get().each(t);return{clear:()=>{o(),n.set(S.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:s=>{o(),n.set(S.some(s))}}},T=()=>k((s=>s.unbind())),j=Array.prototype.push,map=(e,t)=>{const n=e.length,o=new Array(n);for(let i=0;i<n;i++){const n=e[i];o[i]=t(n,i)}return o},E=(e,t)=>{for(let i=0,n=e.length;i<n;i++){t(e[i],i)}},D=(e,t)=>{const n=[];for(let i=0,o=e.length;i<o;i++){const o=e[i];t(o,i)&&n.push(o)}return n},I=(e,t)=>((e,t,n)=>{for(let i=0,o=e.length;i<o;i++){const o=e[i];if(t(o,i))return S.some(o);if(n(o,i))break}return S.none()})(e,t,C),R=(e,t)=>(e=>{const t=[];for(let i=0,n=e.length;i<n;++i){if(!d(e[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+e);j.apply(t,e[i])}return t})(map(e,t)),head=e=>((e,i)=>i>=0&&i<e.length?S.some(e[i]):S.none())(e,0),B=Object.keys,M=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!f(o)||r+t.length<=o)},P=e=>void 0!==e.style&&y(e.style.getPropertyValue),L=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},N={fromHtml:(html,e)=>{const div=(e||document).createElement("div");if(div.innerHTML=html,!div.hasChildNodes()||div.childNodes.length>1){const e="HTML does not have a single root node";throw console.error(e,html),new Error(e)}return L(div.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return L(n)},fromText:(text,e)=>{const t=(e||document).createTextNode(text);return L(t)},fromDom:L,fromPoint:(e,t,n)=>S.from(e.dom.elementFromPoint(t,n)).map(L)};"undefined"!=typeof window?window:Function("return this;")();const $=e=>element=>(element=>element.dom.nodeType)(element)===e,z=$(1),F=$(3),V=$(9),H=$(11),W=(element,e)=>{const t=element.dom;if(1!==t.nodeType)return!1;{const n=t;if(void 0!==n.matches)return n.matches(e);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(e);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(e);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")}},Q=element=>N.fromDom(element.dom.ownerDocument),U=element=>(element=>S.from(element.dom.parentNode).map(N.fromDom))(element).map(Y).map((e=>D(e,(e=>{return t=e,!(element.dom===t.dom);var t})))).getOr([]),Y=element=>map(element.dom.childNodes,N.fromDom),G=y(Element.prototype.attachShadow)&&y(Node.prototype.getRootNode),K=x(G),X=G?e=>N.fromDom(e.dom.getRootNode()):e=>V(e)?e:Q(e),Z=e=>{const t=X(e);return H(n=t)&&v(n.dom.host)?S.some(t):S.none();var n},J=e=>N.fromDom(e.dom.host),ee=element=>v(element.dom.shadowRoot),te=element=>{const e=F(element)?element.dom.parentNode:element.dom;if(null==e||null===e.ownerDocument)return!1;const t=e.ownerDocument;return Z(N.fromDom(e)).fold((()=>t.body.contains(e)),(n=te,o=J,a=>n(o(a))));var n,o},ne=(element,e,t)=>{((e,t,n)=>{if(!(c(n)||m(n)||w(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(element.dom,e,t)},oe=(element,e)=>{const t=element.dom.getAttribute(e);return null===t?void 0:t},re=(element,e)=>{element.dom.removeAttribute(e)},ie=(element,e)=>{const t=element.dom;((e,t)=>{const n=B(e);for(let o=0,r=n.length;o<r;o++){const i=n[o];t(e[i],i)}})(e,((e,n)=>{((e,t,n)=>{if(!c(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);P(e)&&e.style.setProperty(t,n)})(t,n,e)}))},se=(e,t)=>P(e)?e.style.getPropertyValue(t):"",ae=e=>{const t=N.fromDom((e=>{if(K()&&v(e.target)){const t=N.fromDom(e.target);if(z(t)&&ee(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return head(t)}}return S.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=(l=o,c=n,(...e)=>l(c.apply(null,e)));var l,c;return((e,t,n,o,r,l,c)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:l,raw:c}))(t,e.clientX,e.clientY,n,o,r,e)},le=(element,e,filter,t,n)=>{const o=((filter,e)=>t=>{filter(t)&&e(ae(t))})(filter,t);return element.dom.addEventListener(e,o,n),{unbind:O(ce,element,e,o,n)}},ce=(element,e,t,n)=>{element.dom.removeEventListener(e,t,n)},filter=_,ue=(element,e,t)=>((element,e,filter,t)=>le(element,e,filter,t,!1))(element,e,filter,t),de=()=>he(0,0),he=(e,t)=>({major:e,minor:t}),pe={nu:he,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?de():((e,t)=>{const n=((e,s)=>{for(let i=0;i<e.length;i++){const t=e[i];if(t.test(s))return t}})(e,t);if(!n)return{major:0,minor:0};const o=i=>Number(t.replace(n,"$"+i));return he(o(1),o(2))})(e,n)},unknown:de},me=(e,t)=>((e,t)=>{for(let i=0;i<e.length;i++){const n=t(e[i],i);if(n.isSome())return n}return S.none()})(t.brands,(t=>{const n=t.brand.toLowerCase();return I(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:pe.nu(parseInt(t.version,10),0)})))})),fe=(e,t)=>{const n=String(t).toLowerCase();return I(e,(e=>e.search(n)))},ge=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,be=e=>t=>M(t,e),ve=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>M(e,"edge/")&&M(e,"chrome")&&M(e,"safari")&&M(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ge],search:e=>M(e,"chrome")&&!M(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>M(e,"msie")||M(e,"trident")},{name:"Opera",versionRegexes:[ge,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:be("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:be("firefox")},{name:"Safari",versionRegexes:[ge,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(M(e,"safari")||M(e,"mobile/"))&&M(e,"applewebkit")}],ye=[{name:"Windows",search:be("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>M(e,"iphone")||M(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:be("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:be("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:be("linux"),versionRegexes:[]},{name:"Solaris",search:be("sunos"),versionRegexes:[]},{name:"FreeBSD",search:be("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:be("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],we={browsers:x(ve),oses:x(ye)},Ae="Edge",xe="Chromium",Oe="Opera",Ce="Firefox",_e="Safari",Se=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(Ae),isChromium:o(xe),isIE:o("IE"),isOpera:o(Oe),isFirefox:o(Ce),isSafari:o(_e)}},ke={unknown:()=>Se({current:void 0,version:pe.unknown()}),nu:Se,edge:x(Ae),chromium:x(xe),ie:x("IE"),opera:x(Oe),firefox:x(Ce),safari:x(_e)},Te="Windows",je="Android",Ee="Linux",De="macOS",Ie="Solaris",Re="FreeBSD",Be="ChromeOS",Me=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(Te),isiOS:o("iOS"),isAndroid:o(je),isMacOS:o(De),isLinux:o(Ee),isSolaris:o(Ie),isFreeBSD:o(Re),isChromeOS:o(Be)}},Pe={unknown:()=>Me({current:void 0,version:pe.unknown()}),nu:Me,windows:x(Te),ios:x("iOS"),android:x(je),linux:x(Ee),macos:x(De),solaris:x(Ie),freebsd:x(Re),chromeos:x(Be)},Le=(e,t,n)=>{const o=we.browsers(),r=we.oses(),l=t.bind((e=>me(o,e))).orThunk((()=>((e,t)=>fe(e,t).map((e=>{const n=pe.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e))).fold(ke.unknown,ke.nu),c=((e,t)=>fe(e,t).map((e=>{const n=pe.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(r,e).fold(Pe.unknown,Pe.nu),d=((e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),l=e.isiOS()&&!r,c=e.isiOS()||e.isAndroid(),d=c||o("(pointer:coarse)"),h=r||!l&&c&&o("(min-device-width:768px)"),m=l||c&&!h,f=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),v=!m&&!h&&!f;return{isiPad:x(r),isiPhone:x(l),isTablet:x(h),isPhone:x(m),isTouch:x(d),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:x(f),isDesktop:x(v)}})(c,l,e,n);return{browser:l,os:c,deviceType:d}},Ne=e=>window.matchMedia(e).matches;let $e=(e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})((()=>Le(navigator.userAgent,S.from(navigator.userAgentData),Ne)));const ze=(e,t)=>({left:e,top:t,translate:(n,o)=>ze(e+n,t+o)}),Fe=ze,Ve=e=>{const t=void 0===e?window:e;return $e().browser.isFirefox()?S.none():S.from(t.visualViewport)},He=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),qe=e=>{const t=void 0===e?window:e,n=t.document,o=(e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return Fe(n,o)})(N.fromDom(n));return Ve(t).fold((()=>{const html=t.document.documentElement,e=html.clientWidth,n=html.clientHeight;return He(o.left,o.top,e,n)}),(e=>He(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)))},We=(e,t,n)=>Ve(n).map((n=>{const o=e=>t(ae(e));return n.addEventListener(e,o),{unbind:()=>n.removeEventListener(e,o)}})).getOrThunk((()=>({unbind:A})));var Qe=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ue=tinymce.util.Tools.resolve("tinymce.Env");const Ye=(e,t)=>{e.dispatch("FullscreenStateChanged",{state:t}),e.dispatch("ResizeEditor")},Ge=(Ke="fullscreen_native",e=>e.options.get(Ke));var Ke;const Xe=e=>{const t=N.fromDom(e.getElement());return Z(t).map(J).getOrThunk((()=>(e=>{const b=e.dom.body;if(null==b)throw new Error("Body is not available yet");return N.fromDom(b)})(Q(t))))},Ze=e=>{return e.dom===(void 0!==(t=Q(e).dom).fullscreenElement?t.fullscreenElement:void 0!==t.msFullscreenElement?t.msFullscreenElement:void 0!==t.webkitFullscreenElement?t.webkitFullscreenElement:null);var t},Je=(e,t,n)=>D(((element,e)=>{const t=y(e)?e:C;let n=element.dom;const o=[];for(;null!==n.parentNode&&void 0!==n.parentNode;){const e=n.parentNode,p=N.fromDom(e);if(o.push(p),!0===t(p))break;n=e}return o})(e,n),t),et=e=>((e,t)=>{const base=void 0===t?document:t.dom;return 1!==(n=base).nodeType&&9!==n.nodeType&&11!==n.nodeType||0===n.childElementCount?[]:map(base.querySelectorAll(e),N.fromDom);var n})(e),tt=(e,t,n)=>Je(e,(e=>W(e,t)),n),nt=(e,t)=>((e,t)=>D(U(e),t))(e,(e=>W(e,t))),ot="data-ephox-mobile-fullscreen-style",it="position:absolute!important;",st="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",at=Ue.os.isAndroid(),lt=e=>{const t=((element,e)=>{const t=element.dom,n=window.getComputedStyle(t).getPropertyValue(e);return""!==n||te(element)?n:se(t,e)})(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":"background-color:rgb(255,255,255)!important;"},ct=Qe.DOM,ut=Ve().fold((()=>({bind:A,unbind:A})),(e=>{const t=(()=>{const e=k(A);return{...e,on:t=>e.get().each(t)}})(),n=T(),o=T(),r=((e,t)=>{let n=null;return{cancel:()=>{h(n)||(clearTimeout(n),n=null)},throttle:(...o)=>{h(n)&&(n=setTimeout((()=>{n=null,e.apply(null,o)}),t))}}})((()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0,window.requestAnimationFrame((()=>{t.on((t=>ie(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"})))}))}),50);return{bind:element=>{t.set(element),r.throttle(),n.set(We("resize",r.throttle)),o.set(We("scroll",r.throttle))},unbind:()=>{t.on((()=>{n.clear(),o.clear()})),t.clear()}}})),ht=(e,t)=>{const body=document.body,n=document.documentElement,o=e.getContainer(),r=N.fromDom(o),l=Xe(e),c=t.get(),d=N.fromDom(e.getBody()),h=Ue.deviceType.isTouch(),m=o.style,iframe=e.iframeElement,f=null==iframe?void 0:iframe.style,v=e=>{e(body,"tox-fullscreen"),e(n,"tox-fullscreen"),e(o,"tox-fullscreen"),Z(r).map((e=>J(e).dom)).each((t=>{e(t,"tox-fullscreen"),e(t,"tox-shadowhost")}))},y=()=>{h&&(e=>{const t=et("["+ot+"]");E(t,(element=>{const t=oe(element,ot);t&&"no-styles"!==t?ie(element,e.parseStyle(t)):re(element,"style"),re(element,ot)}))})(e.dom),v(ct.removeClass),ut.unbind(),S.from(t.get()).each((e=>e.fullscreenChangeHandler.unbind()))};if(c)c.fullscreenChangeHandler.unbind(),Ge(e)&&Ze(l)&&(e=>{const t=e.dom;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen()})(Q(l)),f.width=c.iframeWidth,f.height=c.iframeHeight,m.width=c.containerWidth,m.height=c.containerHeight,m.top=c.containerTop,m.left=c.containerLeft,y(),w=c.scrollPos,window.scrollTo(w.x,w.y),t.set(null),Ye(e,!1),e.off("remove",y);else{const n=ue(Q(l),void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange",(n=>{Ge(e)&&(Ze(l)||null===t.get()||ht(e,t))})),o={scrollPos:qe(window),containerWidth:m.width,containerHeight:m.height,containerTop:m.top,containerLeft:m.left,iframeWidth:f.width,iframeHeight:f.height,fullscreenChangeHandler:n};h&&((e,t,n)=>{const o=t=>element=>{const n=oe(element,"style"),o=void 0===n?"no-styles":n.trim();o!==t&&(ne(element,ot,o),ie(element,e.parseStyle(t)))},r=tt(t,"*"),l=R(r,(element=>nt(element,"*:not(.tox-silver-sink)"))),c=lt(n);E(l,o("display:none!important;")),E(r,o(it+st+c)),o((!0===at?"":it)+st+c)(t)})(e.dom,r,d),f.width=f.height="100%",m.width=m.height="",v(ct.addClass),ut.bind(r),e.on("remove",y),t.set(o),Ge(e)&&(e=>{const t=e.dom;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()})(l),Ye(e,!0)}var w},pt=(e,t)=>n=>{n.setActive(null!==t.get());const o=e=>n.setActive(e.state);return e.on("FullscreenStateChanged",o),()=>e.off("FullscreenStateChanged",o)};t.add("fullscreen",(t=>{const o=e(null);return t.inline||((e=>{(0,e.options.register)("fullscreen_native",{processor:"boolean",default:!1})})(t),((e,t)=>{e.addCommand("mceFullScreen",(()=>{ht(e,t)}))})(t,o),((e,t)=>{const n=()=>e.execCommand("mceFullScreen");e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:n,onSetup:pt(e,t)}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:n,onSetup:pt(e,t)})})(t,o),t.addShortcut("Meta+Shift+F","","mceFullScreen")),n(o)}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=tinymce.util.Tools.resolve("tinymce.util.Tools");const option=e=>t=>t.options.get(e),o=option("content_style"),r=option("content_css_cors"),l=option("body_class"),c=option("body_id"),d=e=>{const content=(e=>{var d;let h="";const m=e.dom.encode,f=null!==(d=o(e))&&void 0!==d?d:"";h+='<base href="'+m(e.documentBaseURI.getURI())+'">';const v=r(e)?' crossorigin="anonymous"':"";n.each(e.contentCSS,(t=>{h+='<link type="text/css" rel="stylesheet" href="'+m(e.documentBaseURI.toAbsolute(t))+'"'+v+">"})),f&&(h+='<style type="text/css">'+f+"</style>");const y=c(e),w=l(e),A='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(t.os.isMacOS()||t.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",x=e.getBody().dir,O=x?' dir="'+m(x)+'"':"";return"<!DOCTYPE html><html><head>"+h+'</head><body id="'+m(y)+'" class="mce-content-body '+m(w)+'"'+O+">"+e.getContent()+A+"</body></html>"})(e);e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:content}}).focus("close")};e.add("preview",(e=>{(e=>{e.addCommand("mcePreview",(()=>{d(e)}))})(e),(e=>{const t=()=>e.execCommand("mcePreview");e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:t}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:t})})(e)}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),n=tinymce.util.Tools.resolve("tinymce.util.Tools");const o=(r="allow_html_in_named_anchor",e=>e.options.get(r));var r;const l="a:not([href])",c=e=>!e,d=e=>e.getAttribute("id")||e.getAttribute("name")||"",h=e=>(e=>"a"===e.nodeName.toLowerCase())(e)&&!e.getAttribute("href")&&""!==d(e),m=e=>{const o=e.dom;t(o).walk(e.selection.getRng(),(e=>{n.each(e,(e=>{var t;h(t=e)&&!t.firstChild&&o.remove(e,!1)}))}))},f=e=>e.dom.getParent(e.selection.getStart(),l),v=(e,t)=>{const n=f(e);n?((e,t,n)=>{n.removeAttribute("name"),n.id=t,e.addVisual(),e.undoManager.add()})(e,t,n):((e,t)=>{e.undoManager.transact((()=>{o(e)||e.selection.collapse(!0),e.selection.isCollapsed()?e.insertContent(e.dom.createHTML("a",{id:t})):(m(e),e.formatter.remove("namedAnchor",void 0,void 0,!0),e.formatter.apply("namedAnchor",{value:t}),e.addVisual())}))})(e,t),e.focus()},y=e=>{const t=(e=>{const t=f(e);return t?d(t):""})(e);e.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:t},onSubmit:t=>{((e,t)=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(t)?(v(e,t),!0):(e.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1))(e,t.getData().id)&&t.close()}})},w=e=>(e=>c(e.attr("href"))&&!c(e.attr("id")||e.attr("name")))(e)&&!e.firstChild,A=e=>t=>{for(let i=0;i<t.length;i++){const n=t[i];w(n)&&n.attr("contenteditable",e)}},x=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("anchor",(e=>{(e=>{(0,e.options.register)("allow_html_in_named_anchor",{processor:"boolean",default:!1})})(e),(e=>{e.on("PreInit",(()=>{e.parser.addNodeFilter("a",A("false")),e.serializer.addNodeFilter("a",A(null))}))})(e),(e=>{e.addCommand("mceAnchor",(()=>{y(e)}))})(e),(e=>{const t=()=>e.execCommand("mceAnchor");e.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:t,onSetup:t=>{const n=e.selection.selectorChangedWithUnbind("a:not([href])",t.setActive).unbind,o=x(e)(t);return()=>{n(),o()}}}),e.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:t,onSetup:x(e)})})(e),e.on("PreInit",(()=>{(e=>{e.formatter.register("namedAnchor",{inline:"a",selector:l,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(e,t,n)=>h(e)})})(e)}))}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const option=e=>t=>t.options.get(e),t=option("insertdatetime_dateformat"),n=option("insertdatetime_timeformat"),o=option("insertdatetime_formats"),r=option("insertdatetime_element"),l="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),c="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),d="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),h="January February March April May June July August September October November December".split(" "),m=(e,t)=>{if((e=""+e).length<t)for(let i=0;i<t-e.length;i++)e="0"+e;return e},f=(e,t,n=new Date)=>t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("%D","%m/%d/%Y")).replace("%r","%I:%M:%S %p")).replace("%Y",""+n.getFullYear())).replace("%y",""+n.getYear())).replace("%m",m(n.getMonth()+1,2))).replace("%d",m(n.getDate(),2))).replace("%H",""+m(n.getHours(),2))).replace("%M",""+m(n.getMinutes(),2))).replace("%S",""+m(n.getSeconds(),2))).replace("%I",""+((n.getHours()+11)%12+1))).replace("%p",n.getHours()<12?"AM":"PM")).replace("%B",""+e.translate(h[n.getMonth()]))).replace("%b",""+e.translate(d[n.getMonth()]))).replace("%A",""+e.translate(c[n.getDay()]))).replace("%a",""+e.translate(l[n.getDay()]))).replace("%%","%"),v=(e,t)=>{if(r(e)){const n=f(e,t);let o;o=/%[HMSIp]/.test(t)?f(e,"%Y-%m-%dT%H:%M"):f(e,"%Y-%m-%d");const r=e.dom.getParent(e.selection.getStart(),"time");r?((e,t,n,o)=>{const r=e.dom.create("time",{datetime:n},o);e.dom.replace(r,t),e.selection.select(r,!0),e.selection.collapse(!1)})(e,r,o,n):e.insertContent('<time datetime="'+o+'">'+n+"</time>")}else e.insertContent(f(e,t))};var y=tinymce.util.Tools.resolve("tinymce.util.Tools");const w=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},A=e=>{const t=o(e),r=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})((e=>{const t=o(e);return t.length>0?t[0]:n(e)})(e)),l=t=>e.execCommand("mceInsertDate",!1,t);e.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:e=>e===r.get(),fetch:n=>{n(y.map(t,(t=>({type:"choiceitem",text:f(e,t),value:t}))))},onAction:e=>{l(r.get())},onItemAction:(e,t)=>{r.set(t),l(t)},onSetup:w(e)});const c=e=>()=>{r.set(e),l(e)};e.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>y.map(t,(t=>({type:"menuitem",text:f(e,t),onAction:c(t)}))),onSetup:w(e)})};e.add("insertdatetime",(e=>{(e=>{const t=e.options.register;t("insertdatetime_dateformat",{processor:"string",default:e.translate("%Y-%m-%d")}),t("insertdatetime_timeformat",{processor:"string",default:e.translate("%H:%M:%S")}),t("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),t("insertdatetime_element",{processor:"boolean",default:!1})})(e),(e=>{e.addCommand("mceInsertDate",((n,o)=>{v(e,null!=o?o:t(e))})),e.addCommand("mceInsertTime",((t,o)=>{v(e,null!=o?o:n(e))}))})(e),A(e)}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");let t=0;const n=e=>{const time=(new Date).getTime(),n=Math.floor(1e9*Math.random());return t++,e+"_"+n+t+String(time)},option=e=>t=>t.options.get(e),o=option("help_tabs"),r=option("forced_plugins"),l=(c="string",e=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(l=o.constructor)||void 0===l?void 0:l.name)===r.name)?"string":t;var n,o,r,l})(e)===c);var c;const d=(h=void 0,a=>h===a);var h;const m=(e=>t=>typeof t===e)("function"),f=(v=!1,()=>v);var v;class y{constructor(e,t){this.tag=e,this.value=t}static some(e){return new y(!0,e)}static none(){return y.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?y.some(e(this.value)):y.none()}bind(e){return this.tag?e(this.value):y.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:y.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return(a=>null==a)(e)?y.none():y.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}y.singletonNone=new y(!1);const w=Array.prototype.slice,A=Array.prototype.indexOf,x=(e,t)=>((e,t)=>A.call(e,t))(e,t)>-1,map=(e,t)=>{const n=e.length,o=new Array(n);for(let i=0;i<n;i++){const n=e[i];o[i]=t(n,i)}return o},filter=(e,t)=>{const n=[];for(let i=0,o=e.length;i<o;i++){const o=e[i];t(o,i)&&n.push(o)}return n},O=(e,t)=>((e,t,n)=>{for(let i=0,o=e.length;i<o;i++){const o=e[i];if(t(o,i))return y.some(o);if(n(o,i))break}return y.none()})(e,t,f),C=(e,t)=>{const n=w.call(e,0);return n.sort(t),n},_=Object.keys,S=Object.hasOwnProperty,k=(e,t)=>S.call(e,t);var T=tinymce.util.Tools.resolve("tinymce.Resource"),j=tinymce.util.Tools.resolve("tinymce.util.I18n");const E=(e,t)=>T.load(`tinymce.html-i18n.help-keynav.${t}`,`${e}/js/i18n/keynav/${t}.js`),D=e=>E(e,j.getCode()).catch((()=>E(e,"en")));var I=tinymce.util.Tools.resolve("tinymce.Env");const R=source=>{const e=I.os.isMacOS()||I.os.isiOS(),t=e?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},n=source.split("+"),o=map(n,(e=>{const n=e.toLowerCase().trim();return k(t,n)?t[n]:e}));return e?o.join("").replace(/\s/,""):o.join("+")},B=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],M=()=>({name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:map(B,(e=>{const t=map(e.shortcuts,R).join(" or ");return[e.action,t]}))}]}),P=map([{key:"accordion",name:"Accordion"},{key:"advlist",name:"Advanced List"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"template",name:"Template"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"advcode",name:"Advanced Code Editor",type:"premium"},{key:"advtable",name:"Advanced Tables",type:"premium"},{key:"advtemplate",name:"Advanced Templates",type:"premium",slug:"advanced-templates"},{key:"ai",name:"AI Assistant",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"editimage",name:"Enhanced Image Editing",type:"premium"},{key:"footnotes",name:"Footnotes",type:"premium"},{key:"typography",name:"Advanced Typography",type:"premium",slug:"advanced-typography"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"export",name:"Export",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"inlinecss",name:"Inline CSS",type:"premium",slug:"inline-css"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"mergetags",name:"Merge Tags",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"rtc",name:"Real-Time Collaboration",type:"premium",slug:"rtc-introduction"},{key:"tinymcespellchecker",name:"Spell Checker Pro",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"autocorrect",name:"Spelling Autocorrect",type:"premium"},{key:"tableofcontents",name:"Table of Contents",type:"premium"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"}],(e=>({...e,type:e.type||"opensource",slug:e.slug||e.key}))),L=e=>{const t=p=>`<a data-alloy-tabstop="true" tabindex="-1" href="${p.url}" target="_blank" rel="noopener">${p.name}</a>`,n=(e,n)=>O(P,(e=>e.key===n)).fold((()=>((e,n)=>{const o=e.plugins[n].getMetadata;if(m(o)){const e=o();return{name:e.name,html:t(e)}}return{name:n,html:n}})(e,n)),(e=>{const n="premium"===e.type?`${e.name}*`:e.name;return{name:n,html:t({name:n,url:`https://www.tiny.cloud/docs/tinymce/6/${e.slug}/`})}})),o=e=>{const t=(e=>{const t=_(e.plugins),n=r(e);return d(n)?t:filter(t,(e=>!x(n,e)))})(e),o=C(map(t,(t=>n(e,t))),((e,t)=>e.name.localeCompare(t.name))),l=map(o,(e=>"<li>"+e.html+"</li>")),c=l.length,h=l.join("");return"<p><b>"+j.translate(["Plugins installed ({0}):",c])+"</b></p><ul>"+h+"</ul>"},l={type:"htmlpanel",presets:"document",html:[(e=>null==e?"":"<div>"+o(e)+"</div>")(e),(()=>{const e=filter(P,(({type:e})=>"premium"===e)),t=C(map(e,(p=>p.name)),((e,t)=>e.localeCompare(t))),n=map(t,(e=>`<li>${e}</li>`)).join("");return"<div><p><b>"+j.translate("Premium plugins:")+"</b></p><ul>"+n+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" rel="noopener" target="_blank" data-alloy-tabstop="true" tabindex="-1">'+j.translate("Learn more...")+"</a></li></ul></div>"})()].join("")};return{name:"plugins",title:"Plugins",items:[l]}};var N=tinymce.util.Tools.resolve("tinymce.EditorManager");const $=async(e,t,r)=>{const c=M(),nav=await(async e=>({name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:await D(e)}]}))(r),d=L(e),h=(()=>{var e,t;const n='<a data-alloy-tabstop="true" tabindex="-1" href="https://www.tiny.cloud/docs/tinymce/6/changelog/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" rel="noopener" target="_blank">TinyMCE '+(e=N.majorVersion,t=N.minorVersion,(0===e.indexOf("@")?"X.X.X":e+"."+t)+"</a>");return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+j.translate(["You are using {0}",n])+"</p>",presets:"document"}]}})(),m={[c.name]:c,[nav.name]:nav,[d.name]:d,[h.name]:h,...t.get()};return y.from(o(e)).fold((()=>(e=>{const t=_(e),n=t.indexOf("versions");return-1!==n&&(t.splice(n,1),t.push("versions")),{tabs:e,names:t}})(m)),(e=>((e,t)=>{const o={},r=map(e,(e=>{var r;if(l(e))return k(t,e)&&(o[e]=t[e]),e;{const t=null!==(r=e.name)&&void 0!==r?r:n("tab-name");return o[t]=e,t}}));return{tabs:o,names:r}})(e,m)))},z=(e,t,n)=>()=>{$(e,t,n).then((({tabs:t,names:n})=>{const body={type:"tabpanel",tabs:(e=>{const t=[],n=e=>{t.push(e)};for(let i=0;i<e.length;i++)e[i].each(n);return t})(map(n,(e=>{return k(n=t,o=e)?y.from(n[o]):y.none();var n,o})))};e.windowManager.open({title:"Help",size:"medium",body:body,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})}))};e.add("help",((e,t)=>{const o=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})({}),r=(e=>({addTab:t=>{var o;const r=null!==(o=t.name)&&void 0!==o?o:n("tab-name"),l=e.get();l[r]=t,e.set(l)}}))(o);(e=>{(0,e.options.register)("help_tabs",{processor:"array"})})(e);const l=z(e,o,t);return((e,t)=>{e.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:t}),e.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:t})})(e,l),((e,t)=>{e.addCommand("mceHelp",t)})(e,l),e.shortcuts.add("Alt+0","Open help dialog","mceHelp"),((e,t)=>{e.on("init",(()=>{D(t)}))})(e,t),r}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(l=String).prototype,o.isPrototypeOf(n)||(null===(c=r.constructor)||void 0===c?void 0:c.name)===l.name)?"string":t;var n,o;var r,l,c})(t)===e,n=t("string"),o=t("object"),r=t("array"),l=(c="function",e=>typeof e===c);var c,d=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),h=tinymce.util.Tools.resolve("tinymce.EditorManager"),m=tinymce.util.Tools.resolve("tinymce.Env"),f=tinymce.util.Tools.resolve("tinymce.util.Tools");const option=e=>t=>t.options.get(e),v=option("importcss_merge_classes"),y=option("importcss_exclusive"),w=option("importcss_selector_converter"),A=option("importcss_selector_filter"),x=option("importcss_groups"),O=option("importcss_append"),C=option("importcss_file_filter"),_=option("skin"),S=option("skin_url"),k=Array.prototype.push,T=(e,t)=>(e=>{const t=[];for(let i=0,n=e.length;i<n;++i){if(!r(e[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+e);k.apply(t,e[i])}return t})(((e,t)=>{const n=e.length,o=new Array(n);for(let i=0;i<n;i++){const n=e[i];o[i]=t(n,i)}return o})(e,t)),j=/^\.(?:ephox|tiny-pageembed|mce)(?:[.-]+\w+)+$/,E=filter=>n(filter)?e=>-1!==e.indexOf(filter):filter instanceof RegExp?e=>filter.test(e):filter,D=(e,t,o)=>{const r=[],l={},c=(t,l)=>{let d,v=t.href;if(v=(e=>{const t=m.cacheSuffix;return n(e)&&(e=e.replace("?"+t,"").replace("&"+t,"")),e})(v),v&&(!o||o(v,l))&&!((e,t)=>{const n=_(e);if(n){const o=S(e),r=o?e.documentBaseURI.toAbsolute(o):h.baseURL+"/skins/ui/"+n,l=h.baseURL+"/skins/content/";return t===r+"/content"+(e.inline?".inline":"")+".min.css"||-1!==t.indexOf(l)}return!1})(e,v)){f.each(t.imports,(e=>{c(e,!0)}));try{d=t.cssRules||t.rules}catch(e){}f.each(d,(e=>{e.styleSheet?c(e.styleSheet,!0):(e=>e.selectorText)(e)&&f.each(e.selectorText.split(","),(e=>{r.push(f.trim(e))}))}))}};f.each(e.contentCSS,(e=>{l[e]=!0})),o||(o=(e,t)=>t||l[e]);try{f.each(t.styleSheets,(e=>{c(e)}))}catch(e){}return r},I=(e,t)=>{let n={};const o=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(t);if(!o)return;const r=o[1],l=o[2].substr(1).split(".").join(" "),c=f.makeMap("a,img");return o[1]?(n={title:t},e.schema.getTextBlockElements()[r]?n.block=r:e.schema.getBlockElements()[r]||c[r.toLowerCase()]?n.selector=r:n.inline=r):o[2]&&(n={inline:"span",title:t.substr(1),classes:l}),v(e)?n.classes=l:n.attributes={class:l},n},R=(e,t)=>null===t||y(e),B=e=>{e.on("init",(()=>{const t=(()=>{const e=[],t=[],n={};return{addItemToGroup:(e,o)=>{n[e]?n[e].push(o):(t.push(e),n[e]=[o])},addItem:t=>{e.push(t)},toFormats:()=>T(t,(g=>{const e=n[g];return 0===e.length?[]:[{title:g,items:e}]})).concat(e)}})(),n={},o=E(A(e)),r=(e=>f.map(e,(e=>f.extend({},e,{original:e,selectors:{},filter:E(e.filter)}))))(x(e)),l=(t,o)=>{if(((e,t,n,o)=>!(R(e,n)?t in o:t in n.selectors))(e,t,o,n)){((e,t,n,o)=>{R(e,n)?o[t]=!0:n.selectors[t]=!0})(e,t,o,n);const r=((e,t,n,o)=>{let r;const l=w(e);return r=o&&o.selector_converter?o.selector_converter:l||(()=>I(e,n)),r.call(t,n,o)})(e,e.plugins.importcss,t,o);if(r){const t=r.name||d.DOM.uniqueId();return e.formatter.register(t,r),{title:r.title,format:t}}}return null};f.each(D(e,e.getDoc(),E(C(e))),(e=>{if(!j.test(e)&&(!o||o(e))){const n=((e,t)=>f.grep(e,(e=>!e.filter||e.filter(t))))(r,e);if(n.length>0)f.each(n,(n=>{const o=l(e,n);o&&t.addItemToGroup(n.title,o)}));else{const n=l(e,null);n&&t.addItem(n)}}}));const c=t.toFormats();e.dispatch("addStyleModifications",{items:c,replace:!O(e)})}))};e.add("importcss",(e=>((e=>{const t=e.options.register,r=e=>n(e)||l(e)||o(e);t("importcss_merge_classes",{processor:"boolean",default:!0}),t("importcss_exclusive",{processor:"boolean",default:!0}),t("importcss_selector_converter",{processor:"function"}),t("importcss_selector_filter",{processor:r}),t("importcss_file_filter",{processor:r}),t("importcss_groups",{processor:"object[]"}),t("importcss_append",{processor:"boolean",default:!1})})(e),B(e),(e=>({convertSelectorToFormat:t=>I(e,t)}))(e))))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>typeof t===e,n=(e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(l=String).prototype,o.isPrototypeOf(n)||(null===(c=r.constructor)||void 0===c?void 0:c.name)===l.name)?"string":t;var n,o;var r,l,c})(t)===e)("string"),o=t("boolean"),r=a=>!(a=>null==a)(a),l=t("function"),c=t("number"),d=(h=!1,()=>h);var h;class m{constructor(e,t){this.tag=e,this.value=t}static some(e){return new m(!0,e)}static none(){return m.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?m.some(e(this.value)):m.none()}bind(e){return this.tag?e(this.value):m.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:m.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return r(e)?m.some(e):m.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}m.singletonNone=new m(!1);const f=(e,t)=>{for(let i=0,n=e.length;i<n;i++){t(e[i],i)}},v=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},y={fromHtml:(html,e)=>{const div=(e||document).createElement("div");if(div.innerHTML=html,!div.hasChildNodes()||div.childNodes.length>1){const e="HTML does not have a single root node";throw console.error(e,html),new Error(e)}return v(div.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return v(n)},fromText:(text,e)=>{const t=(e||document).createTextNode(text);return v(t)},fromDom:v,fromPoint:(e,t,n)=>m.from(e.dom.elementFromPoint(t,n)).map(v)},w=(element,e)=>{const t=element.dom;if(1!==t.nodeType)return!1;{const n=t;if(void 0!==n.matches)return n.matches(e);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(e);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(e);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")}};"undefined"!=typeof window?window:Function("return this;")();const A=e=>element=>(element=>element.dom.nodeType)(element)===e,x=A(1),O=A(3),C=A(9),_=A(11),S=element=>((e,t)=>{const n=e.length,o=new Array(n);for(let i=0;i<n;i++){const n=e[i];o[i]=t(n,i)}return o})(element.dom.childNodes,y.fromDom),k=(element,e,t)=>{((e,t,r)=>{if(!(n(r)||o(r)||c(r)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,r+"")})(element.dom,e,t)},T=(element,e)=>{element.dom.removeAttribute(e)},j=l(Element.prototype.attachShadow)&&l(Node.prototype.getRootNode)?e=>y.fromDom(e.dom.getRootNode()):e=>{return C(e)?e:(element=e,y.fromDom(element.dom.ownerDocument));var element},E=e=>{const t=j(e);return _(n=t)&&r(n.dom.host)?m.some(t):m.none();var n},D=e=>y.fromDom(e.dom.host),I=element=>{const e=O(element)?element.dom.parentNode:element.dom;if(null==e||null===e.ownerDocument)return!1;const t=e.ownerDocument;return E(y.fromDom(e)).fold((()=>t.body.contains(e)),(n=I,o=D,a=>n(o(a))));var n,o},R=(e,t,n)=>((e,t,n)=>{let element=e.dom;const o=l(n)?n:d;for(;element.parentNode;){element=element.parentNode;const e=y.fromDom(element);if(t(e))return m.some(e);if(o(e))break}return m.none()})(e,(e=>w(e,t)),n),B=(e,t)=>(e=>void 0!==e.style&&l(e.style.getPropertyValue))(e)?e.style.getPropertyValue(t):"",M=element=>"rtl"===((element,e)=>{const t=element.dom,n=window.getComputedStyle(t).getPropertyValue(e);return""!==n||I(element)?n:B(t,e)})(element,"direction")?"rtl":"ltr",P=(e,t)=>((e,t)=>((e,t)=>{const n=[];for(let i=0,o=e.length;i<o;i++){const o=e[i];t(o,i)&&n.push(o)}return n})(S(e),t))(e,(e=>w(e,t))),L=element=>(element=>m.from(element.dom.parentNode).map(y.fromDom))(element).filter(x),N=($="li",e=>x(e)&&e.dom.nodeName.toLowerCase()===$);var $;const z=(e,t,n)=>{f(t,(t=>{const o=y.fromDom(t),r=N(o),l=((element,e)=>(e?R(element,"ol,ul"):m.some(element)).getOr(element))(o,r);L(l).each((t=>{e.setStyle(l.dom,"direction",null);if(M(t)===n?T(l,"dir"):k(l,"dir",n),M(l)!==n&&e.setStyle(l.dom,"direction",n),r){const t=P(l,"li[dir],li[style]");f(t,(t=>{T(t,"dir"),e.setStyle(t.dom,"direction",null)}))}}))}))},F=(e,t)=>{e.selection.isEditable()&&(z(e.dom,e.selection.getSelectedBlocks(),t),e.nodeChanged())},V=(e,t)=>n=>{const o=o=>{const element=y.fromDom(o.element);n.setActive(M(element)===t),n.setEnabled(e.selection.isEditable())};return e.on("NodeChange",o),n.setEnabled(e.selection.isEditable()),()=>e.off("NodeChange",o)};e.add("directionality",(e=>{(e=>{e.addCommand("mceDirectionLTR",(()=>{F(e,"ltr")})),e.addCommand("mceDirectionRTL",(()=>{F(e,"rtl")}))})(e),(e=>{e.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:()=>e.execCommand("mceDirectionLTR"),onSetup:V(e,"ltr")}),e.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:()=>e.execCommand("mceDirectionRTL"),onSetup:V(e,"rtl")})})(e)}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(l=String).prototype,o.isPrototypeOf(n)||(null===(c=r.constructor)||void 0===c?void 0:c.name)===l.name)?"string":t;var n,o;var r,l,c})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("object"),l=(c=null,a=>c===a);var c;const d=n("boolean"),h=n("number");class m{constructor(e,t){this.tag=e,this.value=t}static some(e){return new m(!0,e)}static none(){return m.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?m.some(e(this.value)):m.none()}bind(e){return this.tag?e(this.value):m.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:m.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return(a=>null==a)(e)?m.none():m.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}m.singletonNone=new m(!1);const f=(e,t)=>{for(let i=0,n=e.length;i<n;i++){t(e[i],i)}},v=Object.keys,y=(e,t)=>{const n=v(e);for(let o=0,r=n.length;o<r;o++){const i=n[o];t(e[i],i)}},w="undefined"!=typeof window?window:Function("return this;")(),A=(p,e)=>((e,t)=>{let n=null!=t?t:w;for(let i=0;i<e.length&&null!=n;++i)n=n[e[i]];return n})(p.split("."),e),x=(e,t)=>{const n=((e,t)=>A(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},O=Object.getPrototypeOf,C=e=>{const t=A("ownerDocument.defaultView",e);return r(e)&&((e=>x("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(O(e).constructor.name))},_=element=>element.dom.nodeValue,S=e=>element=>(element=>element.dom.nodeType)(element)===e,k=element=>T(element)&&C(element.dom),T=S(1),j=S(3),E=(element,e,t)=>{((e,t,n)=>{if(!(o(n)||d(n)||h(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(element.dom,e,t)},D=(element,e)=>{element.dom.removeAttribute(e)},I=(element,e)=>{const t=((element,e)=>{const t=element.dom.getAttribute(e);return null===t?void 0:t})(element,e);return void 0===t||""===t?[]:t.split(" ")},R=element=>void 0!==element.dom.classList,B=(element,e)=>((element,e,t)=>{const n=I(element,e).concat([t]);return E(element,e,n.join(" ")),!0})(element,"class",e),M=(element,e)=>((element,e,t)=>{const n=((e,t)=>{const n=[];for(let i=0,o=e.length;i<o;i++){const o=e[i];t(o,i)&&n.push(o)}return n})(I(element,e),(e=>e!==t));return n.length>0?E(element,e,n.join(" ")):D(element,e),!1})(element,"class",e),P=element=>{const e=R(element)?element.dom.classList:(element=>I(element,"class"))(element);0===e.length&&D(element,"class")},L=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},N={fromHtml:(html,e)=>{const div=(e||document).createElement("div");if(div.innerHTML=html,!div.hasChildNodes()||div.childNodes.length>1){const e="HTML does not have a single root node";throw console.error(e,html),new Error(e)}return L(div.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return L(n)},fromText:(text,e)=>{const t=(e||document).createTextNode(text);return L(t)},fromDom:L,fromPoint:(e,t,n)=>m.from(e.dom.elementFromPoint(t,n)).map(L)},$={"Â ":"nbsp","Â­":"shy"},z=(e,t)=>{let n="";return y(e,((e,t)=>{n+=t})),new RegExp("["+n+"]",t?"g":"")},F=z($),V=z($,!0),H=(e=>{let t="";return y(e,(e=>{t&&(t+=","),t+="span.mce-"+e})),t})($),W="mce-nbsp",Q=element=>element.dom.contentEditable,U=e=>'<span data-mce-bogus="1" class="mce-'+$[e]+'">'+e+"</span>",Y=e=>"span"===e.nodeName.toLowerCase()&&e.classList.contains("mce-nbsp-wrap"),G=e=>{const t=_(e);return j(e)&&o(t)&&F.test(t)},K=(e,t,n)=>{let o=[];const r=((e,t)=>{const n=e.length,o=new Array(n);for(let i=0;i<n;i++){const n=e[i];o[i]=t(n,i)}return o})(e.dom.childNodes,N.fromDom),l=e=>Y(e.dom)||!(e=>k(e)&&"false"===Q(e))(e);return f(r,(e=>{n&&l(e)&&t(e)&&(o=o.concat([e])),o=o.concat(K(e,t,((e,t)=>{if(k(e)&&!Y(e.dom)){const t=Q(e);if("true"===t)return!0;if("false"===t)return!1}return t})(e,n)))})),o},X=(e,t)=>{const n=e.dom,o=K(N.fromDom(t),G,e.dom.isEditable(t));f(o,(t=>{var o;const r=t.dom.parentNode;if(Y(r))element=N.fromDom(r),l=W,R(element)?element.dom.classList.add(l):B(element,l);else{const r=n.encode(null!==(o=_(t))&&void 0!==o?o:"").replace(V,U),div=n.create("div",{},r);let l;for(;l=div.lastChild;)n.insertAfter(l,t.dom);e.dom.remove(t.dom)}var element,l}))},Z=(e,t)=>{const n=e.dom.select(H,t);f(n,(t=>{Y(t)?((element,e)=>{R(element)?element.dom.classList.remove(e):M(element,e);P(element)})(N.fromDom(t),W):e.dom.remove(t,!0)}))},J=e=>{const body=e.getBody(),t=e.selection.getBookmark();let n=((e,t)=>{for(;e.parentNode;){if(e.parentNode===t)return t;e=e.parentNode}})(e.selection.getNode(),body);n=void 0!==n?n:body,Z(e,n),X(e,n),e.selection.moveToBookmark(t)},ee=(e,t)=>{((e,t)=>{e.dispatch("VisualChars",{state:t})})(e,t.get());const body=e.getBody();!0===t.get()?X(e,body):Z(e,body)},te=(e,t)=>{e.addCommand("mceVisualChars",(()=>{((e,t)=>{t.set(!t.get());const n=e.selection.getBookmark();ee(e,t),e.selection.moveToBookmark(n)})(e,t)}))},ne=(oe="visualchars_default_state",e=>e.options.get(oe));var oe;const re=(e,t)=>{const n=((e,t)=>{let n=null;return{cancel:()=>{l(n)||(clearTimeout(n),n=null)},throttle:(...o)=>{l(n)&&(n=setTimeout((()=>{n=null,e.apply(null,o)}),t))}}})((()=>{J(e)}),300);e.on("keydown",(o=>{!0===t.get()&&(13===o.keyCode?J(e):n.throttle())})),e.on("remove",n.cancel)},ie=(e,t)=>n=>{n.setActive(t.get());const o=e=>n.setActive(e.state);return e.on("VisualChars",o),()=>e.off("VisualChars",o)};e.add("visualchars",(e=>{(e=>{(0,e.options.register)("visualchars_default_state",{processor:"boolean",default:!1})})(e);const t=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(ne(e));return te(e,t),((e,t)=>{const n=()=>e.execCommand("mceVisualChars");e.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:ie(e,t)}),e.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:ie(e,t)})})(e,t),re(e,t),((e,t)=>{e.on("init",(()=>{ee(e,t)}))})(e,t),(e=>({isEnabled:()=>e.get()}))(t)}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(l=String).prototype,o.isPrototypeOf(n)||(null===(c=r.constructor)||void 0===c?void 0:c.name)===l.name)?"string":t;var n,o;var r,l,c})(t)===e,n=t("string"),o=t("object"),r=t("array"),l=(c="function",e=>typeof e===c);var c;const d=(h=!1,()=>h);var h;var m=tinymce.util.Tools.resolve("tinymce.util.Tools");const option=e=>t=>t.options.get(e),f=e=>{const t=e.options.register;t("template_cdate_classes",{processor:"string",default:"cdate"}),t("template_mdate_classes",{processor:"string",default:"mdate"}),t("template_selected_content_classes",{processor:"string",default:"selcontent"}),t("template_preview_replace_values",{processor:"object"}),t("template_replace_values",{processor:"object"}),t("templates",{processor:e=>n(e)||((e,t)=>{if(r(e)){for(let i=0,n=e.length;i<n;++i)if(!t(e[i]))return!1;return!0}return!1})(e,o)||l(e),default:[]}),t("template_cdate_format",{processor:"string",default:e.translate("%Y-%m-%d")}),t("template_mdate_format",{processor:"string",default:e.translate("%Y-%m-%d")})},v=option("template_cdate_classes"),y=option("template_mdate_classes"),w=option("template_selected_content_classes"),A=option("template_preview_replace_values"),x=option("template_replace_values"),O=option("templates"),C=option("template_cdate_format"),_=option("template_mdate_format"),S=option("content_style"),k=option("content_css_cors"),T=option("body_class"),j=(e,t)=>{if((e=""+e).length<t)for(let i=0;i<t-e.length;i++)e="0"+e;return e},E=(e,t,n=new Date)=>{const o="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),r="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),l="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),c="January February March April May June July August September October November December".split(" ");return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("%D","%m/%d/%Y")).replace("%r","%I:%M:%S %p")).replace("%Y",""+n.getFullYear())).replace("%y",""+n.getYear())).replace("%m",j(n.getMonth()+1,2))).replace("%d",j(n.getDate(),2))).replace("%H",""+j(n.getHours(),2))).replace("%M",""+j(n.getMinutes(),2))).replace("%S",""+j(n.getSeconds(),2))).replace("%I",""+((n.getHours()+11)%12+1))).replace("%p",n.getHours()<12?"AM":"PM")).replace("%B",""+e.translate(c[n.getMonth()]))).replace("%b",""+e.translate(l[n.getMonth()]))).replace("%A",""+e.translate(r[n.getDay()]))).replace("%a",""+e.translate(o[n.getDay()]))).replace("%%","%")};class D{constructor(e,t){this.tag=e,this.value=t}static some(e){return new D(!0,e)}static none(){return D.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?D.some(e(this.value)):D.none()}bind(e){return this.tag?e(this.value):D.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:D.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return(a=>null==a)(e)?D.none():D.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}D.singletonNone=new D(!1);const I=(e,t)=>((e,t,n)=>{for(let i=0,o=e.length;i<o;i++){const o=e[i];if(t(o,i))return D.some(o);if(n(o,i))break}return D.none()})(e,t,d),R=Object.hasOwnProperty,B=(e,t)=>R.call(e,t);var M=tinymce.util.Tools.resolve("tinymce.html.Serializer");const P={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},L=html=>html.replace(/["'<>&]/g,(e=>{return(t=P,n=e,B(t,n)?D.from(t[n]):D.none()).getOr(e);var t,n})),N=(e,t,n)=>((e,t)=>{for(let i=0,n=e.length;i<n;i++)if(t(e[i],i))return!0;return!1})(n.split(/\s+/),(n=>e.hasClass(t,n))),$=(e,html)=>M({validate:!0},e.schema).serialize(e.parser.parse(html,{insert:!0})),z=(html,e)=>(m.each(e,((e,t)=>{l(e)&&(e=e(t)),html=html.replace(new RegExp("\\{\\$"+(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"\\}"),"g"),e)})),html),F=(e,t)=>{const n=e.dom,o=x(e);m.each(n.select("*",t),(e=>{m.each(o,((t,o)=>{n.hasClass(e,o)&&l(t)&&t(e)}))}))},V=(e,t,html)=>{const n=e.dom,o=e.selection.getContent();html=z(html,x(e));let r=n.create("div",{},$(e,html));const l=n.select(".mceTmpl",r);l&&l.length>0&&(r=n.create("div"),r.appendChild(l[0].cloneNode(!0))),m.each(n.select("*",r),(t=>{N(n,t,v(e))&&(t.innerHTML=E(e,C(e))),N(n,t,y(e))&&(t.innerHTML=E(e,_(e))),N(n,t,w(e))&&(t.innerHTML=o)})),F(e,r),e.execCommand("mceInsertContent",!1,r.innerHTML),e.addVisual()};var H=tinymce.util.Tools.resolve("tinymce.Env");const W=(e,t)=>{const n=e=>((e,t)=>{const n=e.length,o=new Array(n);for(let i=0;i<n;i++){const n=e[i];o[i]=t(n,i)}return o})(e,(e=>({text:e.text,value:e.text}))),o=(e,t)=>I(e,(e=>e.text===t)),r=t=>{e.windowManager.alert("Could not load the specified template.",(()=>t.focus("template")))},l=e=>e.value.url.fold((()=>Promise.resolve(e.value.content.getOr(""))),(e=>fetch(e).then((e=>e.ok?e.text():Promise.reject())))),c=(e,t)=>(n,c)=>{if("template"===c.name){const c=n.getData().template;o(e,c).each((e=>{n.block("Loading..."),l(e).then((o=>{t(n,e,o)})).catch((()=>{t(n,e,""),n.setEnabled("save",!1),r(n)}))}))}},d=t=>n=>{const data=n.getData();o(t,data.template).each((t=>{l(t).then((t=>{e.execCommand("mceInsertTemplate",!1,t),n.close()})).catch((()=>{n.setEnabled("save",!1),r(n)}))}))};(()=>{if(!t||0===t.length){const t=e.translate("No templates defined.");return e.notificationManager.open({text:t,type:"info"}),D.none()}return D.from(m.map(t,((template,e)=>{const t=e=>void 0!==e.url;return{selected:0===e,text:template.title,value:{url:t(template)?D.from(template.url):D.none(),content:t(template)?D.none():D.from(template.content),description:template.description}}})))})().each((t=>{const o=n(t),h=(e,n)=>({title:"Insert Template",size:"large",body:{type:"panel",items:e},initialData:n,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:d(t),onChange:c(t,f)}),f=(t,template,n)=>{const content=((e,html)=>{var t;let n=$(e,html);if(-1===html.indexOf("<html>")){let o="";const r=null!==(t=S(e))&&void 0!==t?t:"",l=k(e)?' crossorigin="anonymous"':"";m.each(e.contentCSS,(t=>{o+='<link type="text/css" rel="stylesheet" href="'+e.documentBaseURI.toAbsolute(t)+'"'+l+">"})),r&&(o+='<style type="text/css">'+r+"</style>");const c=T(e),d=e.dom.encode,h='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(H.os.isMacOS()||H.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",f=e.getBody().dir,v=f?' dir="'+d(f)+'"':"";n='<!DOCTYPE html><html><head><base href="'+d(e.documentBaseURI.getURI())+'">'+o+h+'</head><body class="'+d(c)+'"'+v+">"+n+"</body></html>"}return z(n,A(e))})(e,n),r=[{type:"listbox",name:"template",label:"Templates",items:o},{type:"htmlpanel",html:`<p aria-live="polite">${L(template.value.description)}</p>`},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1,transparent:!1}],l={template:template.text,preview:content};t.unblock(),t.redial(h(r,l)),t.focus("template")},v=e.windowManager.open(h([],{template:"",preview:""}));v.block("Loading..."),l(t[0]).then((e=>{f(v,t[0],e)})).catch((()=>{f(v,t[0],""),v.setEnabled("save",!1),r(v)}))}))},Q=e=>{e.addCommand("mceInsertTemplate",function(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}(V,e)),e.addCommand("mceTemplate",((e,t)=>()=>{const o=O(e);l(o)?o(t):n(o)?fetch(o).then((e=>{e.ok&&e.json().then(t)})):t(o)})(e,(e=>t=>{W(e,t)})(e)))},U=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("template",(e=>{f(e),(e=>{const t=()=>e.execCommand("mceTemplate");e.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onSetup:U(e),onAction:t}),e.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onSetup:U(e),onAction:t})})(e),Q(e),(e=>{e.on("PreProcess",(t=>{const n=e.dom,o=_(e);m.each(n.select("div",t.node),(t=>{n.hasClass(t,"mceTmpl")&&(m.each(n.select("*",t),(t=>{N(n,t,y(e))&&(t.innerHTML=E(e,o))})),F(e,t))}))}))})(e)}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=a=>!(a=>null==a)(a),n=()=>{};class o{constructor(e,t){this.tag=e,this.value=t}static some(e){return new o(!0,e)}static none(){return o.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?o.some(e(this.value)):o.none()}bind(e){return this.tag?e(this.value):o.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:o.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return t(e)?o.some(e):o.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}o.singletonNone=new o(!1);const head=e=>((e,i)=>i>=0&&i<e.length?o.some(e[i]):o.none())(e,0);var r=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const l="undefined"!=typeof window?window:Function("return this;")(),c=function(e,t,n){const o=window.Prism;window.Prism={manual:!0};var r=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,o={},r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof l?new l(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var o,l;switch(n=n||{},r.util.type(t)){case"Object":if(l=r.util.objId(t),n[l])return n[l];for(var c in o={},n[l]=o,t)t.hasOwnProperty(c)&&(o[c]=e(t[c],n));return o;case"Array":return l=r.util.objId(t),n[l]?n[l]:(o=[],n[l]=o,t.forEach((function(t,i){o[i]=e(t,n)})),o);default:return t}},getLanguage:function(element){for(;element;){var e=t.exec(element.className);if(e)return e[1].toLowerCase();element=element.parentElement}return"none"},setLanguage:function(element,e){element.className=element.className.replace(RegExp(t,"gi"),""),element.classList.add("language-"+e)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(n){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(n.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var i in t)if(t[i].src==e)return t[i]}return null}},isActive:function(element,e,t){for(var n="no-"+e;element;){var o=element.classList;if(o.contains(e))return!0;if(o.contains(n))return!1;element=element.parentElement}return!!t}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var o in t)n[o]=t[o];return n},insertBefore:function(e,t,n,o){var l=(o=o||r.languages)[e],c={};for(var d in l)if(l.hasOwnProperty(d)){if(d==t)for(var h in n)n.hasOwnProperty(h)&&(c[h]=n[h]);n.hasOwnProperty(d)||(c[d]=l[d])}var m=o[e];return o[e]=c,r.languages.DFS(r.languages,(function(t,n){n===m&&t!=e&&(this[t]=c)})),c},DFS:function e(t,n,o,l){l=l||{};var c=r.util.objId;for(var i in t)if(t.hasOwnProperty(i)){n.call(t,i,t[i],o||i);var d=t[i],h=r.util.type(d);"Object"!==h||l[c(d)]?"Array"!==h||l[c(d)]||(l[c(d)]=!0,e(d,n,i,l)):(l[c(d)]=!0,e(d,n,null,l))}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var o={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",o),o.elements=Array.prototype.slice.apply(o.container.querySelectorAll(o.selector)),r.hooks.run("before-all-elements-highlight",o);for(var element,i=0;element=o.elements[i++];)r.highlightElement(element,!0===t,o.callback)},highlightElement:function(element,t,n){var o=r.util.getLanguage(element),l=r.languages[o];r.util.setLanguage(element,o);var c=element.parentElement;c&&"pre"===c.nodeName.toLowerCase()&&r.util.setLanguage(c,o);var d={element:element,language:o,grammar:l,code:element.textContent};function h(e){d.highlightedCode=e,r.hooks.run("before-insert",d),d.element.innerHTML=d.highlightedCode,r.hooks.run("after-highlight",d),r.hooks.run("complete",d),n&&n.call(d.element)}if(r.hooks.run("before-sanity-check",d),(c=d.element.parentElement)&&"pre"===c.nodeName.toLowerCase()&&!c.hasAttribute("tabindex")&&c.setAttribute("tabindex","0"),!d.code)return r.hooks.run("complete",d),void(n&&n.call(d.element));if(r.hooks.run("before-highlight",d),d.grammar)if(t&&e.Worker){var m=new Worker(r.filename);m.onmessage=function(e){h(e.data)},m.postMessage(JSON.stringify({language:d.language,code:d.code,immediateClose:!0}))}else h(r.highlight(d.code,d.grammar,d.language));else h(r.util.encode(d.code))},highlight:function(text,e,t){var n={code:text,grammar:e,language:t};if(r.hooks.run("before-tokenize",n),!n.grammar)throw new Error('The language "'+n.language+'" has no grammar.');return n.tokens=r.tokenize(n.code,n.grammar),r.hooks.run("after-tokenize",n),l.stringify(r.util.encode(n.tokens),n.language)},tokenize:function(text,e){var t=e.rest;if(t){for(var n in t)e[n]=t[n];delete e.rest}var o=new h;return m(o,o.head,text),d(text,o,e,o.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(o)},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var o,i=0;o=n[i++];)o(t)}},Token:l};function l(e,content,t,n){this.type=e,this.content=content,this.alias=t,this.length=0|(n||"").length}function c(pattern,e,text,t){pattern.lastIndex=e;var n=pattern.exec(text);if(n&&t&&n[1]){var o=n[1].length;n.index+=o,n[0]=n[0].slice(o)}return n}function d(text,e,t,n,o,h){for(var v in t)if(t.hasOwnProperty(v)&&t[v]){var y=t[v];y=Array.isArray(y)?y:[y];for(var w=0;w<y.length;++w){if(h&&h.cause==v+","+w)return;var A=y[w],x=A.inside,O=!!A.lookbehind,C=!!A.greedy,_=A.alias;if(C&&!A.pattern.global){var S=A.pattern.toString().match(/[imsuy]*$/)[0];A.pattern=RegExp(A.pattern.source,S+"g")}for(var pattern=A.pattern||A,k=n.next,T=o;k!==e.tail&&!(h&&T>=h.reach);T+=k.value.length,k=k.next){var j=k.value;if(e.length>text.length)return;if(!(j instanceof l)){var E,D=1;if(C){if(!(E=c(pattern,T,text,O))||E.index>=text.length)break;var I=E.index,R=E.index+E[0].length,p=T;for(p+=k.value.length;I>=p;)p+=(k=k.next).value.length;if(T=p-=k.value.length,k.value instanceof l)continue;for(var B=k;B!==e.tail&&(p<R||"string"==typeof B.value);B=B.next)D++,p+=B.value.length;D--,j=text.slice(T,p),E.index-=T}else if(!(E=c(pattern,0,j,O)))continue;I=E.index;var M=E[0],P=j.slice(0,I),L=j.slice(I+M.length),N=T+j.length;h&&N>h.reach&&(h.reach=N);var $=k.prev;if(P&&($=m(e,$,P),T+=P.length),f(e,$,D),k=m(e,$,new l(v,x?r.tokenize(M,x):M,_,M)),L&&m(e,k,L),D>1){var z={cause:v+","+w,reach:N};d(text,e,t,k.prev,T,z),h&&z.reach>h.reach&&(h.reach=z.reach)}}}}}}function h(){var head={value:null,prev:null,next:null},e={value:null,prev:head,next:null};head.next=e,this.head=head,this.tail=e,this.length=0}function m(e,t,n){var o=t.next,r={value:n,prev:t,next:o};return t.next=r,o.prev=r,e.length++,r}function f(e,t,n){for(var o=t.next,i=0;i<n&&o!==e.tail;i++)o=o.next;t.next=o,o.prev=t,e.length-=i}if(e.Prism=r,l.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var s="";return t.forEach((function(t){s+=e(t,n)})),s}var o={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},l=t.alias;l&&(Array.isArray(l)?Array.prototype.push.apply(o.classes,l):o.classes.push(l)),r.hooks.run("wrap",o);var c="";for(var d in o.attributes)c+=" "+d+'="'+(o.attributes[d]||"").replace(/"/g,"&quot;")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+c+">"+o.content+"</"+o.tag+">"},!e.document)return e.addEventListener?(r.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),o=n.language,code=n.code,l=n.immediateClose;e.postMessage(r.highlight(code,r.languages[o],o)),l&&e.close()}),!1),r):r;var script=r.util.currentScript();function v(){r.manual||r.highlightAll()}if(script&&(r.filename=script.src,script.hasAttribute("data-manual")&&(r.manual=!0)),!r.manual){var y=document.readyState;"loading"===y||"interactive"===y&&script&&script.defer?document.addEventListener("DOMContentLoaded",v):window.requestAnimationFrame?window.requestAnimationFrame(v):window.setTimeout(v,16)}return r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});return void 0!==t&&t.exports&&(t.exports=r),void 0!==e&&(e.Prism=r),r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,o,r,l){if(n.language===o){var c=n.tokenStack=[];n.code=n.code.replace(r,(function(e){if("function"==typeof l&&!l(e))return e;for(var r,i=c.length;-1!==n.code.indexOf(r=t(o,i));)++i;return c[i]=e,r})),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,o){if(n.language===o&&n.tokenStack){n.grammar=e.languages[o];var r=0,l=Object.keys(n.tokenStack);!function c(d){for(var i=0;i<d.length&&!(r>=l.length);i++){var h=d[i];if("string"==typeof h||h.content&&"string"==typeof h.content){var m=l[r],f=n.tokenStack[m],s="string"==typeof h?h:h.content,v=t(o,m),y=s.indexOf(v);if(y>-1){++r;var w=s.substring(0,y),A=new e.Token(o,e.tokenize(f,n.grammar),"language-"+o,f),x=s.substring(y+v.length),O=[];w&&O.push.apply(O,c([w])),O.push(A),x&&O.push.apply(O,c([x])),"string"==typeof h?d.splice.apply(d,[i,1].concat(O)):h.content=O}}else h.content&&c(h.content)}return d}(n.tokens)}}}})}(r),r.languages.c=r.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),r.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),r.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},r.languages.c.string],char:r.languages.c.char,comment:r.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:r.languages.c}}}}),r.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete r.languages.c.boolean,function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return t.source}));e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return n}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(r),function(e){function t(pattern,e){return pattern.replace(/<<(\d+)>>/g,(function(t,n){return"(?:"+e[+n]+")"}))}function n(pattern,e,n){return RegExp(t(pattern,e),n||"")}function o(pattern,e){for(var i=0;i<e;i++)pattern=pattern.replace(/<<self>>/g,(function(){return"(?:"+pattern+")"}));return pattern.replace(/<<self>>/g,"[^\\s\\S]")}var r="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",l="class enum interface record struct",c="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",d="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function h(e){return"\\b(?:"+e.trim().replace(/ /g,"|")+")\\b"}var m=h(l),f=RegExp(h(r+" "+l+" "+c+" "+d)),v=h(l+" "+c+" "+d),y=h(r+" "+l+" "+d),w=o(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),A=o(/\((?:[^()]|<<self>>)*\)/.source,2),x=/@?\b[A-Za-z_]\w*\b/.source,O=t(/<<0>>(?:\s*<<1>>)?/.source,[x,w]),C=t(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[v,O]),_=/\[\s*(?:,\s*)*\]/.source,S=t(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[C,_]),k=t(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[w,A,_]),T=t(/\(<<0>>+(?:,<<0>>+)+\)/.source,[k]),j=t(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[T,C,_]),E={keyword:f,punctuation:/[<>()?,.:[\]]/},D=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,I=/"(?:\\.|[^\\"\r\n])*"/.source,R=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[R]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[I]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[C]),lookbehind:!0,inside:E},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[x,j]),lookbehind:!0,inside:E},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[x]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[m,O]),lookbehind:!0,inside:E},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[C]),lookbehind:!0,inside:E},{pattern:n(/(\bwhere\s+)<<0>>/.source,[x]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[S]),lookbehind:!0,inside:E},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[j,y,x]),inside:E}],keyword:f,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[x]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[x]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[A]),lookbehind:!0,alias:"class-name",inside:E},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[j,C]),inside:E,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[j]),lookbehind:!0,inside:E,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[x,w]),inside:{function:n(/^<<0>>/.source,[x]),generic:{pattern:RegExp(w),alias:"class-name",inside:E}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[m,O,x,j,f.source,A,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:n(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[O,A]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:f,"class-name":{pattern:RegExp(j),greedy:!0,inside:E},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var B=I+"|"+D,M=t(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[B]),P=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[M]),2),L=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,N=t(/<<0>>(?:\s*\(<<1>>*\))?/.source,[C,P]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[L,N]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[L]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[P]),inside:e.languages.csharp},"class-name":{pattern:RegExp(C),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var $=/:[^}\r\n]+/.source,z=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[M]),2),F=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[z,$]),V=o(t(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[B]),2),H=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[V,$]);function W(t,o){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[t]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[o,$]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[F]),lookbehind:!0,greedy:!0,inside:W(F,z)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[H]),lookbehind:!0,greedy:!0,inside:W(H,V)}],char:{pattern:RegExp(D),greedy:!0}}),e.languages.dotnet=e.languages.cs=e.languages.csharp}(r),function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(r),function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,o={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[o,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:o.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:o.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":o,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:o.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:o.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0,inside:{punctuation:/\./}}})}(r),r.languages.javascript=r.languages.extend("clike",{"class-name":[r.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),r.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,r.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:r.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:r.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:r.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:r.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:r.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),r.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:r.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),r.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),r.languages.markup&&(r.languages.markup.tag.addInlined("script","javascript"),r.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),r.languages.js=r.languages.javascript,r.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},r.languages.markup.tag.inside["attr-value"].inside.entity=r.languages.markup.entity,r.languages.markup.doctype.inside["internal-subset"].inside=r.languages.markup,r.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(r.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:r.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};o["language-"+t]={pattern:/[\s\S]+/,inside:r.languages[t]};var l={};l[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:o},r.languages.insertBefore("markup","cdata",l)}}),Object.defineProperty(r.languages.markup.tag,"addAttribute",{value:function(e,t){r.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:r.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.xml=r.languages.extend("markup",{}),r.languages.ssml=r.languages.xml,r.languages.atom=r.languages.xml,r.languages.rss=r.languages.xml,function(e){var t=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],o=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,r=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,l=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:t,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:o,operator:r,punctuation:l};var c={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},d=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:c}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:c}}];e.languages.insertBefore("php","variable",{string:d,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:t,string:d,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:o,operator:r,punctuation:l}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",(function(t){if(/<\?/.test(t.code)){e.languages["markup-templating"].buildPlaceholders(t,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)}})),e.hooks.add("after-tokenize",(function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"php")}))}(r),r.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},r.languages.python["string-interpolation"].inside.interpolation.inside.rest=r.languages.python,r.languages.py=r.languages.python,function(e){e.languages.ruby=e.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),e.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var t={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete e.languages.ruby.function;var n="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",o=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;e.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+n+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+o),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+o+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),e.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+n),greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+n),greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete e.languages.ruby.string,e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),e.languages.rb=e.languages.ruby}(r),window.Prism=o,r}(void 0,void 0),option=e=>t=>t.options.get(e),d=option("codesample_languages"),h=option("codesample_global_prismjs"),m=e=>l.Prism&&h(e)?l.Prism:c,f=e=>t(e)&&"PRE"===e.nodeName&&-1!==e.className.indexOf("language-"),v=e=>{const t=e.selection?e.selection.getNode():null;return f(t)?o.some(t):o.none()},y=e=>{const t=(e=>{const t=d(e);return t||[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}]})(e),n=head(t).fold((l="",()=>l),(e=>e.value));var l;const c=((e,t)=>v(e).fold((()=>t),(e=>{const n=e.className.match(/language-(\w+)/);return n?n[1]:t})))(e,n),h=(e=>v(e).bind((e=>o.from(e.textContent))).getOr(""))(e);e.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:t},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:c,code:h},onSubmit:t=>{const data=t.getData();((e,t,code)=>{const n=e.dom;e.undoManager.transact((()=>{const o=v(e);return code=r.DOM.encode(code),o.fold((()=>{e.insertContent('<pre id="__new" class="language-'+t+'">'+code+"</pre>");const o=n.select("#__new")[0];n.setAttrib(o,"id",null),e.selection.select(o)}),(o=>{n.setAttrib(o,"class","language-"+t),o.innerHTML=code,m(e).highlightElement(o),e.selection.select(o)}))}))})(e,data.language,data.code),t.close()}})},w=(A=/^\s+|\s+$/g,s=>s.replace(A,""));var A,x=tinymce.util.Tools.resolve("tinymce.util.Tools");const O=(e,t=n)=>n=>{const o=()=>{n.setEnabled(e.selection.isEditable()),t(n)};return e.on("NodeChange",o),o(),()=>{e.off("NodeChange",o)}};e.add("codesample",(e=>{(e=>{const t=e.options.register;t("codesample_languages",{processor:"object[]"}),t("codesample_global_prismjs",{processor:"boolean",default:!1})})(e),(e=>{e.on("PreProcess",(t=>{const n=e.dom,o=n.select("pre[contenteditable=false]",t.node);x.each(x.grep(o,f),(e=>{const code=e.textContent;let t;for(n.setAttrib(e,"class",w(n.getAttrib(e,"class"))),n.setAttrib(e,"contentEditable",null),n.setAttrib(e,"data-mce-highlighted",null);t=e.firstChild;)e.removeChild(t);n.add(e,"code").textContent=code}))})),e.on("SetContent",(()=>{const t=e.dom,n=x.grep(t.select("pre"),(e=>f(e)&&"true"!==t.getAttrib(e,"data-mce-highlighted")));n.length&&e.undoManager.transact((()=>{x.each(n,(n=>{var o;x.each(t.select("br",n),(n=>{t.replace(e.getDoc().createTextNode("\n"),n)})),n.innerHTML=t.encode(null!==(o=n.textContent)&&void 0!==o?o:""),m(e).highlightElement(n),t.setAttrib(n,"data-mce-highlighted",!0),n.className=w(n.className)}))}))})),e.on("PreInit",(()=>{e.parser.addNodeFilter("pre",(e=>{var t;for(let i=0,n=e.length;i<n;i++){const n=e[i];-1!==(null!==(t=n.attr("class"))&&void 0!==t?t:"").indexOf("language-")&&(n.attr("contenteditable","false"),n.attr("data-mce-highlighted","false"))}}))}))})(e),(e=>{const t=()=>e.execCommand("codesample");e.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:t,onSetup:O(e,(t=>{t.setActive((e=>{const t=e.selection.getStart();return e.dom.is(t,'pre[class*="language-"]')})(e))}))}),e.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:t,onSetup:O(e)})})(e),(e=>{e.addCommand("codesample",(()=>{const t=e.selection.getNode();e.selection.isCollapsed()||f(t)?y(e):e.formatter.toggle("code")}))})(e),e.on("dblclick",(t=>{f(t.target)&&y(e)}))}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env");const option=e=>t=>t.options.get(e),n=option("pagebreak_separator"),o=option("pagebreak_split_block"),r="mce-pagebreak",l=e=>{const html=`<img src="${t.transparentSrc}" class="${r}" data-mce-resize="false" data-mce-placeholder />`;return e?`<p>${html}</p>`:html},c=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("pagebreak",(e=>{(e=>{const t=e.options.register;t("pagebreak_separator",{processor:"string",default:"\x3c!-- pagebreak --\x3e"}),t("pagebreak_split_block",{processor:"boolean",default:!1})})(e),(e=>{e.addCommand("mcePageBreak",(()=>{e.insertContent(l(o(e)))}))})(e),(e=>{const t=()=>e.execCommand("mcePageBreak");e.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:t,onSetup:c(e)}),e.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:t,onSetup:c(e)})})(e),(e=>{const t=n(e),c=()=>o(e),d=new RegExp(t.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,(a=>"\\"+a)),"gi");e.on("BeforeSetContent",(e=>{e.content=e.content.replace(d,l(c()))})),e.on("PreInit",(()=>{e.serializer.addNodeFilter("img",(n=>{let o,l,i=n.length;for(;i--;)if(o=n[i],l=o.attr("class"),l&&-1!==l.indexOf(r)){const n=o.parent;if(n&&e.schema.getBlockElements()[n.name]&&c()){n.type=3,n.value=t,n.raw=!0,o.remove();continue}o.type=3,o.value=t,o.raw=!0}}))}))})(e),(e=>{e.on("ResolveName",(t=>{"IMG"===t.target.nodeName&&e.dom.hasClass(t.target,r)&&(t.name="pagebreak")}))})(e)}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>typeof t===e,n=t("boolean"),o=t("number"),option=e=>t=>t.options.get(e),r=option("nonbreaking_force_tab"),l=option("nonbreaking_wrap"),c=(e,t)=>{let n="";for(let o=0;o<t;o++)n+=e;return n},d=(e,t)=>{const html=l(e)||e.plugins.visualchars?`<span class="${(e=>!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled())(e)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"}" contenteditable="false">${c("&nbsp;",t)}</span>`:c("&nbsp;",t);e.undoManager.transact((()=>e.insertContent(html)))};var h=tinymce.util.Tools.resolve("tinymce.util.VK");const m=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("nonbreaking",(e=>{(e=>{const t=e.options.register;t("nonbreaking_force_tab",{processor:e=>n(e)?{value:e?3:0,valid:!0}:o(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),t("nonbreaking_wrap",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceNonBreaking",(()=>{d(e,1)}))})(e),(e=>{const t=()=>e.execCommand("mceNonBreaking");e.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:t,onSetup:m(e)}),e.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:t,onSetup:m(e)})})(e),(e=>{const t=r(e);t>0&&e.on("keydown",(n=>{if(n.keyCode===h.TAB&&!n.isDefaultPrevented()){if(n.shiftKey)return;n.preventDefault(),n.stopImmediatePropagation(),d(e,t)}}))})(e)}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>a=>e===a,n=t(null),o=t(void 0),r=()=>{},l=(e=>()=>e)(!1);class c{constructor(e,t){this.tag=e,this.value=t}static some(e){return new c(!0,e)}static none(){return c.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?c.some(e(this.value)):c.none()}bind(e){return this.tag?e(this.value):c.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:c.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return(a=>null==a)(e)?c.none():c.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}c.singletonNone=new c(!1);const d=(e,t)=>{const n=e.length,o=new Array(n);for(let i=0;i<n;i++){const n=e[i];o[i]=t(n,i)}return o},h=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},m=Object.keys,f=Object.hasOwnProperty,v=(e,t)=>{const n=m(e);for(let o=0,r=n.length;o<r;o++){const i=n[o];t(e[i],i)}},y=(e,t)=>{const n={};return v(e,((e,i)=>{const o=t(e,i);n[o.k]=o.v})),n},w=(e,t)=>f.call(e,t),A=(x=(e,t)=>t,(...e)=>{if(0===e.length)throw new Error("Can't merge zero objects");const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const e in o)w(o,e)&&(t[e]=x(t[e],o[e]))}return t});var x;const O=()=>{const e=(e=>{const t=h(c.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(c.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:s=>{n(),t.set(c.some(s))}}})(r);return{...e,on:t=>e.get().each(t)}},C=(e,t,n=0,r)=>{const l=e.indexOf(t,n);return-1!==l&&(!!o(r)||l+t.length<=r)};var _=tinymce.util.Tools.resolve("tinymce.Resource");const option=e=>t=>t.options.get(e),S=option("emoticons_database"),k=option("emoticons_database_url"),T=option("emoticons_database_id"),j=option("emoticons_append"),E=option("emoticons_images_url"),D="All",I={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},R=(e,t)=>w(e,t)?e[t]:t,B=e=>{const t=j(e);return n=e=>({keywords:[],category:"user",...e}),y(t,((e,i)=>({k:i,v:n(e,i)})));var n},M=(e,t,n)=>{const o=O(),r=O(),l=E(e),d=e=>((e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t)(e.char,"<img",0)?e.char.replace(/src="([^"]+)"/,((e,t)=>`src="${l}${t}"`)):e.char;e.on("init",(()=>{_.load(n,t).then((t=>{const n=B(e);(e=>{const t={},n=[];v(e,((e,title)=>{const o={title:title,keywords:e.keywords,char:d(e),category:R(I,e.category)},r=void 0!==t[o.category]?t[o.category]:[];t[o.category]=r.concat([o]),n.push(o)})),o.set(t),r.set(n)})(A(t,n))}),(e=>{console.log(`Failed to load emojis: ${e}`),o.set({}),r.set([])}))}));const h=()=>r.get().getOr([]),f=()=>o.isSet()&&r.isSet();return{listCategories:()=>[D].concat(m(o.get().getOr({}))),hasLoaded:f,waitForLoad:()=>f()?Promise.resolve(!0):new Promise(((e,n)=>{let o=15;const r=setInterval((()=>{f()?(clearInterval(r),e(!0)):(o--,o<0&&(console.log("Could not load emojis from url: "+t),clearInterval(r),n(!1)))}),100)})),listAll:h,listCategory:e=>e===D?h():o.get().bind((t=>c.from(t[e]))).getOr([])}},P=(e,t)=>C(e.title.toLowerCase(),t)||((e,t)=>{for(let i=0,n=e.length;i<n;i++)if(t(e[i],i))return!0;return!1})(e.keywords,(e=>C(e.toLowerCase(),t))),L=(e,pattern,t)=>{const n=[],o=pattern.toLowerCase(),r=t.fold((()=>l),(e=>t=>t>=e));for(let i=0;i<e.length&&(0!==pattern.length&&!P(e[i],o)||(n.push({value:e[i].char,text:e[i].title,icon:e[i].char}),!r(n.length)));i++);return n},N="pattern",$=(e,t)=>{const o={pattern:"",results:L(t.listAll(),"",c.some(300))},r=h(D),l=((e,t)=>{let o=null;const r=()=>{n(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...n)=>{r(),o=setTimeout((()=>{o=null,e.apply(null,n)}),t)}}})((e=>{(e=>{const n=e.getData(),o=r.get(),l=t.listCategory(o),d=L(l,n[N],o===D?c.some(300):c.none());e.setData({results:d})})(e)}),200),m={label:"Search",type:"input",name:N},f={type:"collection",name:"results"},v=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:d(t.listCategories(),(e=>({title:e,name:e,items:[m,f]})))},initialData:o,onTabChange:(e,details)=>{r.set(details.newTabName),l.throttle(e)},onChange:l.throttle,onAction:(t,n)=>{"results"===n.name&&(((e,t)=>{e.insertContent(t)})(e,n.value),t.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),y=e.windowManager.open(v());y.focus(N),t.hasLoaded()||(y.block("Loading emojis..."),t.waitForLoad().then((()=>{y.redial(v()),l.throttle(y),y.focus(N),y.unblock()})).catch((e=>{y.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),y.focus(N),y.unblock()})))},z=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("emoticons",((e,t)=>{((e,t)=>{const n=e.options.register;n("emoticons_database",{processor:"string",default:"emojis"}),n("emoticons_database_url",{processor:"string",default:`${t}/js/${S(e)}${e.suffix}.js`}),n("emoticons_database_id",{processor:"string",default:"tinymce.plugins.emoticons"}),n("emoticons_append",{processor:"object",default:{}}),n("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})})(e,t);const n=k(e),o=T(e),r=M(e,n,o);((e,t)=>{e.addCommand("mceEmoticons",(()=>$(e,t)))})(e,r),(e=>{const t=()=>e.execCommand("mceEmoticons");e.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:t,onSetup:z(e)}),e.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:t,onSetup:z(e)})})(e),((e,t)=>{e.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(pattern,e)=>t.waitForLoad().then((()=>{const n=t.listAll();return L(n,pattern,c.some(e))})),onAction:(t,n,o)=>{e.selection.setRng(n),e.insertContent(o),t.hide()}})})(e,r),(e=>{e.on("PreInit",(()=>{e.parser.addAttributeFilter("data-emoticon",(e=>{((e,t)=>{for(let i=0,n=e.length;i<n;i++)t(e[i],i)})(e,(e=>{e.attr("data-mce-resize","false"),e.attr("data-mce-placeholder","1")}))}))}))})(e)}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(n="string",e=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(l=o.constructor)||void 0===l?void 0:l.name)===r.name)?"string":t;var n,o,r,l})(e)===n);var n;const o=(r=void 0,a=>r===a);var r,l=tinymce.util.Tools.resolve("tinymce.util.Delay"),c=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),d=tinymce.util.Tools.resolve("tinymce.util.Tools");const h=e=>{const t=/^(\d+)([ms]?)$/.exec(e);return(t&&t[2]?{s:1e3,m:6e4}[t[2]]:1)*parseInt(e,10)},option=e=>t=>t.options.get(e),m=option("autosave_ask_before_unload"),f=option("autosave_restore_when_empty"),v=option("autosave_interval"),y=option("autosave_retention"),w=e=>{const t=document.location;return e.options.get("autosave_prefix").replace(/{path}/g,t.pathname).replace(/{query}/g,t.search).replace(/{hash}/g,t.hash).replace(/{id}/g,e.id)},A=(e,html)=>{if(o(html))return e.dom.isEmpty(e.getBody());{const t=d.trim(html);if(""===t)return!0;{const n=(new DOMParser).parseFromString(t,"text/html");return e.dom.isEmpty(n)}}},x=e=>{var t;const time=parseInt(null!==(t=c.getItem(w(e)+"time"))&&void 0!==t?t:"0",10)||0;return!((new Date).getTime()-time>y(e))||(O(e,!1),!1)},O=(e,t)=>{const n=w(e);c.removeItem(n+"draft"),c.removeItem(n+"time"),!1!==t&&(e=>{e.dispatch("RemoveDraft")})(e)},C=e=>{const t=w(e);!A(e)&&e.isDirty()&&(c.setItem(t+"draft",e.getContent({format:"raw",no_events:!0})),c.setItem(t+"time",(new Date).getTime().toString()),(e=>{e.dispatch("StoreDraft")})(e))},_=e=>{var t;const n=w(e);x(e)&&(e.setContent(null!==(t=c.getItem(n+"draft"))&&void 0!==t?t:"",{format:"raw"}),(e=>{e.dispatch("RestoreDraft")})(e))};var S=tinymce.util.Tools.resolve("tinymce.EditorManager");const k=e=>t=>{t.setEnabled(x(e));const n=()=>t.setEnabled(x(e));return e.on("StoreDraft RestoreDraft RemoveDraft",n),()=>e.off("StoreDraft RestoreDraft RemoveDraft",n)},T=e=>{(e=>{const t=v(e);l.setEditorInterval(e,(()=>{C(e)}),t)})(e);const t=()=>{(e=>{e.undoManager.transact((()=>{_(e),O(e)})),e.focus()})(e)};e.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:t,onSetup:k(e)}),e.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:t,onSetup:k(e)})};e.add("autosave",(e=>((e=>{const n=e.options.register,o=e=>{const n=t(e);return n?{value:h(e),valid:n}:{valid:!1,message:"Must be a string."}};n("autosave_ask_before_unload",{processor:"boolean",default:!0}),n("autosave_prefix",{processor:"string",default:"tinymce-autosave-{path}{query}{hash}-{id}-"}),n("autosave_restore_when_empty",{processor:"boolean",default:!1}),n("autosave_interval",{processor:o,default:"30s"}),n("autosave_retention",{processor:o,default:"20m"})})(e),(e=>{e.editorManager.on("BeforeUnload",(e=>{let t;d.each(S.get(),(e=>{e.plugins.autosave&&e.plugins.autosave.storeDraft(),!t&&e.isDirty()&&m(e)&&(t=e.translate("You have unsaved changes are you sure you want to navigate away?"))})),t&&(e.preventDefault(),e.returnValue=t)}))})(e),T(e),e.on("init",(()=>{f(e)&&e.dom.isEmpty(e.getBody())&&_(e)})),(e=>({hasDraft:()=>x(e),storeDraft:()=>C(e),restoreDraft:()=>_(e),removeDraft:t=>O(e,t),isEmpty:html=>A(e,html)}))(e))))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(n=null,a=>n===a);var n;const o=e=>e,map=(e,t)=>{const n=e.length,o=new Array(n);for(let i=0;i<n;i++){const n=e[i];o[i]=t(n,i)}return o},r={aletter:"[A-Za-zÂªÂµÂºÃ€-Ã–Ã˜-Ã¶Ã¸-ËË†-Ë‘Ë -Ë¤Ë¬Ë®Í°-Í´Í¶Í·Íº-Í½Î†Îˆ-ÎŠÎŒÎŽ-Î¡Î£-ÏµÏ·-ÒÒŠ-Ô§Ô±-Õ–Õ™Õ¡-Ö‡×-×ª×°-×³Ø -ÙŠÙ®Ù¯Ù±-Û“Û•Û¥Û¦Û®Û¯Ûº-Û¼Û¿ÜÜ’-Ü¯Ý-Þ¥Þ±ßŠ-ßªß´ßµßºà €-à •à šà ¤à ¨à¡€-à¡˜à¤„-à¤¹à¤½à¥à¥˜-à¥¡à¥±-à¥·à¥¹-à¥¿à¦…-à¦Œà¦à¦à¦“-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦½à§Žà§œà§à§Ÿ-à§¡à§°à§±à¨…-à¨Šà¨à¨à¨“-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à©™-à©œà©žà©²-à©´àª…-àªàª-àª‘àª“-àª¨àªª-àª°àª²àª³àªµ-àª¹àª½à«à« à«¡à¬…-à¬Œà¬à¬à¬“-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬½à­œà­à­Ÿ-à­¡à­±à®ƒà®…-à®Šà®Ž-à®à®’-à®•à®™à®šà®œà®žà®Ÿà®£à®¤à®¨-à®ªà®®-à®¹à¯à°…-à°Œà°Ž-à°à°’-à°¨à°ª-à°³à°µ-à°¹à°½à±˜à±™à± à±¡à²…-à²Œà²Ž-à²à²’-à²¨à²ª-à²³à²µ-à²¹à²½à³žà³ à³¡à³±à³²à´…-à´Œà´Ž-à´à´’-à´ºà´½àµŽàµ àµ¡àµº-àµ¿à¶…-à¶–à¶š-à¶±à¶³-à¶»à¶½à·€-à·†à¼€à½€-à½‡à½‰-à½¬à¾ˆ-à¾Œá‚ -áƒ…áƒ-áƒºáƒ¼á„€-á‰ˆá‰Š-á‰á‰-á‰–á‰˜á‰š-á‰á‰ -áŠˆáŠŠ-áŠáŠ-áŠ°áŠ²-áŠµáŠ¸-áŠ¾á‹€á‹‚-á‹…á‹ˆ-á‹–á‹˜-áŒáŒ’-áŒ•áŒ˜-ášáŽ€-áŽáŽ -á´á-á™¬á™¯-á™¿áš-áššáš -á›ªá›®-á›°áœ€-áœŒáœŽ-áœ‘áœ -áœ±á€-á‘á -á¬á®-á°á  -á¡·á¢€-á¢¨á¢ªá¢°-á£µá¤€-á¤œá¨€-á¨–á¬…-á¬³á­…-á­‹á®ƒ-á® á®®á®¯á¯€-á¯¥á°€-á°£á±-á±á±š-á±½á³©-á³¬á³®-á³±á´€-á¶¿á¸€-á¼•á¼˜-á¼á¼ -á½…á½ˆ-á½á½-á½—á½™á½›á½á½Ÿ-á½½á¾€-á¾´á¾¶-á¾¼á¾¾á¿‚-á¿„á¿†-á¿Œá¿-á¿“á¿–-á¿›á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼â±â¿â‚-â‚œâ„‚â„‡â„Š-â„“â„•â„™-â„â„¤â„¦â„¨â„ª-â„­â„¯-â„¹â„¼-â„¿â……-â…‰â…Žâ… -â†ˆâ’¶-â“©â°€-â°®â°°-â±žâ± -â³¤â³«-â³®â´€-â´¥â´°-âµ¥âµ¯â¶€-â¶–â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·€-â·†â·ˆ-â·Žâ·-â·–â·˜-â·žâ¸¯ã€…ã€»ã€¼ã„…-ã„­ã„±-ã†Žã† -ã†ºê€€-ê’Œê“-ê“½ê”€-ê˜Œê˜-ê˜Ÿê˜ªê˜«ê™€-ê™®ê™¿-êš—êš -ê›¯êœ—-êœŸêœ¢-êžˆêž‹-êžŽêžêž‘êž -êž©êŸº-ê ê ƒ-ê …ê ‡-ê Šê Œ-ê ¢ê¡€-ê¡³ê¢‚-ê¢³ê£²-ê£·ê£»ê¤Š-ê¤¥ê¤°-ê¥†ê¥ -ê¥¼ê¦„-ê¦²ê§ê¨€-ê¨¨ê©€-ê©‚ê©„-ê©‹ê¬-ê¬†ê¬‰-ê¬Žê¬‘-ê¬–ê¬ -ê¬¦ê¬¨-ê¬®ê¯€-ê¯¢ê°€-íž£íž°-íŸ†íŸ‹-íŸ»ï¬€-ï¬†ï¬“-ï¬—ï¬ï¬Ÿ-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­€ï­ï­ƒï­„ï­†-ï®±ï¯“-ï´½ïµ-ï¶ï¶’-ï·‡ï·°-ï·»ï¹°-ï¹´ï¹¶-ï»¼ï¼¡-ï¼ºï½-ï½šï¾ -ï¾¾ï¿‚-ï¿‡ï¿Š-ï¿ï¿’-ï¿—ï¿š-ï¿œ]",midnumlet:"[-'\\.â€˜â€™â€¤ï¹’ï¼‡ï¼Ž]",midletter:"[:Â·Â·×´â€§ï¸“ï¹•ï¼š]",midnum:"[Â±+*/,;;Ö‰ØŒØÙ¬ß¸â„ï¸ï¸”ï¹ï¹”ï¼Œï¼›]",numeric:"[0-9Ù -Ù©Ù«Û°-Û¹ß€-ß‰à¥¦-à¥¯à§¦-à§¯à©¦-à©¯à«¦-à«¯à­¦-à­¯à¯¦-à¯¯à±¦-à±¯à³¦-à³¯àµ¦-àµ¯à¹-à¹™à»-à»™à¼ -à¼©á€-á‰á‚-á‚™áŸ -áŸ©á -á ™á¥†-á¥á§-á§™áª€-áª‰áª-áª™á­-á­™á®°-á®¹á±€-á±‰á±-á±™ê˜ -ê˜©ê£-ê£™ê¤€-ê¤‰ê§-ê§™ê©-ê©™ê¯°-ê¯¹]",cr:"\\r",lf:"\\n",newline:"[\v\fÂ…\u2028\u2029]",extend:"[Ì€-Í¯Òƒ-Ò‰Ö‘-Ö½Ö¿××‚×„×…×‡Ø-ØšÙ‹-ÙŸÙ°Û–-ÛœÛŸ-Û¤Û§Û¨Ûª-Û­Ü‘Ü°-ÝŠÞ¦-Þ°ß«-ß³à –-à ™à ›-à £à ¥-à §à ©-à ­à¡™-à¡›à¤€-à¤ƒà¤º-à¤¼à¤¾-à¥à¥‘-à¥—à¥¢à¥£à¦-à¦ƒà¦¼à¦¾-à§„à§‡à§ˆà§‹-à§à§—à§¢à§£à¨-à¨ƒà¨¼à¨¾-à©‚à©‡à©ˆà©‹-à©à©‘à©°à©±à©µàª-àªƒàª¼àª¾-à«…à«‡-à«‰à«‹-à«à«¢à«£à¬-à¬ƒà¬¼à¬¾-à­„à­‡à­ˆà­‹-à­à­–à­—à­¢à­£à®‚à®¾-à¯‚à¯†-à¯ˆà¯Š-à¯à¯—à°-à°ƒà°¾-à±„à±†-à±ˆà±Š-à±à±•à±–à±¢à±£à²‚à²ƒà²¼à²¾-à³„à³†-à³ˆà³Š-à³à³•à³–à³¢à³£à´‚à´ƒà´¾-àµ„àµ†-àµˆàµŠ-àµàµ—àµ¢àµ£à¶‚à¶ƒà·Šà·-à·”à·–à·˜-à·Ÿà·²à·³à¸±à¸´-à¸ºà¹‡-à¹Žàº±àº´-àº¹àº»àº¼à»ˆ-à»à¼˜à¼™à¼µà¼·à¼¹à¼¾à¼¿à½±-à¾„à¾†à¾‡à¾-à¾—à¾™-à¾¼à¿†á€«-á€¾á–-á™áž-á á¢-á¤á§-á­á±-á´á‚‚-á‚á‚á‚š-á‚á-áŸáœ’-áœ”áœ²-áœ´á’á“á²á³áž¶-áŸ“áŸá ‹-á á¢©á¤ -á¤«á¤°-á¤»á¦°-á§€á§ˆá§‰á¨—-á¨›á©•-á©žá© -á©¼á©¿á¬€-á¬„á¬´-á­„á­«-á­³á®€-á®‚á®¡-á®ªá¯¦-á¯³á°¤-á°·á³-á³’á³”-á³¨á³­á³²á·€-á·¦á·¼-á·¿â€Œâ€âƒ-âƒ°â³¯-â³±âµ¿â· -â·¿ã€ª-ã€¯ã‚™ã‚šê™¯-ê™²ê™¼ê™½ê›°ê›±ê ‚ê †ê ‹ê £-ê §ê¢€ê¢ê¢´-ê£„ê£ -ê£±ê¤¦-ê¤­ê¥‡-ê¥“ê¦€-ê¦ƒê¦³-ê§€ê¨©-ê¨¶ê©ƒê©Œê©ê©»êª°êª²-êª´êª·êª¸êª¾êª¿ê«ê¯£-ê¯ªê¯¬ê¯­ï¬žï¸€-ï¸ï¸ -ï¸¦ï¾žï¾Ÿ]",format:"[Â­Ø€-ØƒÛÜáž´ážµâ€Žâ€â€ª-â€®â -â¤âª-â¯\ufeffï¿¹-ï¿»]",katakana:"[ã€±-ã€µã‚›ã‚œã‚ -ãƒºãƒ¼-ãƒ¿ã‡°-ã‡¿ã‹-ã‹¾ãŒ€-ã—ï½¦-ï¾]",extendnumlet:"[=_â€¿â€â”ï¸³ï¸´ï¹-ï¹ï¼¿âˆ€-â‹¿<>]",punctuation:"[~â„–|!-*+-\\/:;?@\\[-`{}Â¡Â«Â·Â»Â¿;Â·Õš-ÕŸÖ‰ÖŠÖ¾×€×ƒ×†×³×´Ø‰ØŠØŒØØ›ØžØŸÙª-Ù­Û”Ü€-Üß·-ß¹à °-à ¾à¡žà¥¤à¥¥à¥°à·´à¹à¹šà¹›à¼„-à¼’à¼º-à¼½à¾…à¿-à¿”à¿™à¿šáŠ-ááƒ»á¡-á¨á€á™­á™®áš›ášœá›«-á›­áœµáœ¶áŸ”-áŸ–áŸ˜-áŸšá €-á Šá¥„á¥…á¨žá¨Ÿáª -áª¦áª¨-áª­á­š-á­ á¯¼-á¯¿á°»-á°¿á±¾á±¿á³“â€-â€§â€°-âƒâ…-â‘â“-âžâ½â¾â‚â‚Žã€ˆã€‰â¨-âµâŸ…âŸ†âŸ¦-âŸ¯â¦ƒ-â¦˜â§˜-â§›â§¼â§½â³¹-â³¼â³¾â³¿âµ°â¸€-â¸®â¸°â¸±ã€-ã€ƒã€ˆ-ã€‘ã€”-ã€Ÿã€°ã€½ã‚ ãƒ»ê“¾ê“¿ê˜-ê˜ê™³ê™¾ê›²-ê›·ê¡´-ê¡·ê£Žê£ê£¸-ê£ºê¤®ê¤¯ê¥Ÿê§-ê§ê§žê§Ÿê©œ-ê©Ÿê«žê«Ÿê¯«ï´¾ï´¿ï¸-ï¸™ï¸°-ï¹’ï¹”-ï¹¡ï¹£ï¹¨ï¹ªï¹«ï¼-ï¼ƒï¼…-ï¼Šï¼Œ-ï¼ï¼šï¼›ï¼Ÿï¼ ï¼»-ï¼½ï¼¿ï½›ï½ï½Ÿ-ï½¥]"},l=0,c=1,d=2,h=3,m=4,f=5,v=6,y=7,w=8,A=9,x=10,O=11,C=12,_=13,S=[new RegExp(r.aletter),new RegExp(r.midnumlet),new RegExp(r.midletter),new RegExp(r.midnum),new RegExp(r.numeric),new RegExp(r.cr),new RegExp(r.lf),new RegExp(r.newline),new RegExp(r.extend),new RegExp(r.format),new RegExp(r.katakana),new RegExp(r.extendnumlet),new RegExp("@")],k=new RegExp("^"+r.punctuation+"$"),T=S,j=_,E=e=>{let t=j;const n=T.length;for(let o=0;o<n;++o){const n=T[o];if(n&&n.test(e)){t=o;break}}return t},D=(map,e)=>{const t=map[e],n=map[e+1];if(e<0||e>map.length-1&&0!==e)return!1;if(t===l&&n===l)return!1;const o=map[e+2];if(t===l&&(n===d||n===c||n===C)&&o===l)return!1;const r=map[e-1];return(t!==d&&t!==c&&n!==C||n!==l||r!==l)&&((t!==m&&t!==l||n!==m&&n!==l)&&((t!==h&&t!==c||n!==m||r!==m)&&((t!==m||n!==h&&n!==c||o!==m)&&((t!==w&&t!==A||n!==l&&n!==m&&n!==x&&n!==w&&n!==A)&&(n!==w&&(n!==A||o!==l&&o!==m&&o!==x&&o!==w&&o!==A)||t!==l&&t!==m&&t!==x&&t!==w&&t!==A)&&((t!==f||n!==v)&&(t===y||t===f||t===v||(n===y||n===f||n===v||(t!==x||n!==x)&&((n!==O||t!==l&&t!==m&&t!==x&&t!==O)&&((t!==O||n!==l&&n!==m&&n!==x)&&t!==C)))))))))},I=/^\s+$/,R=k,B=e=>"http"===e||"https"===e,M=(e,t)=>{const n=((e,t)=>{let i;for(i=t;i<e.length&&!I.test(e[i]);i++);return i})(e,t+1);return"://"===e.slice(t+1,n).join("").substr(0,3)?n:t},P=(e,t,n)=>{n={includeWhitespace:!1,includePunctuation:!1,...n};const o=map(e,t);return((e,t,n,o)=>{const r=[],l=[];let c=[];for(let i=0;i<n.length;++i)if(c.push(e[i]),D(n,i)){const n=t[i];if((o.includeWhitespace||!I.test(n))&&(o.includePunctuation||!R.test(n))){const n=i-c.length+1,o=i+1,d=t.slice(n,o).join("");if(B(d)){const n=M(t,i),r=e.slice(o,n);Array.prototype.push.apply(c,r),i=n}r.push(c),l.push({start:n,end:o})}c=[]}return{words:r,indices:l}})(e,o,(e=>{const t=(e=>{const t={};return n=>{if(t[n])return t[n];{const o=e(n);return t[n]=o,o}}})(E);return map(e,t)})(o),n)},L=(e,t,n)=>P(e,t,n).words;var N=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const $=(e,t)=>{const n=t.getBlockElements(),o=t.getVoidElements(),r=e=>n[e.nodeName]||o[e.nodeName],l=[];let c="";const d=new N(e,e);let h;for(;h=d.next();)3===h.nodeType?c+=h.data.replace(/\uFEFF/g,""):r(h)&&c.length&&(l.push(c),c="");return c.length&&l.push(c),l},z=e=>e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,F=(e,t)=>{const text=(text=>text.replace(/\u200B/g,""))($(e,t).join("\n"));return L(text.split(""),o).length},V=(e,t)=>{const text=$(e,t).join("");return z(text)},H=(e,t)=>{const text=$(e,t).join("").replace(/\s/g,"");return z(text)},W=(e,t)=>()=>t(e.getBody(),e.schema),Q=(e,t)=>()=>t(e.selection.getRng().cloneContents(),e.schema),U=e=>W(e,F),Y=(e,t)=>{e.addCommand("mceWordCount",(()=>((e,t)=>{e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})})(e,t)))};var G=tinymce.util.Tools.resolve("tinymce.util.Delay");const K=(e,t)=>{((e,t)=>{e.dispatch("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})})(e,t)},X=(e,n,o)=>{const r=((e,n)=>{let o=null;return{cancel:()=>{t(o)||(clearTimeout(o),o=null)},throttle:(...r)=>{t(o)&&(o=setTimeout((()=>{o=null,e.apply(null,r)}),n))}}})((()=>K(e,n)),o);e.on("init",(()=>{K(e,n),G.setEditorTimeout(e,(()=>{e.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",r.throttle)}),0),e.on("remove",r.cancel)}))};((t=300)=>{e.add("wordcount",(e=>{const n=(e=>({body:{getWordCount:U(e),getCharacterCount:W(e,V),getCharacterCountWithoutSpaces:W(e,H)},selection:{getWordCount:Q(e,F),getCharacterCount:Q(e,V),getCharacterCountWithoutSpaces:Q(e,H)},getCount:U(e)}))(e);return Y(e,n),(e=>{const t=()=>e.execCommand("mceWordCount");e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:t}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:t})})(e),X(e,n,t),n}))})()}()},function(e,t,n){"use strict";n.r(t);n(51);var o=n(9),r=n(603),l=n(604),c=n(605),d=n(606),h=n(607),m=n(608),f=n(609),v=n(566),y=n(610),w=n(567),A=n(611),x=n(666),O=n(612),C=n(613),_=n(630),S=n(614),k=n(667),T=n(615),j=n(616),E=n(668),D=n(665),I=n(669),R=n(670),B=n(671),M=n(672),P=n(617),L=n(618),N=n(619),$=n(631),z=n(620),F=n(582),V=n(621),H=n(622),W=n(623),Q=n(624),U=n(625),Y=n(626),G=n(627),K=n(628),X=n(629),Z={components:{LayoutInputCheckbox:m.default,LayoutInputDatePicker:v.default,LayoutInputDateTimePicker:y.default,LayoutInputTimePicker:w.default,LayoutInputContentBlocks:x.default,LayoutInputSlug:O.default,LayoutInputText:r.default,LayoutInputNumber:j.default,LayoutInputPassword:f.default,LayoutInputHidden:_.default,LayoutInputSlider:S.default,LayoutInputImage:A.default,LayoutTitle:P.default,LayoutTable:z.default,LayoutWidget:E.default,LayoutForm:D.default,LayoutText:L.default,LayoutBreadcrumb:H.default,LayoutNavigationItem:V.default,LayoutButton:N.default,LayoutDivider:$.default,LayoutPage:I.default,LayoutTags:F.default,LayoutRow:R.default,LayoutInputDropdown:d.default,LayoutBar:B.default,LayoutBarButton:W.default,LayoutPager:Q.default,LayoutSearchBox:U.default,LayoutPagerOptions:Y.default,LayoutInputTextArea:c.default,LayoutTabs:M.default,LayoutTab:G.default,LayoutInputEmail:l.default,LayoutInputTags:h.default,LayoutInputRepeatable:k.default,LayoutMessage:K.default,LayoutInputFile:C.default,LayoutNotImplemented:T.default,LayoutSiteBoss:X.default},props:{elements:{type:Array,default:function(){return[]}},bus:{type:o.default,required:!1,default:function(){return new o.default}}},methods:{updateValues:function(e){this.$emit("updateValues",e)},setFormOption:function(e,t){this.$emit("setFormOption",e,t)},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},componentName:function(element){if(element.type){var e=this.capitalizeFirstLetter(element.type);return"Layout".concat(e)}return console.log("[SITEBOSS] didn't set type in element."),""}}},J=n(63),component=Object(J.a)(Z,(function(){var e=this,t=e._self._c;return t("div",e._l(e.elements,(function(element,n){return t(e.componentName(element),{key:n,tag:"Component",attrs:{properties:element.properties,items:element.items,internal:element.internal,data:element.data,bus:e.bus},on:{updateValues:e.updateValues,setFormOption:e.setFormOption}})})),1)}),[],!1,null,null,null);t.default=component.exports},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));n(17),n(16),n(13),n(10),n(18),n(14),n(19);var o,r=n(2),l=(n(107),n(3)),c=n(8),d=n(1),h=n(12),m=n(26),f=n(5),v=n(6),y=n(69),w=n(23),A=n(7),x=n(0),O=n(4),C=n(122),_=n(150);function S(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function k(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var T=Object(y.a)("show",{type:d.i,defaultValue:!1}),j=T.mixin,E=T.props,D=T.prop,I=T.event,R=function(e){return""===e||Object(v.b)(e)?0:(e=Object(w.c)(e,0))>0?e:0},B=function(e){return""===e||!0===e||!(Object(w.c)(e,0)<1)&&!!e},M=Object(x.d)(Object(A.m)(k(k({},E),{},{dismissLabel:Object(x.c)(d.t,"Close"),dismissible:Object(x.c)(d.g,!1),fade:Object(x.c)(d.g,!1),variant:Object(x.c)(d.t,"info")})),l.a),P=Object(O.c)({name:l.a,mixins:[j,m.a],props:M,data:function(){return{countDown:0,localShow:B(this[D])}},watch:(o={},Object(r.a)(o,D,(function(e){this.countDown=R(e),this.localShow=B(e)})),Object(r.a)(o,"countDown",(function(e){var t=this;this.clearCountDownInterval();var n=this[D];Object(v.i)(n)&&(this.$emit(c.l,e),n!==e&&this.$emit(I,e),e>0?(this.localShow=!0,this.$_countDownTimeout=setTimeout((function(){t.countDown--}),1e3)):this.$nextTick((function(){Object(f.B)((function(){t.localShow=!1}))})))})),Object(r.a)(o,"localShow",(function(e){var t=this[D];e||!this.dismissible&&!Object(v.i)(t)||this.$emit(c.k),Object(v.i)(t)||t===e||this.$emit(I,e)})),o),created:function(){this.$_filterTimer=null;var e=this[D];this.countDown=R(e),this.localShow=B(e)},beforeDestroy:function(){this.clearCountDownInterval()},methods:{dismiss:function(){this.clearCountDownInterval(),this.countDown=0,this.localShow=!1},clearCountDownInterval:function(){clearTimeout(this.$_countDownTimeout),this.$_countDownTimeout=null}},render:function(e){var t=e();if(this.localShow){var n=this.dismissible,o=this.variant,l=e();n&&(l=e(C.a,{attrs:{"aria-label":this.dismissLabel},on:{click:this.dismiss}},[this.normalizeSlot(h.i)])),t=e("div",{staticClass:"alert",class:Object(r.a)({"alert-dismissible":n},"alert-".concat(o),o),attrs:{role:"alert","aria-live":"polite","aria-atomic":!0},key:this[O.a]},[l,this.normalizeSlot()])}return e(_.a,{props:{noFade:!this.fade}},[t])}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var o=n(2),r=(n(239),n(4)),l=n(113),c=n(3),d=n(1),h=n(12),m=n(52),f=n(0),v=Object(f.d)({label:Object(f.c)(d.t),role:Object(f.c)(d.t,"status"),small:Object(f.c)(d.g,!1),tag:Object(f.c)(d.t,"span"),type:Object(f.c)(d.t,"border"),variant:Object(f.c)(d.t)},c.Eb),y=Object(r.c)({name:c.Eb,functional:!0,props:v,render:function(e,t){var n,r=t.props,data=t.data,c=t.slots,d=t.scopedSlots,f=c(),v=d||{},y=Object(m.b)(h.u,{},v,f)||r.label;return y&&(y=e("span",{staticClass:"sr-only"},y)),e(r.tag,Object(l.a)(data,{attrs:{role:y?r.role||"status":null,"aria-hidden":y?null:"true"},class:(n={},Object(o.a)(n,"spinner-".concat(r.type),r.type),Object(o.a)(n,"spinner-".concat(r.type,"-sm"),r.small),Object(o.a)(n,"text-".concat(r.variant),r.variant),n)}),[y||e()])}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return ee}));n(17),n(16),n(18),n(19);var o,r=n(57),l=n(2),c=(n(56),n(28),n(54),n(13),n(10),n(43),n(173),n(74),n(100),n(33),n(51),n(123),n(14),n(50),n(4)),d=n(3),h=n(8),m=n(34),f=n(1),v=n(35),y=n(12),w=n(15),A=n(287),x=n(5),O=n(11),C=n(27),_=n(6),S=n(37),k=n(69),T=n(7),j=n(0),E=n(22),D=n(72),I=n(75),R=n(67),B=n(29),M=n(77),P=n(26),L=n(99),N=n(151),$=n(177),z=n(579);function F(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function V(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?F(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):F(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var H=Object(k.a)("value",{type:f.b,defaultValue:[]}),W=H.mixin,Q=H.props,U=H.prop,Y=H.event,G=["text","email","tel","url","number"],K=[".b-form-tag","button","input","select"].join(" "),X=function(e){return Object(w.b)(e).map((function(e){return Object(E.h)(Object(E.g)(e))})).filter((function(e,t,n){return e.length>0&&n.indexOf(e)===t}))},Z=function(e){return Object(_.n)(e)?e:Object(_.d)(e)&&e.target.value||""},J=Object(j.d)(Object(T.m)(V(V(V(V(V(V({},B.b),Q),D.b),I.b),R.b),{},{addButtonText:Object(j.c)(f.t,"Add"),addButtonVariant:Object(j.c)(f.t,"outline-secondary"),addOnChange:Object(j.c)(f.g,!1),duplicateTagText:Object(j.c)(f.t,"Duplicate tag(s)"),feedbackAriaLive:Object(j.c)(f.t,"assertive"),ignoreInputFocusSelector:Object(j.c)(f.f,K),inputAttrs:Object(j.c)(f.p,{}),inputClass:Object(j.c)(f.e),inputId:Object(j.c)(f.t),inputType:Object(j.c)(f.t,"text",(function(e){return Object(w.a)(G,e)})),invalidTagText:Object(j.c)(f.t,"Invalid tag(s)"),limit:Object(j.c)(f.n),limitTagsText:Object(j.c)(f.t,"Tag limit reached"),noAddOnEnter:Object(j.c)(f.g,!1),noOuterFocus:Object(j.c)(f.g,!1),noTagRemove:Object(j.c)(f.g,!1),placeholder:Object(j.c)(f.t,"Add tag..."),removeOnDelete:Object(j.c)(f.g,!1),separator:Object(j.c)(f.f),tagClass:Object(j.c)(f.e),tagPills:Object(j.c)(f.g,!1),tagRemoveLabel:Object(j.c)(f.t,"Remove tag"),tagRemovedLabel:Object(j.c)(f.t,"Tag removed"),tagValidator:Object(j.c)(f.l),tagVariant:Object(j.c)(f.t,"secondary")})),d.X),ee=Object(c.c)({name:d.X,mixins:[M.a,B.a,W,D.a,I.a,R.a,P.a],props:J,data:function(){return{hasFocus:!1,newTag:"",tags:[],removedTags:[],tagsState:{all:[],valid:[],invalid:[],duplicate:[]},focusState:null}},computed:{computedInputId:function(){return this.inputId||this.safeId("__input__")},computedInputType:function(){return Object(w.a)(G,this.inputType)?this.inputType:"text"},computedInputAttrs:function(){var e=this.disabled,form=this.form;return V(V({},this.inputAttrs),{},{id:this.computedInputId,value:this.newTag,disabled:e,form:form})},computedInputHandlers:function(){return V(V({},Object(T.j)(this.bvListeners,[h.q,h.r])),{},{blur:this.onInputBlur,change:this.onInputChange,focus:this.onInputFocus,input:this.onInputInput,keydown:this.onInputKeydown,reset:this.reset})},computedSeparator:function(){return Object(w.b)(this.separator).filter(_.n).filter(C.a).join("")},computedSeparatorRegExp:function(){var e,t=this.computedSeparator;return t?new RegExp("[".concat((e=t,Object(E.a)(e).replace(v.s,"\\s")),"]+")):null},computedJoiner:function(){var e=this.computedSeparator.charAt(0);return" "!==e?"".concat(e," "):e},computeIgnoreInputFocusSelector:function(){return Object(w.b)(this.ignoreInputFocusSelector).filter(C.a).join(",").trim()},disableAddButton:function(){var e=this,t=Object(E.h)(this.newTag);return""===t||!this.splitTags(t).some((function(t){return!Object(w.a)(e.tags,t)&&e.validateTag(t)}))},duplicateTags:function(){return this.tagsState.duplicate},hasDuplicateTags:function(){return this.duplicateTags.length>0},invalidTags:function(){return this.tagsState.invalid},hasInvalidTags:function(){return this.invalidTags.length>0},isLimitReached:function(){var e=this.limit;return Object(_.h)(e)&&e>=0&&this.tags.length>=e}},watch:(o={},Object(l.a)(o,U,(function(e){this.tags=X(e)})),Object(l.a)(o,"tags",(function(e,t){Object(S.a)(e,this[U])||this.$emit(Y,e),Object(S.a)(e,t)||(e=Object(w.b)(e).filter(C.a),t=Object(w.b)(t).filter(C.a),this.removedTags=t.filter((function(t){return!Object(w.a)(e,t)})))})),Object(l.a)(o,"tagsState",(function(e,t){Object(S.a)(e,t)||this.$emit(h.O,e.valid,e.invalid,e.duplicate)})),o),created:function(){this.tags=X(this[U])},mounted:function(){var e=Object(x.e)("form",this.$el);e&&Object(O.b)(e,"reset",this.reset,h.S)},beforeDestroy:function(){var e=Object(x.e)("form",this.$el);e&&Object(O.a)(e,"reset",this.reset,h.S)},methods:{addTag:function(e){if(e=Object(_.n)(e)?e:this.newTag,!this.disabled&&""!==Object(E.h)(e)&&!this.isLimitReached){var t=this.parseTags(e);if(t.valid.length>0||0===t.all.length)if(Object(x.v)(this.getInput(),"select"))this.newTag="";else{var n=[].concat(Object(r.a)(t.invalid),Object(r.a)(t.duplicate));this.newTag=t.all.filter((function(e){return Object(w.a)(n,e)})).join(this.computedJoiner).concat(n.length>0?this.computedJoiner.charAt(0):"")}t.valid.length>0&&(this.tags=Object(w.b)(this.tags,t.valid)),this.tagsState=t,this.focus()}},removeTag:function(e){this.disabled||(this.tags=this.tags.filter((function(t){return t!==e})))},reset:function(){var e=this;this.newTag="",this.tags=[],this.$nextTick((function(){e.removedTags=[],e.tagsState={all:[],valid:[],invalid:[],duplicate:[]}}))},onInputInput:function(e){if(!(this.disabled||Object(_.d)(e)&&e.target.composing)){var t=Z(e),n=this.computedSeparatorRegExp;this.newTag!==t&&(this.newTag=t),t=Object(E.i)(t),n&&n.test(t.slice(-1))?this.addTag():this.tagsState=""===t?{all:[],valid:[],invalid:[],duplicate:[]}:this.parseTags(t)}},onInputChange:function(e){if(!this.disabled&&this.addOnChange){var t=Z(e);this.newTag!==t&&(this.newTag=t),this.addTag()}},onInputKeydown:function(e){if(!this.disabled&&Object(_.d)(e)){var t=e.keyCode,n=e.target.value||"";this.noAddOnEnter||t!==m.e?!this.removeOnDelete||t!==m.a&&t!==m.b||""!==n||(Object(O.f)(e,{propagation:!1}),this.tags=this.tags.slice(0,-1)):(Object(O.f)(e,{propagation:!1}),this.addTag())}},onClick:function(e){var t=this,n=this.computeIgnoreInputFocusSelector;n&&Object(x.e)(n,e.target,!0)||this.$nextTick((function(){t.focus()}))},onInputFocus:function(e){var t=this;"out"!==this.focusState&&(this.focusState="in",this.$nextTick((function(){Object(x.B)((function(){t.hasFocus&&(t.$emit(h.p,e),t.focusState=null)}))})))},onInputBlur:function(e){var t=this;"in"!==this.focusState&&(this.focusState="out",this.$nextTick((function(){Object(x.B)((function(){t.hasFocus||(t.$emit(h.a,e),t.focusState=null)}))})))},onFocusin:function(e){this.hasFocus=!0,this.$emit(h.q,e)},onFocusout:function(e){this.hasFocus=!1,this.$emit(h.r,e)},handleAutofocus:function(){var e=this;this.$nextTick((function(){Object(x.B)((function(){e.autofocus&&e.focus()}))}))},focus:function(){this.disabled||Object(x.d)(this.getInput())},blur:function(){this.disabled||Object(x.c)(this.getInput())},splitTags:function(e){e=Object(E.g)(e);var t=this.computedSeparatorRegExp;return(t?e.split(t):[e]).map(E.h).filter(C.a)},parseTags:function(e){var t=this,n=this.splitTags(e),o={all:n,valid:[],invalid:[],duplicate:[]};return n.forEach((function(e){Object(w.a)(t.tags,e)||Object(w.a)(o.valid,e)?Object(w.a)(o.duplicate,e)||o.duplicate.push(e):t.validateTag(e)?o.valid.push(e):Object(w.a)(o.invalid,e)||o.invalid.push(e)})),o},validateTag:function(e){var t=this.tagValidator;return!Object(j.b)(t)||t(e)},getInput:function(){return Object(x.C)("#".concat(Object(A.a)(this.computedInputId)),this.$el)},defaultRender:function(e){var t=e.addButtonText,n=e.addButtonVariant,o=e.addTag,r=e.disableAddButton,l=e.disabled,c=e.duplicateTagText,d=e.inputAttrs,h=e.inputClass,m=e.inputHandlers,f=e.inputType,v=e.invalidTagText,w=e.isDuplicate,A=e.isInvalid,x=e.isLimitReached,O=e.limitTagsText,_=e.noTagRemove,S=e.placeholder,k=e.removeTag,T=e.tagClass,j=e.tagPills,D=e.tagRemoveLabel,I=e.tagVariant,R=e.tags,B=this.$createElement,M=R.map((function(e){return e=Object(E.g)(e),B(z.a,{class:T,props:{disabled:l,noRemove:_,pill:j,removeLabel:D,tag:"li",title:e,variant:I},on:{remove:function(){return k(e)}},key:"tags_".concat(e)},e)})),P=v&&A?this.safeId("__invalid_feedback__"):null,F=c&&w?this.safeId("__duplicate_feedback__"):null,H=O&&x?this.safeId("__limit_feedback__"):null,W=[d["aria-describedby"],P,F,H].filter(C.a).join(" "),Q=B("input",{staticClass:"b-form-tags-input w-100 flex-grow-1 p-0 m-0 bg-transparent border-0",class:h,style:{outline:0,minWidth:"5rem"},attrs:V(V({},d),{},{"aria-describedby":W||null,type:f,placeholder:S||null}),domProps:{value:d.value},on:m,directives:[{name:"model",value:d.value}],ref:"input"}),U=B(L.a,{staticClass:"b-form-tags-button py-0",class:{invisible:r},style:{fontSize:"90%"},props:{disabled:r||x,variant:n},on:{click:function(){return o()}},ref:"button"},[this.normalizeSlot(y.a)||t]),Y=this.safeId("__tag_list__"),G=B("li",{staticClass:"b-form-tags-field flex-grow-1",attrs:{role:"none","aria-live":"off","aria-controls":Y},key:"tags_field"},[B("div",{staticClass:"d-flex",attrs:{role:"group"}},[Q,U])]),K=B("ul",{staticClass:"b-form-tags-list list-unstyled mb-0 d-flex flex-wrap align-items-center",attrs:{id:Y},key:"tags_list"},[M,G]),X=B();if(v||c||O){var Z=this.feedbackAriaLive,J=this.computedJoiner,ee=B();P&&(ee=B(N.a,{props:{id:P,ariaLive:Z,forceShow:!0},key:"tags_invalid_feedback"},[this.invalidTagText,": ",this.invalidTags.join(J)]));var te=B();F&&(te=B($.a,{props:{id:F,ariaLive:Z},key:"tags_duplicate_feedback"},[this.duplicateTagText,": ",this.duplicateTags.join(J)]));var ne=B();H&&(ne=B($.a,{props:{id:H,ariaLive:Z},key:"tags_limit_feedback"},[O])),X=B("div",{attrs:{"aria-live":"polite","aria-atomic":"true"},key:"tags_feedback"},[ee,te,ne])}return[K,X]}},render:function(e){var t=this.name,n=this.disabled,o=this.required,form=this.form,r=this.tags,l=this.computedInputId,c=this.hasFocus,d=this.noOuterFocus,h=V({tags:r.slice(),inputAttrs:this.computedInputAttrs,inputType:this.computedInputType,inputHandlers:this.computedInputHandlers,removeTag:this.removeTag,addTag:this.addTag,reset:this.reset,inputId:l,isInvalid:this.hasInvalidTags,invalidTags:this.invalidTags.slice(),isDuplicate:this.hasDuplicateTags,duplicateTags:this.duplicateTags.slice(),isLimitReached:this.isLimitReached,disableAddButton:this.disableAddButton},Object(T.k)(this.$props,["addButtonText","addButtonVariant","disabled","duplicateTagText","form","inputClass","invalidTagText","limit","limitTagsText","noTagRemove","placeholder","required","separator","size","state","tagClass","tagPills","tagRemoveLabel","tagVariant"])),m=this.normalizeSlot(y.g,h)||this.defaultRender(h),f=e("output",{staticClass:"sr-only",attrs:{id:this.safeId("__selected_tags__"),role:"status",for:l,"aria-live":c?"polite":"off","aria-atomic":"true","aria-relevant":"additions text"}},this.tags.join(", ")),v=e("div",{staticClass:"sr-only",attrs:{id:this.safeId("__removed_tags__"),role:"status","aria-live":c?"assertive":"off","aria-atomic":"true"}},this.removedTags.length>0?"(".concat(this.tagRemovedLabel,") ").concat(this.removedTags.join(", ")):""),w=e();if(t&&!n){var A=r.length>0;w=(A?r:[""]).map((function(n){return e("input",{class:{"sr-only":!A},attrs:{type:A?"hidden":"text",value:n,required:o,name:t,form:form},key:"tag_input_".concat(n)})}))}return e("div",{staticClass:"b-form-tags form-control h-auto",class:[{focus:c&&!d&&!n,disabled:n},this.sizeFormClass,this.stateClass],attrs:{id:this.safeId(),role:"group",tabindex:n||d?null:"-1","aria-describedby":this.safeId("__selected_tags__")},on:{click:this.onClick,focusin:this.onFocusin,focusout:this.onFocusout}},[f,v,m,w])}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));n(17),n(16),n(13),n(10),n(18),n(14),n(19);var o,r=n(2),l=(n(51),n(28),n(54),n(4)),c=n(3),d=n(8),h=n(1),m=n(12),f=n(551),v=n(5),y=n(6),w=n(69),A=n(7),x=n(0),O=n(29),C=n(543),_=n(99),S=n(586),k=n(580);function T(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function j(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var E=Object(w.a)("value",{type:h.k}),D=E.mixin,I=E.props,R=E.prop,B=E.event,M=Object(A.j)(S.b,["block","hidden","id","noKeyNav","roleDescription","value","width"]),P=Object(A.j)(k.b,["formattedValue","id","lang","rtl","value"]),L=Object(x.d)(Object(A.m)(j(j(j(j(j({},O.b),I),M),P),{},{calendarWidth:Object(x.c)(h.t,"270px"),closeButton:Object(x.c)(h.g,!1),closeButtonVariant:Object(x.c)(h.t,"outline-secondary"),dark:Object(x.c)(h.g,!1),labelCloseButton:Object(x.c)(h.t,"Close"),labelResetButton:Object(x.c)(h.t,"Reset"),labelTodayButton:Object(x.c)(h.t,"Select today"),noCloseOnSelect:Object(x.c)(h.g,!1),resetButton:Object(x.c)(h.g,!1),resetButtonVariant:Object(x.c)(h.t,"outline-danger"),resetValue:Object(x.c)(h.k),todayButton:Object(x.c)(h.g,!1),todayButtonVariant:Object(x.c)(h.t,"outline-primary")})),c.K),N=Object(l.c)({name:c.K,mixins:[O.a,D],props:L,data:function(){return{localYMD:Object(f.f)(this[R])||"",isVisible:!1,localLocale:null,isRTL:!1,formattedValue:"",activeYMD:""}},computed:{calendarYM:function(){return this.activeYMD.slice(0,-3)},computedLang:function(){return(this.localLocale||"").replace(/-u-.*$/i,"")||null},computedResetValue:function(){return Object(f.f)(Object(f.a)(this.resetValue))||""}},watch:(o={},Object(r.a)(o,R,(function(e){this.localYMD=Object(f.f)(e)||""})),Object(r.a)(o,"localYMD",(function(e){this.isVisible&&this.$emit(B,this.valueAsDate?Object(f.n)(e)||null:e||"")})),Object(r.a)(o,"calendarYM",(function(e,t){if(e!==t&&t)try{this.$refs.control.updatePopper()}catch(e){}})),o),methods:{focus:function(){this.disabled||Object(v.d)(this.$refs.control)},blur:function(){this.disabled||Object(v.c)(this.$refs.control)},setAndClose:function(e){var t=this;this.localYMD=e,this.noCloseOnSelect||this.$nextTick((function(){t.$refs.control.hide(!0)}))},onSelected:function(e){var t=this;this.$nextTick((function(){t.setAndClose(e)}))},onInput:function(e){this.localYMD!==e&&(this.localYMD=e)},onContext:function(e){var t=e.activeYMD,n=e.isRTL,o=e.locale,r=e.selectedYMD,l=e.selectedFormatted;this.isRTL=n,this.localLocale=o,this.formattedValue=l,this.localYMD=r,this.activeYMD=t,this.$emit(d.f,e)},onTodayButton:function(){this.setAndClose(Object(f.f)(Object(f.a)(Object(f.b)(),this.min,this.max)))},onResetButton:function(){this.setAndClose(this.computedResetValue)},onCloseButton:function(){this.$refs.control.hide(!0)},onShow:function(){this.isVisible=!0},onShown:function(){var e=this;this.$nextTick((function(){Object(v.d)(e.$refs.calendar),e.$emit(d.M)}))},onHidden:function(){this.isVisible=!1,this.$emit(d.t)},defaultButtonFn:function(e){var t=e.isHovered,n=e.hasFocus;return this.$createElement(t||n?C.b:C.a,{attrs:{"aria-hidden":"true"}})}},render:function(e){var t=this.localYMD,n=this.disabled,o=this.readonly,l=this.dark,c=this.$props,d=this.$scopedSlots,h=Object(y.p)(this.placeholder)?this.labelNoDateSelected:this.placeholder,f=[];if(this.todayButton){var label=this.labelTodayButton;f.push(e(_.a,{props:{disabled:n||o,size:"sm",variant:this.todayButtonVariant},attrs:{"aria-label":label||null},on:{click:this.onTodayButton}},label))}if(this.resetButton){var v=this.labelResetButton;f.push(e(_.a,{props:{disabled:n||o,size:"sm",variant:this.resetButtonVariant},attrs:{"aria-label":v||null},on:{click:this.onResetButton}},v))}if(this.closeButton){var w=this.labelCloseButton;f.push(e(_.a,{props:{disabled:n,size:"sm",variant:this.closeButtonVariant},attrs:{"aria-label":w||null},on:{click:this.onCloseButton}},w))}f.length>0&&(f=[e("div",{staticClass:"b-form-date-controls d-flex flex-wrap",class:{"justify-content-between":f.length>1,"justify-content-end":f.length<2}},f)]);var O=e(S.a,{staticClass:"b-form-date-calendar w-100",props:j(j({},Object(x.e)(M,c)),{},{hidden:!this.isVisible,value:t,valueAsDate:!1,width:this.calendarWidth}),on:{selected:this.onSelected,input:this.onInput,context:this.onContext},scopedSlots:Object(A.k)(d,["nav-prev-decade","nav-prev-year","nav-prev-month","nav-this-month","nav-next-month","nav-next-year","nav-next-decade"]),key:"calendar",ref:"calendar"},f);return e(k.a,{staticClass:"b-form-datepicker",props:j(j({},Object(x.e)(P,c)),{},{formattedValue:t?this.formattedValue:"",id:this.safeId(),lang:this.computedLang,menuClass:[{"bg-dark":l,"text-light":l},this.menuClass],placeholder:h,rtl:this.isRTL,value:t}),on:{show:this.onShow,shown:this.onShown,hidden:this.onHidden},scopedSlots:Object(r.a)({},m.d,d[m.d]||this.defaultButtonFn),ref:"control"},[O])}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));n(17),n(16),n(13),n(10),n(18),n(14),n(19);var o,r=n(2),l=(n(28),n(54),n(56),n(43),n(51),n(4)),c=n(3),d=n(8),h=n(1),m=n(12),f=n(5),v=n(6),y=n(69),w=n(7),A=n(0),x=n(29),O=n(543),C=n(99),_=n(580),S=n(587);function k(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function T(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var j=Object(y.a)("value",{type:h.t,defaultValue:""}),E=j.mixin,D=j.props,I=j.prop,R=j.event,B=Object(w.j)(S.b,["hidden","id","value"]),M=Object(w.j)(_.b,["formattedValue","id","lang","rtl","value"]),P=Object(A.d)(Object(w.m)(T(T(T(T(T({},x.b),D),B),M),{},{closeButtonVariant:Object(A.c)(h.t,"outline-secondary"),labelCloseButton:Object(A.c)(h.t,"Close"),labelNowButton:Object(A.c)(h.t,"Select now"),labelResetButton:Object(A.c)(h.t,"Reset"),noCloseButton:Object(A.c)(h.g,!1),nowButton:Object(A.c)(h.g,!1),nowButtonVariant:Object(A.c)(h.t,"outline-primary"),resetButton:Object(A.c)(h.g,!1),resetButtonVariant:Object(A.c)(h.t,"outline-danger"),resetValue:Object(A.c)(h.k)})),c.ab),L=Object(l.c)({name:c.ab,mixins:[x.a,E],props:P,data:function(){return{localHMS:this[I]||"",localLocale:null,isRTL:!1,formattedValue:"",isVisible:!1}},computed:{computedLang:function(){return(this.localLocale||"").replace(/-u-.*$/i,"")||null}},watch:(o={},Object(r.a)(o,I,(function(e){this.localHMS=e||""})),Object(r.a)(o,"localHMS",(function(e){this.isVisible&&this.$emit(R,e||"")})),o),methods:{focus:function(){this.disabled||Object(f.d)(this.$refs.control)},blur:function(){this.disabled||Object(f.c)(this.$refs.control)},setAndClose:function(e){var t=this;this.localHMS=e,this.$nextTick((function(){t.$refs.control.hide(!0)}))},onInput:function(e){this.localHMS!==e&&(this.localHMS=e)},onContext:function(e){var t=e.isRTL,n=e.locale,o=e.value,r=e.formatted;this.isRTL=t,this.localLocale=n,this.formattedValue=r,this.localHMS=o||"",this.$emit(d.f,e)},onNowButton:function(){var e=new Date,t=[e.getHours(),e.getMinutes(),this.showSeconds?e.getSeconds():0].map((function(e){return"00".concat(e||"").slice(-2)})).join(":");this.setAndClose(t)},onResetButton:function(){this.setAndClose(this.resetValue)},onCloseButton:function(){this.$refs.control.hide(!0)},onShow:function(){this.isVisible=!0},onShown:function(){var e=this;this.$nextTick((function(){Object(f.d)(e.$refs.time),e.$emit(d.M)}))},onHidden:function(){this.isVisible=!1,this.$emit(d.t)},defaultButtonFn:function(e){var t=e.isHovered,n=e.hasFocus;return this.$createElement(t||n?O.j:O.i,{attrs:{"aria-hidden":"true"}})}},render:function(e){var t=this.localHMS,n=this.disabled,o=this.readonly,l=this.$props,c=Object(v.p)(this.placeholder)?this.labelNoTimeSelected:this.placeholder,d=[];if(this.nowButton){var label=this.labelNowButton;d.push(e(C.a,{props:{size:"sm",disabled:n||o,variant:this.nowButtonVariant},attrs:{"aria-label":label||null},on:{click:this.onNowButton},key:"now-btn"},label))}if(this.resetButton){d.length>0&&d.push(e("span","Â "));var h=this.labelResetButton;d.push(e(C.a,{props:{size:"sm",disabled:n||o,variant:this.resetButtonVariant},attrs:{"aria-label":h||null},on:{click:this.onResetButton},key:"reset-btn"},h))}if(!this.noCloseButton){d.length>0&&d.push(e("span","Â "));var f=this.labelCloseButton;d.push(e(C.a,{props:{size:"sm",disabled:n,variant:this.closeButtonVariant},attrs:{"aria-label":f||null},on:{click:this.onCloseButton},key:"close-btn"},f))}d.length>0&&(d=[e("div",{staticClass:"b-form-date-controls d-flex flex-wrap",class:{"justify-content-between":d.length>1,"justify-content-end":d.length<2}},d)]);var y=e(S.a,{staticClass:"b-form-time-control",props:T(T({},Object(A.e)(B,l)),{},{value:t,hidden:!this.isVisible}),on:{input:this.onInput,context:this.onContext},ref:"time"},d);return e(_.a,{staticClass:"b-form-timepicker",props:T(T({},Object(A.e)(M,l)),{},{id:this.safeId(),value:t,formattedValue:t?this.formattedValue:"",placeholder:c,rtl:this.isRTL,lang:this.computedLang}),on:{show:this.onShow,shown:this.onShown,hidden:this.onHidden},scopedSlots:Object(r.a)({},m.d,this.$scopedSlots[m.d]||this.defaultButtonFn),ref:"control"},[y])}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));n(17),n(16),n(13),n(10),n(18),n(14),n(19);var o=n(2),r=n(4),l=n(3),c=n(1),d=n(7),h=n(0),m=n(26),f=n(661);function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w=Object(d.j)(f.b,["label","labelHtml"]),A=Object(h.d)(Object(d.m)(y(y({},w),{},{animated:Object(h.c)(c.g,!1),height:Object(h.c)(c.t),max:Object(h.c)(c.o,100),precision:Object(h.c)(c.o,0),showProgress:Object(h.c)(c.g,!1),showValue:Object(h.c)(c.g,!1),striped:Object(h.c)(c.g,!1)})),l.Bb),x=Object(r.c)({name:l.Bb,mixins:[m.a],provide:function(){var e=this;return{getBvProgress:function(){return e}}},props:A,computed:{progressHeight:function(){return{height:this.height||null}}},render:function(e){var t=this.normalizeSlot();return t||(t=e(f.a,{props:Object(h.e)(w,this.$props)})),e("div",{staticClass:"progress",style:this.progressHeight},[t])}})}])]);