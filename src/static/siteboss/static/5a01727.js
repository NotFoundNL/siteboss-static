(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{736:function(t,e,n){t.exports={}},752:function(t,e,n){"use strict";n(736)},784:function(t,e,n){"use strict";n.r(e);n(51),n(44),n(59),n(36);var o=n(721),r=n(722),l={props:{type:{type:String,required:!0},category:{type:String,required:!0}},setup:function(){return{v$:Object(o.a)()}},data:function(){return{name:"",emails:"",locales:[],inactive:!1}},mounted:function(){this.locales=this.languages.map((function(t){return t.value}))},validations:function(){return{name:{required:r.b.withMessage(this.$t("common.required"),r.d),minLength:r.b.withMessage((function(t){var e=t.$params;return"Een naam moet minimaal ".concat(e.min," tekens lang zijn.")}),Object(r.c)(4))},locales:{required:r.b.withMessage(this.$t("common.required"),r.d)}}},computed:{languages:function(){var t,e;return null!==(t=null===(e=this.$store.state.locales)||void 0===e||null===(e=e.list)||void 0===e?void 0:e.map((function(t){return{text:t.language,value:t.url}})))&&void 0!==t?t:[]},friendlyName:function(){return"form"===this.type?"formulier":"combinatie"}},methods:{setMailArray:function(t){0!==t.length&&(this.emails=t.join(","))},onSubmit:function(){this.v$.$touch(),this.v$.$invalid||("form"===this.type&&this.$refs.emailList.emailInput&&(this.emails=this.emails.concat([this.$refs.emailList.emailInput])),this.confirm())},confirm:function(){var t=this;this.$axios.post("/forms/",{name:this.name,type:this.type,inactive:this.inactive,category:this.category,mail:this.emails,locales:this.locales.join(",")}).then((function(){t.$emit("done",t.name)})).catch((function(e){409===e.response.status&&void 0!==e.response.data.message?t.$sbToast.error(e.response.data.message):alert("Error creating form")}))}}},c=(n(752),n(63)),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("CommonModalsModal",{on:{confirm:t.confirm,cancel:function(e){return t.$emit("cancel")}}},[e("div",{attrs:{slot:"title"},slot:"title"},[t._v("Een "+t._s(t.friendlyName)+" aanmaken")]),t._v(" "),e("div",{attrs:{slot:"body"},slot:"body"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("b-form-group",{attrs:{id:"fieldset-1","label-for":"name"},scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n          Naam "),e("span",{staticClass:"required-star"},[t._v(" *")])]},proxy:!0}])},[t._v(" "),e("b-form-input",{attrs:{id:"name",placeholder:"Naam",name:"naam"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSubmit.apply(null,arguments)}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),t._l(t.v$.name.$errors,(function(n){return e("div",{key:n.$uid,staticClass:"is-invalid"},[e("div",{staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v("\n            "+t._s(n.$message)+"\n          ")])])}))],2),t._v(" "),t.languages&&t.languages.length>1?e("b-form-group",{attrs:{id:"fieldset-2"},scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n          Vertalingen "),e("span",{staticClass:"required-star"},[t._v(" *")])]},proxy:!0}],null,!1,35351449)},[t._v(" "),e("b-form-checkbox-group",{attrs:{id:"locales",options:t.languages,name:"locales",stacked:""},model:{value:t.locales,callback:function(e){t.locales=e},expression:"locales"}}),t._v(" "),t._l(t.v$.locales.$errors,(function(n){return e("div",{key:n.$uid,staticClass:"is-invalid"},[e("div",{staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v("\n            "+t._s(n.$message)+"\n          ")])])}))],2):t._e(),t._v(" "),"form"==t.type?e("FormbuilderModalsFormsEmailList",{ref:"emailList",on:{"email-update":t.setMailArray}}):t._e()],1)]),t._v(" "),e("div",{attrs:{slot:"btnConfirm"},slot:"btnConfirm"},[e("button",{staticClass:"btn btn-primary",on:{click:t.onSubmit}},[t._v("\n      "+t._s(t.$t("save"))+"\n    ")])])])}),[],!1,null,"1aec9335",null);e.default=component.exports;installComponents(component,{FormbuilderModalsFormsEmailList:n(729).default,CommonModalsModal:n(546).default})},834:function(t,e,n){"use strict";n.r(e);var o=n(38),r=(n(10),n(14),n(51),n(98),{asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$axios,e.next=3,n.get("/forms/combinations/");case 3:return o=e.sent,e.abrupt("return",{formList:o.data});case 5:case"end":return e.stop()}}),e)})))()},data:function(){return{formList:[],addModal:{show:!1,type:"combination"}}},created:function(){var t=[{text:this.$t("forms.forms"),to:"/forms"},{text:this.$t("forms.combinations"),to:"/forms/combinations"}];this.$store.commit("setBreadcrumb",t)},methods:{doneModal:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.addModal.show=!1,n.next=3,e.$axios.get("/forms/combinations/");case 3:n.sent.data.forEach((function(form){form.name===t&&e.$nuxt.$router.push(e.localePath("/forms/form/".concat(form.id)))}));case 5:case"end":return n.stop()}}),n)})))()}}}),l=n(63),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",[e("FormbuilderFormList",{attrs:{list:t.formList},on:{"refresh-list":function(e){return t.$nuxt.refresh()}}},[e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"primary",title:"Nieuwe combinatie"},on:{click:function(e){t.addModal.show=!0}}},[t._v("\n      +\n    ")])],1),t._v(" "),t.addModal.show?e("FormbuilderModalsFormsAdd",{attrs:{type:t.addModal.type,category:""},on:{done:t.doneModal,cancel:function(e){t.addModal.show=!1}}}):t._e()],1)}),[],!1,null,"af8df972",null);e.default=component.exports;installComponents(component,{FormbuilderFormList:n(765).default,FormbuilderModalsFormsAdd:n(784).default})}}]);