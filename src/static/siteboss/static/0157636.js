(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{778:function(t,e,o){t.exports={}},823:function(t,e,o){"use strict";o(778)},849:function(t,e,o){"use strict";o.r(e);o(50),o(403),o(13),o(10),o(91),o(114);var n={name:"Login",layout:"empty",fetch:function(){var t=this;this.$axios.get("/settings/",{baseURL:"/siteboss/api/"}).then((function(e){t.siteinfo=e.data,t.productName=e.data.productName,t.productLogo=e.data.productLogo,t.availableLocales=e.data.availableLocales,null===t.$store.state.selectedLocale&&(t.defaultLocale=e.data.defaultLocale,t.$i18n.setLocale(t.defaultLocale)),t.showUI=!0})).catch((function(e){t.showUI=!0,t.error="Probleem bij het laden van de website, probeer de pagina te herladen."}))},data:function(){return{showUI:!1,publicHelpLink:null,siteinfo:{messages:[],logo:null,background:null,title:"SiteBoss",photo:null,documentationUrl:null},productName:"",productLogo:"",error:null,defaultLocale:null,availableLocales:[],loginError:null}},computed:{getAvailableLocales:function(){var t=this;return this.$i18n.locales.filter((function(i){return i.code!==t.$i18n.locale})).filter((function(i){return t.availableLocales.includes(i.code)}))}},mounted:function(){void 0!==this.$route.query.error&&this.$store.state.loginError.id===this.$route.query.error&&(this.loginError=this.$store.state.loginError)},methods:{callButtonPost:function(){var t=this;this.$axios.post(this.loginError.link).then((function(e){t.loginError.link=null,t.loginError.message=e.data.message}))},setSelectedLocale:function(t){this.$store.commit("setSelectedLocale",t),this.defaultLocale=t,this.$i18n.setLocale(t)},login:function(){!0===this.$auth.loggedIn?this.$router.push("/"):this.$auth.loginWith("oidc")}}},r=(o(823),o(63)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-wrapper d-flex flex-column vh-100"},[t.siteinfo.background?e("img",{attrs:{id:"background-image",src:t.siteinfo.background.url}}):t._e(),t._v(" "),e("b-navbar",{staticClass:"added-shadow",attrs:{toggleable:"lg",type:"dark",variant:"primary"}},[e("b-navbar-brand",[e("a",{staticClass:"logo",attrs:{href:"https://siteboss.nl"}},[e("img",{attrs:{src:t.productLogo}}),t._v("\n        "+t._s(t.productName)+"\n      ")])]),t._v(" "),e("b-navbar-nav",{staticClass:"ml-auto"},[t.siteinfo.documentationUrl?e("b-nav-item",{attrs:{href:t.siteinfo.documentationUrl,target:"_blank"}},[t._v(t._s(t.$t("help")))]):t._e(),t._v(" "),t.getAvailableLocales.length>0?e("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v("\n          "+t._s(t.$t("language"))+"\n        ")]},proxy:!0}],null,!1,2907358849)},[t._v(" "),t._l(t.getAvailableLocales,(function(o){return e("b-dropdown-item",{key:o.code,attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.setSelectedLocale(o.code)}}},[t._v("\n          "+t._s(o.name)+"\n        ")])}))],2):t._e()],1)],1),t._v(" "),e("div",{staticClass:"flex-grow-1"},[e("div",{staticClass:"page-inner bg-brand-gradient"},[e("div",{staticClass:"page-content-wrapper bg-transparent m-0"},[t.showUI?e("div",{staticClass:"flex-1"},[e("div",{staticClass:"container py-4 py-lg-5 my-lg-5 px-4 px-sm-0"},[e("div",{staticClass:"d-flex flex-column"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col col-md-6 col-lg-7 hidden-sm-down"},[t.siteinfo.messages?e("div",t._l(t.siteinfo.messages,(function(o,n){return e("div",{key:n,staticClass:"alert border-warning bg-white color-warning-900",attrs:{role:"alert"},domProps:{textContent:t._s(o)}})})),0):t._e()]),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-5 col-xl-4 ml-auto"},[e("h1",{staticClass:"text-white fw-300 mb-3 d-sm-block d-md-none"},[t._v("\n                    "+t._s(t.siteinfo.title)+"\n                  ")]),t._v(" "),e("div",{staticClass:"card p-4 rounded-plus bg-faded"},[t.loginError?e("div",[e("p",[t._v(t._s(t.loginError.message))]),t._v(" "),t.loginError.link?e("button",{staticClass:"btn btn-block btn-primary btn-sm",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.callButtonPost.apply(null,arguments)}}},[t._v("\n                        "+t._s(t.loginError.buttonText)+"\n                      ")]):t._e()]):e("form",{attrs:{id:"login-form",novalidate:"",method:"post"},on:{submit:function(e){return e.preventDefault(),t.login()}}},[t.siteinfo.logo?e("img",{attrs:{id:"client-logo",src:t.siteinfo.logo}}):t._e(),t._v(" "),t.error?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e("strong",[t._v("Fout:")]),t._v("\n                        "+t._s(t.error)+"\n                      ")]):t._e(),t._v(" "),t.error?t._e():e("div",{staticClass:"form-group d-flex"},[e("button",{staticClass:"btn btn-block btn-lg",attrs:{id:"js-login-btn",type:"submit"}},[t._v("\n                          Login\n                        ")])])])])])])])])]):t._e()])])]),t._v(" "),e("div",{staticClass:"flex-grow powered-by"},[t._v("\n    Powered by\n    "),e("a",{staticClass:"text-white opacity-40 fw-500",attrs:{href:"https://notfound.nl",target:"_blank"}},[t._v("SiteBoss")]),t._v(" "),t.siteinfo.background?e("span",[t._v("- Background: "+t._s(t.siteinfo.background.credits.license)+"\n      "),e("a",{attrs:{target:"_blank",href:t.siteinfo.background.credits.url}},[t._v(t._s(t.siteinfo.background.credits.name))])]):t._e()])],1)}),[],!1,null,"34b37124",null);e.default=component.exports}}]);